{"version":3,"file":"static/js/662166.04fd043a.chunk.js","mappings":"iMAAIA,G,UAAYC,OAAOC,gBACnBC,EAAWA,CAACC,EAAQC,KACtB,IAAK,IAAIC,KAAQD,EACfL,EAAUI,EAAQE,EAAM,CACtBC,IAAKF,EAAIC,GACTE,YAAY,EACZC,cAAc,EACdC,IAAMC,GAAaN,EAAIC,GAAQ,IAAMK,GACrC,EAKN,GAA6B,oBAAlBC,EAAAA,cAA8B,CAYvC,MAAM,IAAIC,MAXE,CACV,gEACA,yHACA,GACA,UACA,8CACA,GACA,SACA,kBACA,+CAEkBC,KAAK,MAC3B,EAU0BC,EAAAA,EAAAA,eAAe,CACvCC,cAAeA,KACb,MAAM,IAAIH,MAAM,uBAAuB,EAEzCI,WAAY,OAiDd,SAASC,IACP,MAAO,CAAC,MAAO,OAAQ,KAAKJ,KAAK,GACnC,CACA,IAAIK,EAAeA,IACV,CAAC,IAAK,MAAML,KAAK,IAEtBM,EAAyBA,KAC3B,MAAMC,EAA6B,qBAAXC,QAA0BA,OAAOC,kBACnDC,EAAgC,qBAAXF,QAAoD,qBAAnBA,OAAOG,SAAyD,qBAAvBH,OAAOG,QAAQC,MAA+E,SAAvDJ,OAAOG,QAAQN,KAAgBD,MAAyF,eAAvDI,OAAOG,QAAQN,KAAgBD,MAA0D,qBAAXI,QAAsE,qBAArCA,OAAOK,2BAEnU,MAAO,CACLC,SAFiC,qBAAXN,QAA0BA,OAAOO,kBAGvDL,cACAH,WACD,EAICS,EAAwBC,EAAAA,cACxBC,EAA0B,GAC1BC,EAA4BA,KAC9B,IAAKb,IAAyBQ,SAC5B,OAEF,MAAMM,EAAQ,IAAIC,MAAML,EAAuB,CAC7CM,KAAAA,CAAMhC,EAAQiC,EAASC,GACrB,GAAIN,EAAwBO,SAASD,EAAS,IAAK,CACjD,MAAOE,EAAOC,KAAUC,GAAQJ,EAC1BK,EAAW,IACZF,GAAS,CAAC,EACbG,OAAO,IAAI/B,OAAQ+B,OAErB,OAAOC,QAAQT,MAAMhC,EAAQiC,EAAS,CAACG,EAAOG,KAAaD,GAC7D,CACA,OAAOG,QAAQT,MAAMhC,EAAQiC,EAASC,EACxC,IAEFP,EAAAA,cAAsBG,CAAK,EAEzBY,EAA0BC,IAC5Bf,EAAwBgB,KAAKD,GAC7Bd,GAA2B,EAQzBgB,GAAkBC,EAAAA,EAAAA,gBAAe,GASjCC,EAAcA,KACTC,EAAAA,EAAAA,YAAYH,GAIrB,SAASI,EAAOC,GACd,OAAOC,QAAQD,EACjB,CAGA,IAAIE,EAAU,UAgFVC,GAAeC,EAAAA,EAAAA,aAtBaC,CAAClB,EAAOmB,KACtC,MAAM,MAAEC,KAAUC,GAAUrB,EACtBsB,GAAcC,EAAAA,EAAAA,UAAS,KACpB,CACLC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,MAAO,OACPC,OAAQ,OACRC,QAAS,OACTC,cAAe,YACZZ,KAEJ,CAACA,IACJ,OAAuBa,EAAAA,EAAAA,KAAK,MAAO,CACjCd,MACAC,MAAOE,KACJD,GACH,IAMAa,GAAkBC,EAAAA,EAAAA,eAAe,MAOjCC,EAAkBC,EAAAA,cAAqB,CACzCC,iBAAkBA,KAChB,MAAM,IAAIlE,MAAM,yCAAyC,EAE3DmE,mBAAoBA,KAClB,MAAM,IAAInE,MAAM,yCAAyC,EAE3DoE,UAAW,KAETC,EAAkCJ,EAAAA,cAAqB,CACzDK,OAAQ,CAAC,EACTC,UAAWA,KACT,MAAM,IAAIvE,MAAM,2CAA2C,IAsC3DwE,GAAeC,EAAAA,EAAAA,eAAe,CAChCC,SAAUA,IAAM,EAChBC,cAAe,IAEbC,EAAWA,KACb,MAAMC,GAAUC,EAAAA,EAAAA,YAAYN,IACrBO,EAAOC,IAAYC,EAAAA,EAAAA,WAAU,IAAMJ,EAAQH,aAC5CQ,GAAcC,EAAAA,EAAAA,QAAON,GAQ3B,OAPAO,EAAAA,EAAAA,YAAW,KACLF,EAAYG,UAAYR,IAG5BK,EAAYG,QAAUR,EACtBG,EAASH,EAAQH,UAAS,GACzB,CAACG,IACGE,CAAK,EAIVO,EAAkC,CAAC,EACvChG,EAASgG,EAAiC,CACxCC,oBAAqBA,IAAMA,EAC3BC,oBAAqBA,IAAMA,EAC3BC,gBAAiBA,IAAMA,EACvBC,oBAAqBA,IAAMA,EAC3BC,qBAAsBA,IAAMA,EAC5BC,uBAAwBA,IAAMA,EAC9BC,gBAAiBA,IAAMA,EACvBC,mBAAoBA,IAAMA,IAS5B,IAAIC,GAAqBC,EAAAA,EAAAA,eAAe,CACtCC,aAAc,GACdC,oBAAqBA,KACb,EAERC,sBAAuBA,KACf,EAERC,eAAgBA,KACR,EAERC,iBAAkBA,KACV,EAERC,8BAA+BA,KACvB,EAERC,8BAA+BA,KACvB,EAERC,QAAS,GACTC,2BAA4B,KAC5BC,cAAe,KACfC,iBAAkBA,KACV,IA0BNC,GAAqBC,EAAAA,EAAAA,eAAe,CACtCjF,MAAO,CAAC,EACRkF,YAAaA,KACX,MAAM,IAAI9G,MAAM,kBAAkB,EAEpC+G,aAAcA,KACZ,MAAM,IAAI/G,MAAM,kBAAkB,IAqClCgH,GAlCyBC,EAAAA,YAkCD,CAC1B,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,IACP,MAAO,MAELC,EAAU,CAAC,EAgBXC,EAAoBC,GAClBA,EAAKC,WAAW,KACXF,EAAiBC,EAAKE,UAAU,IAElCF,EAmBLG,EAAcH,IAChB,GAAIA,EAAKC,WAAW,YAAcD,EAAKC,WAAW,YAChD,MAAM,IAAIG,UAAU,oDAAoDJ,wHAE1E,GAAIA,EAAKC,WAAW,OAASD,EAAKC,WAAW,MAC3C,MAAM,IAAIG,UAAU,uDAAuDJ,oIAE7E,GAAIA,EAAKC,WAAW,WAAaD,EAAKC,WAAW,UAAYD,EAAKC,WAAW,SAAWD,EAAKC,WAAW,SAAWD,EAAKC,WAAW,SAAWD,EAAKC,WAAW,SAAWD,EAAKC,WAAW,OAASD,EAAKC,WAAW,OAASD,EAAKC,WAAW,MACzO,MAAM,IAAIG,UAAU,uDAAuDJ,oIAE7E,GAAIA,EAAKC,WAAW,WAClB,MAAM,IAAIG,UAAU,oEAAoEJ,gEAE1F,MAAMK,EA5CuBL,KAC7B,IAAK,MAAMM,KAAOtI,OAAOuI,KAAKX,GAC5B,GAAII,EAAK1F,SAASgG,GAChB,MAAO,CAAEE,aAAa,EAAMC,QAASH,GAGzC,MAAO,CAAEE,aAAa,EAAO,EAsCTE,CAAwBV,GAnD9BW,MAoDVN,EAAYG,cApDFG,EAqDH,oEAAoEN,EAAYI,qIApDvFX,EAAQa,KAGZC,QAAQC,KAAKF,GACbb,EAAQa,IAAW,IAkDnB,MAAMG,EAzBiBd,IACFA,EAAKe,MAAM,KACEC,KAAKC,GAC9BC,mBAAmBD,KAEApI,KAAK,KAoBZsI,CAAkBnB,GACjCoB,EAnCKpB,KACX,GAAsB,qBAAX3G,QAA0BA,OAAOgI,oBAAqB,CAC/D,GAAIrB,EAAKC,WAAW5G,OAAOgI,qBACzB,MAAM,IAAIzI,MAAM,cAAcoH,+CAAkD3G,OAAOgI,mEAEzF,MAAO,GAAGhI,OAAOgI,uBAAuBtB,EAAiBC,IAC3D,CACA,MAAO,IAAID,EAAiBC,IAAO,EA4BjBsB,CAAMR,GACxB,OAAKM,EAAUnB,WAAW,KAGnBmB,EAFE,IAAIA,GAEG,EAIdG,EAAa,iBACbC,EAAa,iBAoCbC,EAAmCC,GAC9BC,KAAKC,MAAMF,GAAM,CAACG,EAAGxG,IACL,kBAAVA,GAAsBA,EAAM4E,WAAWsB,GACzC,IAAIO,KAAKzG,EAAM0G,QAAQR,EAAY,KAEvB,kBAAVlG,GAAsBA,EAAM4E,WAAWuB,GACzCrB,EAAW9E,EAAM0G,QAAQP,EAAY,KAEvCnG,IAeP2G,GAAmB,EAUnBC,EAAgBA,KAClB,GAAsB,qBAAX5I,OAET,OAXE2I,IAGJA,GAAmB,EACnBpB,QAAQC,KAAK,wHACbD,QAAQC,KAAK,iEACbD,QAAQC,KAAK,2DAKJ,CAAC,EAEV,GAAI1H,IAAyBC,SAC3B,MAAM,IAAIR,MAAM,0JAElB,MAAMsJ,EAAQ7I,OAAO8I,oBACrB,IAAKD,EACH,MAAO,CAAC,EAGV,OADeT,EAAgCS,EAClC,EAgCf,SAASE,EAAkBC,EAAQC,EAAYC,GAC7C,GAAsB,kBAAXF,EACT,MAAM,IAAIzJ,MAAM,QAAQ0J,WAAoBC,6DAAoEF,KAElH,GAAIG,MAAMH,GACR,MAAM,IAAIjC,UAAU,QAAQkC,WAAoBC,kCAElD,IAAKE,OAAOC,SAASL,GACnB,MAAM,IAAIjC,UAAU,QAAQkC,WAAoBC,4BAAmCF,MAErF,GAAIA,EAAS,IAAM,EACjB,MAAM,IAAIjC,UAAU,QAAQkC,WAAoBC,gCAAuCF,MAEzF,GAAIA,GAAU,EACZ,MAAM,IAAIjC,UAAU,QAAQkC,WAAoBC,+BAAsCF,KAE1F,CAGA,SAASM,EAAyBC,EAAkBC,GAClD,MAAM,YAAEC,EAAW,UAAEhI,GAAc+H,EACnC,GAAgC,qBAArBD,EACT,MAAM,IAAIhK,MAAM,+BAA+BkC,iBAEjD,GAAgC,kBAArB8H,EACT,MAAM,IAAIhK,MAAM,+BAA+BkC,6DAAqE8H,KAEtH,GAAIA,GAAoB,EACtB,MAAM,IAAIxC,UAAU,+BAA+BtF,+BAAuC8H,MAE5F,IAAKE,GAAeF,EAAmB,IAAM,EAC3C,MAAM,IAAIxC,UAAU,+BAA+BtF,iCAAyC8H,MAE9F,IAAKH,OAAOC,SAASE,GACnB,MAAM,IAAIxC,UAAU,+BAA+BtF,6BAAqC8H,KAE5F,CAGA,SAASG,EAAYC,EAAKT,EAAUU,GAClC,GAAmB,kBAARD,EACT,MAAM,IAAIpK,MAAM,iEAAiEoK,KAAOT,KAE1F,IAAKE,OAAOC,SAASM,GACnB,MAAM,IAAIpK,MAAM,0CAA0CoK,KAAOT,KAEnE,GAAIC,MAAMQ,GACR,MAAM,IAAIpK,MAAM,kCAAkCoK,KAAOT,KAE3D,GAAIS,GAAO,EACT,MAAM,IAAI5C,UAAU,mCAAmC4C,KAAOT,KAEhE,GAAIU,GAASD,EAAM,GACjB,MAAM,IAAI5C,UAAU,yIAExB,CAGA,IA4GI8C,GAA4BC,EAAAA,EAAAA,eAAe,MAE3CC,IADyBC,EAAAA,EAAAA,aACNC,GACdhI,QAAQgI,EAAYC,oBAmQzBC,EAA0BC,IAC5B,MAAMhG,GAAUiG,EAAAA,EAAAA,YAAYR,IACpB1I,MAAOmJ,IAAmBD,EAAAA,EAAAA,YAAYlE,IACxC,aAAEX,EAAY,cAAES,EAAa,2BAAED,IAA+BqE,EAAAA,EAAAA,YAAY/E,GAC1EiF,EAA6C,gBAAxBtE,GAAeuE,KAAyBvE,EAAcwE,cAAgB,KAC3FA,EAAgBL,GAA0BG,EAC1CN,EAAczE,EAAakF,MAAMC,GAAMA,EAAEC,KAAOH,IAChDI,GAAsBC,EAAAA,EAAAA,UAAS,IAC5Bb,EAAcK,EAAeL,EAAYW,KAAO,CAAC,EAAI,CAAC,GAC5D,CAACN,EAAgBL,IACpB,OAAOa,EAAAA,EAAAA,UAAS,IACTb,EAGDjE,EACK,CACLwE,KAAM,UACNO,OAAQ,IACH/E,EACH4E,GAAIX,EAAYW,GAChBzJ,MAAO6E,EAA2B7E,MAClC6J,aAAcf,EAAYe,cAAgB,CAAC,EAC3CC,aAAcjF,EAA2BiF,eAI1ClB,EAAgBE,GA0BhB7F,EAAQ6F,EAAYW,IAGlBxG,EAAQ6F,EAAYW,IAFlB,MA1BPtB,EAAyBW,EAAYV,iBAAkB,CACrDE,aAAa,EACbhI,UAAW,uBAAuBwI,EAAYW,SAEhDlB,EAAYO,EAAYN,IAAK,uBAAuBM,EAAYW,QAAQ,GACxE7B,EAAkBkB,EAAYjH,MAAO,QAAS,uBAAuBiH,EAAYW,QACjF7B,EAAkBkB,EAAYhH,OAAQ,SAAU,uBAAuBgH,EAAYW,QAC5E,CACLJ,KAAM,UACNO,OAAQ,CACN/H,MAAOiH,EAAYjH,MACnBC,OAAQgH,EAAYhH,OACpB0G,IAAKM,EAAYN,IACjBiB,GAAIX,EAAYW,GAChBrB,iBAAkBU,EAAYV,iBAC9ByB,aAAcf,EAAYe,cAAgB,CAAC,EAC3C7J,MAAO,IACF8I,EAAYe,cAAgB,CAAC,KAC7BH,GAAuB,CAAC,KACN,qBAAX7K,QAA0BF,IAAyBC,SAAW,CAAC,EAAI6I,KAAmB,CAAC,GAEnGqC,aAAc,QApCX,MA4CR,CAAChB,EAAa7F,EAAS4B,EAA4B6E,GAAqB,EAIzEK,EAAWA,KACb,MAAM,cAAEjF,EAAa,aAAET,EAAY,2BAAEQ,IAA+BmF,EAAAA,EAAAA,YAAY7F,GAC1E8F,EAAW5F,EAAakF,MAAMC,GACH,gBAAxB1E,GAAeuE,MAA0BG,EAAEC,KAAO3E,EAAcwE,gBAEnEY,EAAWlB,EAAuBiB,GAAUR,IAAM,MACxD,OAAOU,EAAAA,EAAAA,UAAS,IACTD,EAGiB,UAAlBA,EAASb,MAGS,YAAlBa,EAASb,KAFJ,KAKJY,EAGE,IACFC,EAASN,OACZC,aAAcI,EAASJ,cAAgB,CAAC,EACxCJ,GAAIQ,EAASR,MACV5E,GAA8B,CAAC,EAClCvE,UAAW2J,EAAS3J,WAPb,KATA,MAkBR,CAACuE,EAA4BqF,EAAUD,GAAU,EAIlDhG,GAAkBmG,EAAAA,EAAAA,eAAe,CACnCC,MAAO,CAAC,EACRC,SAAS,EACTC,aAAc,EACdC,OAAQ,GACRC,kBAAmB,CACjBhH,SAAS,GAEXiH,gBAAiBA,KACf,MAAM,IAAItM,MAAM,UAAU,EAE5BuM,kBAAmB,CAAElH,QAAS,MAE5BS,GAAqBkG,EAAAA,EAAAA,eAAe,CACtCQ,SAAUA,KACR,MAAM,IAAIxM,MAAM,UAAU,EAE5ByM,WAAYA,KACV,MAAM,IAAIzM,MAAM,UAAU,IAM1B0F,EAAuBgH,IACzBC,aAAaC,QAHN,oBAGyB7D,KAAK8D,UAAUH,GAAM,EAEnD/G,EAAuBA,KACzB,MAAMmH,EAAOH,aAAaI,QANnB,sBAMyC,KAEhD,OADYhE,KAAKC,MAAM8D,EACb,EAERlH,EAA0B8E,IAC5B,MAAMoC,EAAOH,aAAaI,QAXnB,sBAWyC,KAC1CC,EAAMjE,KAAKC,MAAM8D,GACvB,YAAyBG,IAArBD,EAAItC,GACCb,OAAOmD,EAAItC,IAEE,qBAAXjK,OACF,EAEFA,OAAOyM,uBAAyB,CAAC,EAEtC1H,EAAsBA,KACxB,MAAM2H,EAAcxB,IACdyB,GAAQC,EAAAA,EAAAA,YAAYxH,GAC1B,IAAKsH,EACH,MAAyB,qBAAX1M,OAAyB,EAAIA,OAAOyM,uBAAyB,EAE7E,MAAMI,EAAYF,EAAMnB,MAAMkB,EAAY9B,MAAQ9K,IAAyBC,SAAW,EAAIoF,EAAuBuH,EAAY9B,KAC7H,OAAOkC,KAAKC,IAAIL,EAAYnD,iBAAmB,EAAGsD,EAAU,EAE1D/H,EAAsBA,KACxB,MAAM,SAAEiH,IAAaa,EAAAA,EAAAA,YAAYvH,GACjC,OAAO0G,CAAQ,EAEb/G,EAAkBA,KACpB,MAAM,QAAEyG,EAAO,kBAAEG,IAAsBgB,EAAAA,EAAAA,YAAYxH,IAC7C,WAAE4G,IAAeY,EAAAA,EAAAA,YAAYvH,GACnC,OAAO2H,EAAAA,EAAAA,UAAS,IAAM,CAACvB,EAASO,EAAYJ,IAAoB,CAACA,EAAmBH,EAASO,GAAY,EAWvGiB,GAAsBC,EAAAA,EAAAA,gBAAgB,GAUtCC,EAAuBA,KACzB,MAAM/I,GAAUgJ,EAAAA,EAAAA,YAAY/J,GACtBgK,EAAWjJ,GAASpB,OAAS,KAC7BsK,EAAYlJ,GAASnB,QAAU,KAC/BsK,EAAcnJ,GAASmF,kBAAoB,KAC3CiE,EAAQtC,IACd,OAAOuC,EAAAA,EAAAA,UAAS,KACd,IAAKD,EACH,OAAO,KAET,MAAM,GACJ5C,EAAE,iBACFrB,EAAgB,IAChBI,EAAG,OACH1G,EAAM,MACND,EAAK,aACLgI,EAAY,MACZ7J,EAAK,aACL8J,GACEuC,EACJ,MAAO,CACL5C,KACA5H,MAAOqK,GAAYrK,EACnBC,OAAQqK,GAAarK,EACrB0G,MACAJ,iBAAkBgE,GAAehE,EACjCyB,eACA7J,QACA8J,eACD,GACA,CAACsC,EAAaD,EAAWD,EAAUG,GAAO,EAI3CE,EAAiBA,KACnB,MAAMhB,EAAcS,IACd/I,GAAUuJ,EAAAA,EAAAA,YAAYV,GACtBlN,EAAW8B,IACjB,IAAK6K,EAAa,CAChB,GAAsB,qBAAX1M,QAA0BA,OAAOC,mBAAqBF,EAC/D,MAAM,IAAIR,MAAM,CACd,yCACA,yLACA,kGACAC,KAAK,MAET,MAAM,IAAID,MAAM,uOAClB,CACA,IAAK6E,EACH,MAAM,IAAI7E,MAAM,2DAElB,OAAOmN,CAAW,EAQhBkB,GAAkBA,KAEpB,KAD4BC,EAAAA,EAAAA,YAAaZ,GACf,CACxB,GAAInN,IAAyBC,SAC3B,MAAM,IAAIR,MAAM,yIAElB,MAAM,IAAIA,MAAM,yKAClB,CACA,MAAMiM,EAAQzG,IACRX,GAAUyJ,EAAAA,EAAAA,YAAaxK,GAE7B,OAAOmI,GADepH,EAAUA,EAAQ0J,cAAgB1J,EAAQ2J,aAAe,EACnD,EAO1BC,GAASC,IAIP,IAHJzC,MAAO0C,EAAa,SACpBC,EAAQ,OACRC,GAAS,GACVH,EACC,MAAMzC,EAAQoC,KACRlB,EAAcgB,IACpB,GAA6B,qBAAlBQ,EACT,MAAM,IAAI3O,MAAM,0EAElB,GAA6B,kBAAlB2O,EACT,MAAM,IAAI3O,MAAM,0EAA0E2O,GAE5F,GAAI9E,OAAOD,MAAM+E,GACf,MAAM,IAAI3O,MAAM,wEAElB,IAAK6J,OAAOC,SAAS6E,GACnB,MAAM,IAAI3O,MAAM,qEAAqE2O,MAEvF,MAAMG,GAAWC,EAAAA,EAAAA,UAAS,IACF,mBAAXF,EACFA,EAEa,oBAAXA,EACFA,EAAO5C,QADhB,GAGC,CAAC4C,EAAQ5C,IACN+C,GAAkBC,EAAAA,EAAAA,YAAapJ,GAC/BqJ,GAAkBD,EAAAA,EAAAA,YAAanL,GAC/B0K,EAAeU,GAAiBV,cAAgB,EAChDW,GAAgBJ,EAAAA,EAAAA,UAAS,IACxBD,EAGE,IACFE,EACH9C,SAAS,EACTG,kBAAmB,CACjBhH,SAAS,GAEX4G,MAAO,CACL,CAACkB,EAAY9B,IAAKsD,EAAgBH,IAT7BQ,GAYR,CAACF,EAAUE,EAAiB7B,EAAY9B,GAAIsD,EAAeH,IAC9D,OAAuBY,EAAAA,EAAAA,KAAKvJ,EAAgBwJ,SAAU,CACpD5M,MAAO0M,EACPP,YACA,EA+IAU,IAAkBC,EAAAA,EAAAA,aAxIqBC,CAAAC,EAYxC1M,KAAQ,IAZiC,KAC1C2M,EAAO,EAAC,iBACR1F,EAAmB2F,IAAQ,SAC3Bf,EAAQ,KACRnP,EAAI,OACJiE,EAAM,MACND,EAAK,eACLmM,GAAiB,EACjBC,6BAA8BC,EAC9BC,uBAAwBhO,EACxBiO,iCAAkCC,KAC/BhN,GACJwM,EACC,MAAM,OAAES,EAAS,iBAAoBjN,GAC9BoI,IAAM8E,EAAAA,EAAAA,WAAU,IAAMC,OAAO7C,KAAK8C,YACnCC,GAAiBC,EAAAA,EAAAA,YAAazM,IAC9B,OAAEsI,IAAWmE,EAAAA,EAAAA,YAAa1K,GAC1B0I,EAAgB+B,EAAiBA,EAAe/B,cAAgB+B,EAAe9B,aAAe,EAC9FgC,EAAS5L,IACf,GAAe,kBAAXsL,GAAyC,SAAXA,EAChC,MAAM,IAAI1I,UAAU,6FAA6F0I,KAEnH,GAAe,SAAXA,GAA4C,qBAAhBjN,EAAMD,MACpC,MAAM,IAAIwE,UAAU,+CAEtB,GAAgC,kBAArBwC,EACT,MAAM,IAAIxC,UAAU,6DAA6DwC,+BAEnF,GAAIA,GAAoB,EACtB,MAAM,IAAIxC,UAAU,8CAA8CwC,KAEpE,GAAoB,kBAAT0F,EACT,MAAM,IAAIlI,UAAU,gFAAgFkI,+BAEtG,IAAK7F,OAAOC,SAAS4F,GACnB,MAAM,IAAIlI,UAAU,yDAAyDkI,MAE/E,MAAMe,EAAgBjL,IAChB2H,EAAcgB,IACduC,EAAyBJ,EAAiB/C,KAAKC,IAAI8C,EAAetG,iBAAmB0F,EAAM1F,GAAoBA,EAC/G2G,EAAyBpD,KAAKqD,IAAI,EAAGrD,KAAKC,IAAIL,EAAYnD,iBAAmB0F,EAAMgB,KACnF,iBAAExM,EAAgB,mBAAEC,IAAuBoM,EAAAA,EAAAA,YAAavM,IACxD,OAAEM,IAAWiM,EAAAA,EAAAA,YAAalM,GAC1BwM,GAAcC,EAAAA,EAAAA,UAAU,IACrBR,GAAgBO,aAAenO,QAAQO,EAAM8N,iCACnD,CAAC9N,EAAM8N,+BAAgCT,GAAgBO,cACpDG,GAAeF,EAAAA,EAAAA,UAAU,KACtB,CACLvC,gBACAC,aAAckB,EACd1F,iBAAkB2G,EAClBM,WAAYX,GAAgB9B,cAAgB,EAC5CnD,KACA3H,OAAQA,GAAU4M,GAAgB5M,QAAU,KAC5CD,MAAOA,GAAS6M,GAAgB7M,OAAS,KACzCoN,iBAED,CACDtC,EACAmB,EACAiB,EACAL,EACAjF,EACA3H,EACAD,EACAoN,IAEIK,GAAmBJ,EAAAA,EAAAA,UAAU,IAC1BrR,GAAQ,IACd,CAACA,KACJ0R,EAAAA,EAAAA,YAAW,KACT,GAAK5Q,IAAyBQ,SAiB9B,OAdAmD,EAAiB,CACfwL,OACA0B,SAAUT,EACVtF,KACAgG,YAAaH,EACbI,OAAQhB,GAAgBjF,IAAM,KAC9BJ,KAAM,WACNmB,SACAwD,iBACA7K,MAAOyL,EACPV,cACA/N,MAAOA,GAAS,KAChBkO,gBAAiBA,GAAmB,OAE/B,KACL9L,EAAmBkH,EAAG,CACvB,GACA,CACDrB,EACAqB,EACA5L,EACAyE,EACAgN,EACA/M,EACAmM,GAAgBjF,GAChBsF,EACAvE,EACAsD,EACAE,EACAY,EACAV,EACA/N,EACAkO,IAEF,MAAMsB,EAAehE,KAAKiE,KAAKjD,EAAgBmB,EAAO1F,EAAmB,GACnEyH,EAAUhB,EAAgBlC,EAAgBmB,GAAce,EAAgBc,EAAvB,KAA6C3C,EAC9F8C,EAAgC,SAAjBzO,EAAMiN,YAAoBjD,EAAYhK,EAAMD,MAC3D2O,GAAeb,EAAAA,EAAAA,UAAU,KACtB,CACLlN,mBAAeqJ,KACZxJ,EAAQ,CAAEA,SAAU,CAAC,KACrBC,EAAS,CAAEA,UAAW,CAAC,KACvBgO,GAAgB,CAAC,KAErB,CAAChO,EAAQgO,EAAcjO,IAC1B,GAAY,OAARV,GAA2B,SAAXmN,EAClB,MAAM,IAAI1I,UAAU,iFAGtB,OADyBlD,EAAO+G,KAAO,EAE9B,MAEcuG,EAAAA,EAAAA,KAAK9N,EAAgBuL,SAAU,CACpD5M,MAAOuO,EACPpC,SAAsB,OAAZ6C,EAAmB,KAAwB,SAAjBxO,EAAMiN,OAAoBuB,GAA0BG,EAAAA,EAAAA,KAAKhP,EAAc,CACzGG,MACAC,MAAO2O,EACPE,UAAW5O,EAAM4O,UACjBjD,SAAU6C,KAEZ,IA8BAK,IAAqBvC,EAAAA,EAAAA,aA3BqBwC,CAACnQ,EAAOmB,KACpD,MAAMkJ,EAAQoC,KACd,GAAqB,SAAjBzM,EAAMsO,OACR,MAAM,IAAIlQ,MAAM,uEAElB,MAAQgD,MAAOgP,EAAW,KAAEtC,EAAO,EAAC,YAAEuC,EAAc,KAAMC,GAAetQ,EACnEuQ,EAAoBlG,EAAQyD,GAAQzD,GAASyD,EAAOuC,EACpDjP,GAAQ8N,EAAAA,EAAAA,UAAU,KACf,IACFkB,EACHI,QAASD,EAAoB,EAAI,EACjCE,cAAeF,EAAoB,OAASH,GAAaK,oBAAiBpF,KAE3E,CAACkF,EAAmBH,IACvB,OAAuBJ,EAAAA,EAAAA,KAAKnD,GAAQ,CAClCxC,MAAOyD,EACPb,OAAQsD,EACRvD,UAA0BgD,EAAAA,EAAAA,KAAKU,GAAU,CACvCvP,MACA2M,OACA1M,QACAgN,iCAAkCiC,EAClClB,+BAAgCoB,KAC7BD,KAEL,IAeAI,IAAW/C,EAAAA,EAAAA,aAZqBgD,CAAC3Q,EAAOmB,IACrB,SAAjBnB,EAAMsO,QAAqBtO,EAAMqQ,cAAgB1R,IAAyBI,aACrDiR,EAAAA,EAAAA,KAAKE,GAAoB,IAC3ClQ,EACHmB,SAGmB6O,EAAAA,EAAAA,KAAKtC,GAAiB,IACxC1N,EACHmB,UAgDAyP,IAAqBC,EAAAA,EAAAA,eAAgB,CACvCC,oBAAqBA,KACb,EAERC,sBAAuBA,KACf,EAERC,aAAc,KAqFZC,GAAkBC,GACE,qBAAXrS,OACFqS,EAEF,IAAIC,IAAID,EAAarS,OAAOuS,QAAQC,KAIzCC,GAAwBC,IAKtB,IALuB,MAC3BC,EAAK,cACLC,EAAa,aACblH,EAAY,UACZmH,GACDH,EACK/B,EAAWiC,EACM,qBAAVD,IACThC,EAAWgC,GAEY,qBAAdE,IACTlC,GAAYkC,GAEd,MAAMC,EAAiBnC,EAAWjF,EAClC,OAAOoB,KAAKiG,MAAMD,EAAe,EAInC,SAASE,GAAaC,GACpB,IAAIC,EAYJ,MAXIC,GAAYF,IACdC,EAAQD,EACHC,EAAM5R,QACT4R,EAAM5R,MAAQ,IAAI/B,MAAM2T,EAAM5L,SAAShG,QAGzC4R,EADwB,kBAARD,EACR1T,MAAM0T,GAEN1T,MAAM,2BAEhBS,OAAOoT,wBAA0BF,EAAM5R,MACjC4R,CACR,CACA,IAAIC,GAAeF,GACbA,aAAe1T,OAGP,OAAR0T,IAGe,kBAARA,IAGL,UAAWA,IAGQ,kBAAdA,EAAI3R,QAGT,YAAa2R,GAGQ,kBAAhBA,EAAI3L,YAWb+L,IAAcC,EAAAA,EAAAA,eAAgB,MAI9BC,GAAOC,IAAsE,IAArE,iBAAEjK,EAAgB,MAAEkK,EAAQvE,IAAQ,SAAEf,EAAQ,KAAEnP,KAASmC,GAAOqS,EAC1E,MAAME,EAAe9F,MACbrE,iBAAkBoK,GAAiBjG,IAK3C,GAJApE,EAAyBC,EAAkB,CACzC9H,UAAW,4BACXgI,aAAa,IAEM,kBAAVgK,EACT,MAAM,IAAI1M,UAAU,oDAAoD0M,+BAE1E,GAAIA,IAAUvE,KAAYuE,EAAQ,IAAM,EACtC,MAAM,IAAI1M,UAAU,0DAA0D0M,MAEhF,GAAIA,EAAQ,EACV,MAAM,IAAI1M,UAAU,0DAA0D0M,KAEhF,MAAMG,EAAW9G,KAAKiE,KAAK4C,EAAepK,GACpCsK,EAAc/G,KAAKC,IAAI6G,EAAUH,GACjClR,EAAyB,SAAjBpB,EAAMsO,YAAoBjD,EAAYrL,EAAMoB,MACpDuR,EAAWvK,GAAoBsK,EAAc,GAE7CE,EADYjH,KAAKiG,MAAMW,EAAenK,GAClBA,EACpB0F,EAAOnC,KAAKC,IAAIgH,EAAOD,GACvBzE,GAAc2E,EAAAA,EAAAA,UAAU,KACrB,CACLC,cAAeJ,EACfK,aAAcjF,EACd1F,sBAED,CAACsK,EAAatK,EAAkB0F,IAC7BkF,GAAcH,EAAAA,EAAAA,UAAU,KACrB,CACLI,UAAWtH,KAAKiG,MAAMW,EAAenK,GACrCA,sBAED,CAACmK,EAAcnK,IAClB,OAAuB8K,EAAAA,EAAAA,KAAMhB,GAAYzE,SAAU,CACjD5M,MAAOmS,EACPhG,UAA0BkG,EAAAA,EAAAA,KAAMxC,GAAU,CACxCtI,mBACA0F,OACAjQ,KAAMA,GAAQ,SACdoQ,6BAA8BC,EAC9BI,OAAQtO,EAAMsO,OACdlN,QACA4L,cAEF,EAEJoF,GAAKe,QApDSA,IACLC,EAAAA,WAAkBlB,IA6D3B,IAAImB,IAAiBC,EAAAA,EAAAA,eAAgB,CAAC,GAyBlCC,GAAcC,IACEC,EAAAA,EAAAA,YAAaJ,IACdG,IAAQA,EAgJvBE,GAAqBA,CAAC1T,EAAOM,KAC/B,GAA4B,kBAAjBN,EAAM2T,QAA+C,oBAAjB3T,EAAM2T,QAAiD,qBAAjB3T,EAAM2T,OACzF,MAAM,IAAI/N,UAAU,2CAA2C5F,EAAM2T,mBAAmBrT,mHAE1F,GAA4B,kBAAjBN,EAAM2T,QAAuB3T,EAAM2T,OAAS,EACrD,MAAM,IAAI/N,UAAU,6CAA6CtF,kDAEnE,GAAkC,kBAAvBN,EAAMuK,cAA2D,qBAAvBvK,EAAMuK,aACzD,MAAM,IAAI3E,UAAU,iDAAiD5F,EAAMuK,yBAAyBjK,kEAEtG,GAAkC,kBAAvBN,EAAMuK,eAA8BvC,MAAMhI,EAAMuK,gBAAkBtC,OAAOC,SAASlI,EAAMuK,eAAiBvK,EAAMuK,cAAgB,GACxI,MAAM,IAAI3E,UAAU,qCAAqC5F,EAAMuK,yBAAyBjK,+DAC1F,EAIEsT,GAAyBA,CAAClC,EAAWF,KACvC,GAAyB,qBAAdE,EAA2B,CACpC,GAAyB,kBAAdA,EACT,MAAM,IAAI9L,UAAU,oEAAoE8L,MAE1F,GAAI1J,MAAM0J,IAAcA,IAAc3D,IACpC,MAAM,IAAInI,UAAU,8CAEtB,GAAI8L,EAAY,EACd,MAAM,IAAI9L,UAAU,yDAAyD8L,KAEjF,CACA,GAAqB,qBAAVF,EAAuB,CAChC,GAAqB,kBAAVA,EACT,MAAM,IAAI5L,UAAU,gEAAgE4L,MAEtF,GAAIxJ,MAAMwJ,GACR,MAAM,IAAI5L,UAAU,8BAEtB,GAAI4L,GAAS,EACX,MAAM,IAAI5L,UAAU,gDAAgD4L,KAExE,CACA,GAAIA,EAAQE,EACV,MAAM,IAAI9L,UAAU,kDACtB,EAwBEiO,IAAmBC,EAAAA,EAAAA,eAAgB,CACrCC,UAAW,CAAC,EACZC,aAAcA,KACZ,MAAM,IAAI5V,MAAM,kBAAkB,IA6BtC,SAAS6V,GAAWC,GAClB,IAAIC,EAAID,EAAI,WAGZ,OAFAC,EAAIxI,KAAKyI,KAAKD,EAAIA,IAAM,GAAQ,EAAJA,GAC5BA,GAAKA,EAAIxI,KAAKyI,KAAKD,EAAIA,IAAM,EAAO,GAAJA,KACvBA,EAAIA,IAAM,MAAQ,GAAK,UAClC,CAYA,IAAI1F,GAASA,CAAC4F,EAAMC,KAClB,QAAcjJ,IAAViJ,EACF,MAAM,IAAI1O,UAAU,oCAEtB,GAAa,OAATyO,EACF,OAAO1I,KAAK8C,SAEd,GAAoB,kBAAT4F,EACT,OAAOJ,GAnBX,SAAkBM,GAChB,IAAIC,EAAI,EACJC,EAAM,EACNC,EAAO,EACX,IAAKF,EAAI,EAAEA,EAAID,EAAII,OAAQH,IACzBC,EAAMF,EAAIK,WAAWJ,GACrBE,GAAQA,GAAQ,GAAKA,EAAOD,EAC5BC,GAAQ,EAEV,OAAOA,CACT,CASsBG,CAASR,IAE7B,GAAoB,kBAATA,EACT,OAAOJ,GAAkB,KAAPI,GAEpB,MAAM,IAAIjW,MAAM,iDAAiD,EAQ/D0W,GAAmBA,KACrB,MAAMpG,GAAiBqG,EAAAA,EAAAA,YAAa7S,GAEpC,OADiByJ,KAAKC,IAAI,EAAG8C,GAAgB9B,cAAgB,EAC9C,EAEboI,GAAyBC,IAC3B,MAAMC,EAAQ9C,GAAKe,UACb9I,EAAQoC,KACR0I,EAAWL,KACjB,MAAiB,WAAbG,GAAmC,OAAVC,EACpB7K,EAAQ8K,EAEV9K,EAAQ8K,EAAWD,EAAM9M,iBAAmB8M,EAAMjC,SAAS,EAIhEmC,GAAuBC,IACzB,GAAI,cAAcC,KAAKD,EAAS3P,UAAU,EAAG,IAC3C,MAAO,WAET,MAAM6P,EAAWF,EAAS9O,MAAM,KAAKC,KAAKgP,GAAMA,EAAEjP,MAAM,QAAOkP,KAAK,GACpE,OAAOF,EAASA,EAASZ,OAAS,EAAE,EAIlCe,GAA+BA,CAACC,EAAUC,EAAWC,KACvD,MAAM,QAAEpS,GAAYkS,EACpB,IAAKlS,EACH,OAEF,MAAMqS,EAAOrS,EAAQsS,OACjBD,EAAKE,OACPF,EAAKE,OAAOlE,IACV,GAAKrO,IAGDqO,EAAI3L,QAAQrG,SAAS,gDAGrBgS,EAAI3L,QAAQrG,SAAS,gCAGrBgS,EAAI3L,QAAQrG,SAAS,+EAGrBgS,EAAI3L,QAAQrG,SAAS,mDAGrBgS,EAAI3L,QAAQrG,SAAS,qDAGzBsG,QAAQ6P,IAAI,kBAAkBL,6BAAsC9D,IAC/DrO,EAAQyS,OAAO,CAClB,GAAIL,EAEF,YADAA,IAGFzP,QAAQ6P,IAAI,uDACM,UAAdL,GAAyBjX,IAAyBC,UACpDwH,QAAQ6P,IAAI,wDAEdxS,EAAQyS,OAAQ,EAChBzS,EAAQsS,MACV,IAEJ,EAIEI,GAAiBC,IAKf,IALgB,MACpB/L,EAAK,OACLsJ,EAAM,YACN0C,EAAc,EAAC,+BACfC,GACDF,EACC,MAAMG,EAAYD,EAAiCvI,IAAW,EAC9D,GAAsB,kBAAX4F,EACT,OAAOhI,KAAKC,IAAI2K,EAAW5C,EAAS0C,GAEtC,GAAsB,qBAAX1C,EACT,OAAO1L,OAAOoO,GAEhB,MAAMG,EAAY7C,EAAOtJ,GAASgM,EAClC,GAAyB,kBAAdG,EACT,MAAM,IAAI5Q,UAAU,2GAA2G4Q,eAAuBnM,KAExJ,GAAIpC,OAAOD,MAAMwO,GACf,MAAM,IAAI5Q,UAAU,6EAA6EyE,MAEnG,IAAKpC,OAAOC,SAASsO,GACnB,MAAM,IAAI5Q,UAAU,6FAA6FyE,MAEnH,OAAOsB,KAAKqD,IAAI,EAAGrD,KAAKC,IAAI2K,EAAWC,GAAW,EAIhDC,GAAW,CAAC,EAQZC,GAAqBC,IAanB,IAboB,OACxBhD,EAAM,YACN0C,EAAW,SACXV,EAAQ,IACRnC,EAAG,UACHoC,EAAS,aACTrL,EAAY,YACZkF,EAAW,GACXhG,EAAE,MACFtJ,EAAK,eACL6N,EAAc,gBACdK,EAAe,gBACfwH,GACDc,EACC,MAAMpL,EAAcgB,KACd,OAAE/B,EAAM,kBAAEG,IAAsBiM,EAAAA,EAAAA,YAAa3S,GAC7CyK,GAAiBkI,EAAAA,EAAAA,YAAa1U,GAC9B2U,EAAanI,EAAiBA,EAAe9B,aAAe8B,EAAe/B,cAAgB,GAC1FrC,GAAWzG,IACZsR,EAAWL,MACX,iBAAExS,EAAgB,mBAAEC,IAAuBqU,EAAAA,EAAAA,YAAaxU,IACvD0U,IAAiBC,EAAAA,EAAAA,WAAU,IAAMpD,IAClCqD,EAAShU,IACTwM,EAAWd,EAAiB/C,KAAKC,IAAI8C,EAAetG,iBAAkBmD,EAAYnD,kBAAoBmD,EAAYnD,iBAClH6O,EAAqC,oBAAXtD,EAC1BuD,GAAUC,EAAAA,EAAAA,UAAU,IACF,kBAAXxD,EACFA,EAEF,IAAIyD,MAAMzL,KAAKiG,MAAMjG,KAAKqD,IAAI,EAAGQ,EAAW2F,KAAYkC,MAAK,GAAM7Q,KAAI,CAACa,EAAGmN,IACzE2B,GAAe,CACpB9L,MAAOmK,EAAIW,EACXxB,SACA0C,cACAC,gCAAgC,MAEjCjY,KAAK,MACP,CAACmR,EAAU2F,EAAUxB,EAAQ0C,KAChCiB,EAAAA,EAAAA,YAAW,KA7CInR,MA8CS,kBAAXwN,GAAuBA,IAAWmD,IA7C3CL,GADWtQ,EA+CD,iBAAiByP,cAAsBpC,4KA3CrDpN,QAAQC,KAAKF,GACbsQ,GAAStQ,IAAW,GA2ClB,GACC,CAAC2Q,EAAelB,EAAWpC,EAAKG,KACnC2D,EAAAA,EAAAA,YAAW,KACT,GAAK3B,EAASlS,QAAd,CAGA,IAAK+P,EACH,MAAM,IAAIpV,MAAM,iBAElB,IAAKO,IAAyBQ,UAA8C,SAAlCN,OAAOG,SAASC,KAAKsY,WAG1DvJ,EAsBL,OAnBA1L,EAAiB,CACf+G,KAAMuM,EACNpC,MACA/J,KACA+F,WACA1B,KAAM,EACN4B,OAAQhB,GAAgBjF,IAAM,KAC9BgG,YAAaA,GAAe2F,GAAoB5B,GAChDhJ,SACAmJ,OAAQuD,EACRlJ,gBAAgB,EAChB7K,MAAO6T,EACPQ,eAAgB,EAAIrC,EACpB8B,mBACA/I,iBAAa7C,EACbd,eACApK,QACAkO,oBAEK,KACL9L,EAAmBkH,EAAG,CA9BxB,CA+BC,GACA,CACDoN,EACArH,EACA/F,EACAiF,EACA8E,EACAlR,EACAkI,EACAjI,EACAgJ,EACA2L,EACAD,EACAD,EACArB,EACAC,EACAT,EACA5K,EACAkF,EACAtP,EACA6N,EACAK,KAEFiJ,EAAAA,EAAAA,YAAW,KACT,MAAMG,EAAM,CACVhO,KACAsM,KAAMA,KACJ,GAAKzL,EAGL,OAAOoL,GAA6BC,EAAUC,EAAWC,EAAgB,GAI7E,OADAlL,EAAkBlH,QAAQlD,KAAKkX,GACxB,KACL9M,EAAkBlH,QAAUkH,EAAkBlH,QAAQiU,QAAQxD,GAAMA,EAAEzK,KAAOA,GAAG,CACjF,GACA,CAACkB,EAAmBlB,EAAIkM,EAAUC,EAAWC,EAAiBvL,GAAS,EAkExEqN,GAAwBC,EAAAA,cAAsB,MAU9CC,GAAiBA,KACnB,MAAMC,GAASC,EAAAA,EAAAA,YAAaJ,IACtBK,EAAWF,EAASA,EAAOE,SAAW,KAC5C,OAAOC,EAAAA,EAAAA,UAAU,KAAM,CACrBC,cAAeA,KACb,IAAKF,EACH,MAAM,IAAI5Z,MAAM,yYAElB,MAAM,QAAE+Z,GAAYH,EAAS,CAC3BvO,GAAI+E,OAAO7C,KAAK8C,YAElB,MAAO,CAAE0J,UAAS,KAElB,CAACH,GAAU,EA6PjB,SAASI,GAAmBva,EAAMwa,GAChC,GAAIA,EAAI1D,OAAS,EACf,MAAM,IAAIvW,MAAMP,EAAO,kCAEzB,IAAK,MAAM4I,KAAW4R,EAAK,CACzB,GAAuB,kBAAZ5R,EACT,MAAM,IAAIrI,MAAM,GAAGP,+BAErB,IAAKoK,OAAOC,SAASzB,GACnB,MAAM,IAAIrI,MAAM,GAAGP,gDAAmDwa,EAAIha,KAAK,QAEnF,CACF,CACA,SAASia,GAAYC,EAAOC,EAAYC,EAAapQ,GACnD,GAAqB,qBAAVkQ,EACT,MAAM,IAAIna,MAAM,8BAElB,GAA0B,qBAAfoa,EACT,MAAM,IAAIpa,MAAM,mCAElB,GAA2B,qBAAhBqa,EACT,MAAM,IAAIra,MAAM,oCAElB,GAAIoa,EAAW7D,SAAW8D,EAAY9D,OACpC,MAAM,IAAIvW,MAAM,eAAiBoa,EAAW7D,OAAS,sBAAwB8D,EAAY9D,OAAS,+BAEpGyD,GAAmB,aAAcI,GACjCJ,GAAmB,cAAeK,GAlCpC,SAA8BJ,GAC5B,IAAK,IAAI7D,EAAI,EAAEA,EAAI6D,EAAI1D,SAAUH,EAC/B,KAAM6D,EAAI7D,GAAK6D,EAAI7D,EAAI,IACrB,MAAM,IAAIpW,MAAM,iEAAiEia,EAAIha,KAAK,QAGhG,CA6BEqa,CAAqBF,GACrB,MAAMG,EAAStQ,GAASsQ,QAAU,CAAEC,GAAQA,GAC5C,IAAIC,EAAkB,cACWxN,IAA7BhD,GAASwQ,kBACXA,EAAkBxQ,EAAQwQ,iBAE5B,IAAIC,EAAmB,SAIvB,QAHkCzN,IAA9BhD,GAASyQ,mBACXA,EAAmBzQ,EAAQyQ,kBAER,kBAAVP,EACT,MAAM,IAAI3S,UAAU,qDAEtB,MAAMmT,EAzDR,SAAmBR,EAAOC,GACxB,IAAIhE,EACJ,IAAKA,EAAI,EAAEA,EAAIgE,EAAW7D,OAAS,KAC7B6D,EAAWhE,IAAM+D,KADiB/D,GAKxC,OAAOA,EAAI,CACb,CAiDgBwE,CAAUT,EAAOC,GAC/B,OA/FF,SAA6BD,EAAOC,EAAYC,EAAapQ,GAC3D,MAAM,gBAAEwQ,EAAe,iBAAEC,EAAgB,OAAEH,GAAWtQ,EACtD,IAAIuB,EAAS2O,EACb,MAAOU,EAAUC,GAAYV,GACtBW,EAAWC,GAAaX,EAC/B,GAAI7O,EAASqP,EAAU,CACrB,GAAwB,aAApBJ,EACF,OAAOjP,EAET,GAAwB,UAApBiP,EACFjP,EAASqP,OACJ,GAAwB,SAApBJ,EAA4B,CACrC,MAAME,EAAQG,EAAWD,EACzBrP,IAAWA,EAASqP,GAAYF,EAAQA,GAASA,EAAQE,CAC3D,CAEF,CACA,GAAIrP,EAASsP,EAAU,CACrB,GAAyB,aAArBJ,EACF,OAAOlP,EAET,GAAyB,UAArBkP,EACFlP,EAASsP,OACJ,GAAyB,SAArBJ,EAA6B,CACtC,MAAMC,EAAQG,EAAWD,EACzBrP,IAAWA,EAASqP,GAAYF,EAAQA,GAASA,EAAQE,CAC3D,CAEF,CACA,OAAIE,IAAcC,EACTD,GAETvP,GAAUA,EAASqP,IAAaC,EAAWD,GAC3CrP,EAAS+O,EAAO/O,GAChBA,EAASA,GAAUwP,EAAYD,GAAaA,EACrCvP,EACT,CA2DSyP,CAAoBd,EAAO,CAACC,EAAWO,GAAQP,EAAWO,EAAQ,IAAK,CAACN,EAAYM,GAAQN,EAAYM,EAAQ,IAAK,CAC1HJ,SACAE,kBACAC,oBAEJ,CAGA,IAAIQ,GAAmCC,IAIjC,IAJkC,MACtClP,EAAK,aACLE,EAAY,UACZmH,GACD6H,EACC,OAAOjB,GAAYjO,EAAO,EAAE,EAAGqH,EAAWA,EAAY,GAAI,EAAE,EAAGA,EAAWA,EAAYnH,GAAc,EAElGiP,GAAeC,IAKb,IALc,IAClBjR,EAAG,MACH6B,EAAK,aACLE,EAAY,UACZmH,GACD+H,EAOC,OANsBH,GAAiC,CACrDjP,QACAE,eACAmH,eAEiB,IAAOlJ,GACU,GAAI,EAKtCkR,GAAYA,CAAC5O,EAAMtC,IACdmD,KAAKgO,MAAM7O,EAAOtC,EAAM,KAAO,IAEpCoR,GAAcA,KAChB,GAAsB,qBAAX/a,OACT,OAAO,EAET,MAAMgb,EAAmB,kBAAkBvE,KAAKzW,OAAOib,UAAUC,WAC3DC,EAAgB,cAAc1E,KAAKzW,OAAOib,UAAUC,WAC1D,OAAOF,GAAoBG,CAAa,EAKtCC,GAAwBC,IAGtB,IAHuB,WAC3BrD,EAAU,IACVrO,GACD0R,EACC,OAAOR,GAAU/N,KAAKqD,IAAI,GAAI6H,GAAarO,EAAI,EAE7C2R,GAAsBC,IAGpB,IAHqB,SACzB5K,EAAQ,IACRhH,GACD4R,EACC,OAAOV,GAAUlK,EAAUhH,EAAI,EAE7B6R,GAAsBC,IAKpB,IALqB,UACzBC,EAAS,WACT1D,EAAU,SACVrH,EAAQ,IACRhH,GACD8R,EACC,GArBwBC,IACjBX,MAAiBW,EAAU9U,WAAW,SAoBzC+U,CAAmBD,GACrB,OAAOA,EAET,GAAIA,EAAU9U,WAAW,SACvB,OAAO8U,EAGT,GADqBzZ,QAAQ,IAAIqQ,IAAIoJ,GAA8B,qBAAX1b,OAAyB,KAAOA,OAAOkJ,SAASsJ,OAAS,yBAAyBqD,MAExI,OAAO6F,EAET,IAAKtS,OAAOC,SAAS2O,GACnB,OAAO0D,EAET,MAAME,EAAgB,GAAGF,OAAeN,GAAsB,CAAEpD,aAAYrO,UAC5E,OAAKP,OAAOC,SAASsH,GAGd,GAAGiL,KAAiBN,GAAoB,CAAE3K,WAAUhH,UAFlDiS,CAE0D,EAqBjEC,GAAyBC,IAKvB,IAJJJ,UAAWK,EACX/D,WAAYgE,EACZrL,SAAUsL,EAAe,IACzBtS,GACDmS,EACC,MAAMI,GAAgBC,EAAAA,EAAAA,QAAQH,GACxBlJ,GAAiBqJ,EAAAA,EAAAA,QAAQF,GACzBP,GAAYS,EAAAA,EAAAA,QAAQJ,GA3BHK,KAMnB,IANoB,cACxBC,EAAa,aACbC,EAAY,aACZC,EAAY,YACZC,EAAW,IACX7S,GACDyS,EACC,MAAMK,EAAerB,GAAsB,CAAEpD,WAAYqE,EAAe1S,QAClE+S,EAAUtB,GAAsB,CAAEpD,WAAYsE,EAAc3S,QAC5DgT,EAAcrB,GAAoB,CAAE3K,SAAU4L,EAAc5S,QAC5DiT,EAAStB,GAAoB,CAAE3K,SAAU6L,EAAa7S,QAC5D,QAAI+S,EAAUD,MAGVG,EAASD,EAGF,EAWNE,CAAmB,CACtBR,cAAeH,EAActX,QAC7B0X,aAAcN,EACdO,aAAczJ,EAAelO,QAC7B4X,YAAaP,EACbtS,SACIoS,IAAqBL,EAAU9W,UACnCsX,EAActX,QAAUoX,EACxBlJ,EAAelO,QAAUqX,EACzBP,EAAU9W,QAAUmX,GAQtB,OANiBP,GAAoB,CACnCE,UAAWA,EAAU9W,QACrBoT,WAAYkE,EAActX,QAC1B+L,SAAUmC,EAAelO,QACzB+E,OAEa,EAIbmT,GAAgB,CAAC,EAmCjBC,GAA+B,IAC/BC,GAAOA,CAAClG,EAAU7K,KACpB,IAAK6K,EAASlS,QACZ,OAEF,MAAMqY,EAAYlC,KAAgB3R,OAAO6C,EAAKiR,QAAQ,IAAMjR,EAC5D6K,EAASlS,QAAQuY,YAAcF,CAAS,EAEtCG,GAAmBC,IAWjB,IAXkB,SACtBvG,EAAQ,IACRnC,EAAG,UACHoC,EACArL,aAAc4R,EAAiB,6BAC/BC,EAA4B,oBAC5BC,EAAmB,mBACnBC,EAAkB,cAClBC,EAAa,aACbC,EAAY,gBACZ3G,GACDqG,EACC,MAAQ3R,aAAckS,IAAuBC,EAAAA,EAAAA,YAAazY,GACpDoG,EAAQoC,KACRoC,EAAgBjL,KACf0G,GAAWzG,IACZ8Y,GAAaD,EAAAA,EAAAA,YAAa/E,KAC1B,IAAEnP,GAAQ+D,IACVqQ,EAAgB9H,KAChB+H,GAAqBC,EAAAA,EAAAA,QAAQ,MAC7BC,GAAWD,EAAAA,EAAAA,QAAQ,MACzB,IAAKH,EACH,MAAM,IAAIve,MAAM,6DAElB,MAAM4e,GAAwBF,EAAAA,EAAAA,QAAQ,CAAC,GACjCG,GAA6BC,EAAAA,EAAAA,cAAa,KACzC1J,IAGDgJ,GACFpW,QAAQ6P,IAAI,YAAYzC,iEAE1BwJ,EAAsBvZ,QAAQ+P,IAAO,EAAI,GACxC,CAACgJ,EAAchJ,IACZwI,EAzW0BmB,KAK5B,IAL6B,SACjCxH,EAAQ,UACRC,EAAS,SACTmH,EAAQ,2BACRE,GACDE,EACC,MAAMnB,GAAcoB,EAAAA,EAAAA,QAAQ,MA+C5B,OA9CAC,EAAAA,EAAAA,YAAY,KACV,MAAM,QAAE5Z,GAAYkS,EACpB,IAAIlS,EAIF,YADAuY,EAAYvY,QAAU,MAGxB,GALEuY,EAAYvY,QAAUA,EAAQuY,YAKd,UAAdpG,EAEF,YADAoG,EAAYvY,QAAU,MAGxB,MAAM6Z,EAAW7Z,EACjB,IAAK6Z,EAASC,0BACZ,OAEF,IAAIC,EAASA,KACL,EAER,MAAMC,EAAUA,KACd,IAAKH,EACH,OAEF,MAAMI,EAAKJ,EAASC,2BAA0B,CAAClW,EAAGsW,KAChD,GAA4B,OAAxB3B,EAAYvY,QAAkB,CAChC,MAAMma,EAAajS,KAAKkS,IAAI7B,EAAYvY,QAAUka,EAAKG,WACjDC,EAAuBpS,KAAKkS,IAAyB,OAArBd,EAAStZ,QAAmBsK,IAAW4P,EAAKG,UAAYf,EAAStZ,SACnGma,EAAa,IAAOG,EAAuB,IAAOJ,EAAKG,UAAY9B,EAAYvY,SACjFwZ,GAEJ,CACAjB,EAAYvY,QAAUka,EAAKG,UAC3BL,GAAS,IAEXD,EAASA,KACPF,EAASU,yBAAyBN,GAClCF,EAASA,KACD,CACP,CACF,EAGH,OADAC,IACO,KACLD,GAAQ,CACT,GACA,CAACT,EAAUpH,EAAUC,EAAWqH,IAC5BjB,CAAW,EAoTEiC,CAA4B,CAC9CtI,WACAC,YACAmH,WACAE,+BAEIiB,EAAuB1E,GAAa,CACxCnP,QACAE,aAAc4R,EACdzK,WAAYkL,EACZpU,QAEI2V,EA/bgBC,KAIlB,IAJmB,QACvB3X,EAAO,aACP4X,EAAY,cACZ9B,GACD6B,EACC,MAAMtG,EAASD,MACRyG,EAAaC,IAAkBC,EAAAA,EAAAA,WAAW,GA+DjD,OA9DAC,EAAAA,EAAAA,YAAY,KACV,IAAIC,EAAa,GACjB,MAAM,QAAEjb,GAAYgD,EACpB,IAAKhD,EACH,OAEF,IAAK4a,EACH,OAEF,GAAI9B,EACF,OAEF,MAAMoC,EAAUA,KACdD,EAAWE,SAASC,GAAOA,MAC3BH,EAAa,GACbH,GAAe,EAAM,EAEjBO,EAAYA,KAChBP,GAAe,GACf,MAAM,QAAEpG,GAAYL,EAAOI,gBACrB6G,EAAYA,KAChBJ,IACAK,GAAM,EAEFC,EAAUA,KACdN,IACAK,GAAM,EAERvb,EAAQyb,iBAAiB,UAAWH,EAAW,CAC7CI,MAAM,IAERT,EAAWne,MAAK,KACdkD,EAAQ2b,oBAAoB,UAAWL,EAAU,IAEnDtb,EAAQyb,iBAAiB,QAASD,EAAS,CACzCE,MAAM,IAERT,EAAWne,MAAK,KACdkD,EAAQ2b,oBAAoB,QAASH,EAAQ,IAE/CP,EAAWne,MAAK,KACd4X,GAAS,GACT,EAEE6G,EAAOA,KACPvb,EAAQ4b,WAAa5b,EAAQ6b,kBAC/BR,IACKhF,UAAUC,UAAUja,SAAS,aAChC2D,EAAQ8b,SAGV9b,EAAQyb,iBAAiB,UAAWJ,GACpCJ,EAAWne,MAAK,KACdkD,EAAQ2b,oBAAoB,UAAWN,EAAU,IAErD,EAGF,OADAE,IACO,KACLL,GAAS,CACV,GACA,CAAC7G,EAAQrR,EAAS8V,EAAe8B,IAC7BC,CAAW,EA0XUkB,CAAkB,CAC5C/Y,QAASkP,EACT0I,aAAc/B,EACdC,mBAEI,sBAAEkD,EAAqB,YAAEnB,GArgBFoB,KAKzB,IAL0B,SAC9B/J,EAAQ,UACRC,EAAS,2BACTqH,EAA0B,mBAC1BX,GACDoD,EACC,MAAMC,GAAeC,EAAAA,EAAAA,SAAQ,IACvB,cAAE1H,GAAkBL,KACpB4H,GAAwBI,EAAAA,EAAAA,cAAcC,IAC1C,GAAkB,UAAdlK,EACF,OAEF,IAAK0G,EACH,OAEF,MAAM7Y,EAAUkS,EAASlS,QACzB,IAAKA,EACH,OAEF,IAAKA,EAAQ8Z,0BACX,OAEFoC,EAAalc,SAAU,EACvB,MAAMsc,EAAW7H,IACXC,EAAUA,KACd4H,EAAS5H,UACT1U,EAAQ2b,oBAAoB,QAASjH,EAAS,CAC5CgH,MAAM,IAER1b,EAAQ2b,oBAAoB,QAASjH,EAAS,CAC5CgH,MAAM,IAERQ,EAAalc,SAAU,CAAK,EAExBuc,EAAiBA,KACrB7H,GAAS,EAEX1U,EAAQ8Z,2BAA0B,CAAClW,EAAGsW,KACJhS,KAAKkS,IAAIF,EAAKG,UAAYgC,GAC5B,IAC5B7C,IAEFxZ,EAAQ8Z,2BAA0B,KAChCpF,GAAS,GACT,IAEJ1U,EAAQyb,iBAAiB,QAASc,EAAgB,CAAEb,MAAM,IAC1D1b,EAAQyb,iBAAiB,QAASc,EAAgB,CAAEb,MAAM,GAAO,GAChE,CACDjH,EACAvC,EACAC,EACAqH,EACAX,IAEF,OAAO2D,EAAAA,EAAAA,UAAU,KACR,CACL3B,YAAaA,IAAMqB,EAAalc,QAChCgc,2BAED,CAACA,GAAuB,EAycoBS,CAAyB,CACtEvK,WACAC,YACAqH,6BACAX,uBAEI/R,EAAe4R,EAAoBM,EACnC0D,EACAxK,EAASlS,SAAS+L,SACb7D,KAAKC,IAAI+J,EAASlS,QAAQ+L,SAAU6M,GAAuBT,IAE7DS,GAET+D,EAAAA,EAAAA,YAAY,KACV,IAAK9V,EAEH,YADAqL,EAASlS,SAAS4c,QAGpB,MAAMC,EAAoB3D,EAAW4D,UAAU9c,QACzC+c,EAA+BrC,GAAuBG,IACxDgC,IAAsBE,GACxB7K,EAASlS,SAAS4c,OACpB,GACC,CACD1D,EAAW4D,UACXjC,EACAH,EACAxI,EACArL,KAEF8V,EAAAA,EAAAA,YAAY,KACV,MAAMK,EAAwB,UAAd7K,EAAwB,UAAY,UACpD,IAAKD,EAASlS,QACZ,MAAM,IAAIrF,MAAM,MAAMwX,eAExB,IAAKpC,EACH,MAAM,IAAIpV,MAAM,wCAAwCqiB,cAE1D,MAAMC,EAAoB/U,KAAKqD,IAAI,EAAGzE,GAClCoL,EAASlS,QAAQ8G,eAAiBmW,IACpC/K,EAASlS,QAAQ8G,aAAemW,GAElC,MAAM,SAAElR,GAAamG,EAASlS,QACxBkd,GAAgB1Y,OAAOD,MAAMwH,IAAavH,OAAOC,SAASsH,GAAY7D,KAAKC,IAAI4D,EAAU0O,GAAwBA,EACjH0C,EAAejL,EAASlS,QAAQuY,YAChC6E,EAAU7E,EAAYvY,SAAW,KACjCqd,EAAqB9D,EAAsBvZ,QAAQ+P,GACnDuN,EAAoBpV,KAAKkS,IAAI8C,EAAeC,GAC5CI,EAAkBH,EAAUlV,KAAKkS,IAAI8C,EAAeE,GAAW,KAC/DI,EAAYD,IAAoBF,EAAqBE,EAAkBD,EAW7E,GAVIvE,GACFpW,QAAQ6P,IAAI,CACV2K,eACAC,UACAF,eACAnV,MAAOmK,EAASlS,QAAQ4b,WACxB/U,SAAUqL,EAASlS,QAAQyd,OAC3BJ,uBAGAG,EAAYd,GAA0CtD,EAAmBpZ,UAAYkd,EAwBvF,OAvBInE,GACFpW,QAAQ6P,IAAI,UAAW,CACrB0K,eACAQ,OAAQP,EACRC,UACAI,YACAH,uBAGJjF,GAAKlG,EAAUgL,GACf5D,EAAStZ,QAAUkd,EACnB9D,EAAmBpZ,QAAUkd,EACzBrW,IAAYwW,IACVvW,EAAe,GACjBkV,EAAsBkB,GAEpBhL,EAASlS,QAAQyd,QACnBxL,GAA6BC,EAAUC,EAAWC,SAGjDuG,GA9KqBgF,EAACjgB,EAAKkI,KACpC,GAAY,OAARlI,EACF,OAEF,GAA4B,IAAxBA,EAAIkgB,SAAS1M,OACf,OAEF,GAAIxT,EAAIkgB,SAAS1M,OAAS,EACxB,OAEF,GAAIgH,GAAcxa,EAAIqS,KACpB,OAEF,MAAMuF,EAAiB5X,EAAIkgB,SAASzO,MAAM,GAApCmG,EAA6C5X,EAAIkgB,SAASC,IAAI,GACpE,GAAoB,IAAhBvI,GAAmC,IAAdA,EAAiB,CACxC,MAAMwI,EAAM,CACV,aAAapgB,EAAIqS,0DACjB,2FACA,yCACA,kFACA,2EACAnV,KAAK,MACP,GAAa,kBAATgL,EACFjD,QAAQ2L,MAAMwP,OACT,IAAa,oBAATlY,EAGT,MAAM,IAAIjL,MAAMmjB,GAFhBnb,QAAQC,KAAK,aAAalF,EAAIqS,wMAGhC,CACAmI,GAAcxa,EAAIqS,MAAO,CAC3B,GAiJM4N,CAA0BzL,EAASlS,QAAS2Y,EAA+B,kBAAoB,kBAInG,MAAMoF,EAAgBlX,EAAU,IAAO,KACjCmX,EAAmB9V,KAAKkS,IAAIlI,EAASlS,QAAQuY,YAAc2E,GAAgBa,EAC3EhB,EAA+BrC,GAAuBG,IACtDoD,EAA2B/E,EAAW4D,UAAU9c,UAAY+c,EAC7DlW,IAAWoX,GAOZ/L,EAASlS,QAAQyd,SAAWvL,EAASlS,QAAQke,OAA2B,IAAlB9S,KACpD4S,IACF5F,GAAKlG,EAAUgL,GACf5D,EAAStZ,QAAUkd,GAErBjL,GAA6BC,EAAUC,EAAWC,GAC7CiL,GACCvW,EAAe,GACjBkV,EAAsBkB,IAdtBc,IACF5F,GAAKlG,EAAUgL,GACf5D,EAAStZ,QAAUkd,EAevB,GACC,CACD9R,EACAsR,EACAV,EACA9C,EAAW4D,UACXvE,EACAQ,EACA0B,EACAI,EACAH,EACAxI,EACAC,EACAwG,EACA7R,EACAD,EACAkJ,EACAqC,GACA,EAKA+L,GAAqBjM,IACvB,MAAOkM,EAAcC,IAAmBC,EAAAA,EAAAA,UAAW,GAqBnD,OApBAC,EAAAA,EAAAA,YAAY,KACV,MAAM7gB,EAAMwU,EAASlS,QACrB,IAAKtC,EACH,OAEF,MAAM8gB,EAAWA,KACfH,EAAgB3gB,EAAIwS,OAAO,EAG7B,OADAxS,EAAI+d,iBAAiB,eAAgB+C,GAC9B,IAAM9gB,EAAIie,oBAAoB,eAAgB6C,EAAS,GAC7D,CAACtM,KACJqM,EAAAA,EAAAA,YAAY,KACV,MAAM7gB,EAAMwU,EAASlS,QAChBtC,GAGDA,EAAIwS,SAAWkO,GACjBC,EAAgB3gB,EAAIwS,OACtB,GACC,CAACkO,EAAclM,IACXkM,CAAY,EAQjBK,GAAyBA,CAACC,EAAMC,IAC3BzW,KAAKkS,IAAIsE,EAAOC,GAFY,KAMjCC,GAA4BC,IAM1B,IAN2B,gBAC/BC,EAAe,aACfV,EAAY,OACZlO,EAAM,YACN0C,EAAW,SACXV,GACD2M,GACCE,EAAAA,EAAAA,YAAY,KACV,MAAMC,EAAsBtM,GAAe,CACzC9L,MAAOkY,EACP5O,SACA0C,cACAC,gCAAgC,KAE7B4L,GAAuBO,EAAqBZ,IAAiBlM,EAASlS,UACzEkS,EAASlS,QAAQkQ,OAAS8O,EAC5B,GACC,CAACZ,EAAcU,EAAiB5M,EAAUhC,EAAQ0C,GAAa,EAKhEqM,IAAqBC,EAAAA,EAAAA,eAAgB,CACvCC,YAAY,EACZvM,YAAa,IAEXwM,IAAwBF,EAAAA,EAAAA,eAAgB,CAC1CG,cAAeA,KACb,MAAM,IAAI1kB,MAAM,UAAU,EAE5B2kB,eAAgBA,KACd,MAAM,IAAI3kB,MAAM,UAAU,IAG1B4kB,GAAsBA,KACxB,MAAM,YAAE3M,IAAgB4M,EAAAA,EAAAA,YAAaP,KAC/B,eAAEK,IAAmBE,EAAAA,EAAAA,YAAaJ,IACxC,OAAOK,EAAAA,EAAAA,UAAU,IACR,CAAC7M,EAAa0M,IACpB,CAAC1M,EAAa0M,GAAgB,EAE/BI,GAAqBA,KACvB,MAAM,WAAEP,IAAeK,EAAAA,EAAAA,YAAaP,KAC9B,cAAEI,IAAkBG,EAAAA,EAAAA,YAAaJ,IACvC,OAAOK,EAAAA,EAAAA,UAAU,IACR,CAACN,EAAYE,IACnB,CAACF,EAAYE,GAAe,EA4C7BM,IAAqBC,EAAAA,EAAAA,eAAgB,MAgTrCC,IAAkBC,EAAAA,EAAAA,aApIsBC,CAACxjB,EAAOmB,KAClD,MAAOsiB,IAAsCC,EAAAA,EAAAA,UAAW1jB,EAAM2jB,yBAC9D,GAAI3jB,EAAM2jB,0BAA4BF,EACpC,MAAM,IAAIrlB,MAAM,uEAElB,MAAM,OACJuV,EAAM,MACNuC,EAAK,aACL3L,EAAY,wBACZoZ,EAAuB,IACvBnQ,EAAG,WACHoQ,EAAU,6BACVC,EAA4B,0CAC5BC,EAAyC,kCACzCC,EAAiC,uBACjC5V,EAAsB,sBACtB6V,EAAqB,+BACrB1N,EAA8B,KAC9BzY,EAAI,mBACJye,EAAkB,eAClBtO,EAAc,wBACdiW,EAAuB,MACvB9jB,KACG+jB,GACDlkB,GACGqW,GAAe2M,MACfJ,GAAcO,KACfZ,EAAkBvN,GAAsBiP,GAA2B,WACnE,OAAEvhB,IAAWyhB,EAAAA,EAAAA,YAAa1hB,GAChC,IAAK+Q,EACH,MAAM,IAAI5N,UAAU,mCAEtB,MAAMwe,EAAe7Q,GAAWC,GAC1BlG,GAAkB6W,EAAAA,EAAAA,YAAajiB,IAC9BmiB,IAAcX,EAAAA,EAAAA,WAAW,IAAMlV,OAAO7C,KAAK8C,YAC5C6V,EAAmB5hB,EAAO2hB,KAAe,EACzC5B,EAAsBtM,GAAe,CACzC9L,MAAOkY,EACP5O,SACA0C,cACAC,gCAAgC,IAE5BiO,GAAcC,EAAAA,EAAAA,UAAU,KACrB,CACLtO,MAAOA,GAAS0M,GAAc0B,GAAoB7B,GAAuB,EACzEjP,IAAK4Q,EACLK,KAAMV,KACHG,KAEJ,CACDH,EACAO,EACA1B,EACA1M,EACAgO,EACAE,EACA3B,IAUIiC,EArGaC,EAACC,EAAKC,KACzB,MAAMC,GAAMC,EAAAA,EAAAA,YAAa3B,KAClB4B,IAAQC,EAAAA,EAAAA,WAAW,IACpBH,GAAOA,EAAII,kBAAoB,EAC1BJ,EAAIK,cAAcP,EAAKC,GAEzB,CACLO,GAAIC,EAAAA,YACJ5b,GAAIkC,KAAK8C,SACTzO,MAAO4kB,EACPC,aAGES,EAAcD,EAAAA,oBAA8BA,EAAAA,gBAelD,MAdwB,qBAAbE,WACTD,GAAY,KACNR,GAAOA,EAAII,kBAAoB,GACjCJ,EAAIU,YAAY,CAAE/b,GAAIub,EAAKvb,GAAImb,MAAKC,WACtC,GACC,CAACD,EAAKE,EAAKE,EAAKvb,GAAIob,IACvBS,GAAY,IACH,KACDR,GAAOA,EAAII,kBAAoB,GACjCJ,EAAIW,gBAAgBT,EAAKvb,GAC3B,GAED,CAACqb,EAAKE,EAAKvb,MAETub,CAAI,EAyEML,CAAeJ,GARrBC,EAAAA,EAAAA,UAAU,IAAM,SAAS/V,GAAO+E,GAAO,OAAOlG,GAAiBV,gBAAgBU,GAAiBX,iBAAiBW,GAAiBlF,0BAA0BpI,EAAMkW,cAAclW,EAAMykB,QAAQ,CACvMjR,EACAlG,GAAiBV,aACjBU,GAAiBX,cACjBW,GAAiBlF,iBACjBpI,EAAMkW,MACNlW,EAAMykB,QAEyCW,GAC3CvD,EAAeD,GAAkB8C,GACvCrC,GAA0B,CACxBE,kBACAV,eACAlO,SACA0C,cACAV,SAAU+O,IAEZhO,GAAmB,CACjB/C,SACA0C,cACAV,SAAU+O,EACVlR,MACAoC,UAAW,QACXrL,aAAcA,GAAgB,EAC9BkF,YAAa5R,GAAQ,KACrB4L,GAAI4a,EACJlkB,MAAOgO,EACPH,iBACAK,gBAAiB,KACjBwH,gBAAiB,OAEnBoG,GAAiB,CACftG,SAAU+O,EACVlR,MACAoC,UAAW,QACXrL,aAAcA,GAAgB,EAC9B6R,8BAA8B,EAC9BC,oBAAqBwH,GAAgCjI,GACrDW,cAAezb,QAAQwM,GAAiB2B,aACxCqN,qBACAE,aAAcwH,EACdnO,gBAAiB,QAEnB6P,EAAAA,EAAAA,qBAAqBvkB,GAAK,IACjBujB,EAASjhB,SACf,CAACihB,IACJ,MAAMiB,GAA4BC,EAAAA,EAAAA,UAmBlC,OAlBAD,EAA0BliB,QAAUmgB,GACpCiC,EAAAA,EAAAA,YAAY,KACV,MAAM,QAAEpiB,GAAYihB,EACpB,IAAKjhB,EACH,OAEF,GAAIA,EAAQ+L,SAEV,YADAmW,EAA0BliB,UAAUA,EAAQ+P,IAAK/P,EAAQ+L,UAG3D,MAAMsW,EAAmBA,KACvBH,EAA0BliB,UAAUA,EAAQ+P,IAAK/P,EAAQ+L,SAAS,EAGpE,OADA/L,EAAQyb,iBAAiB,iBAAkB4G,GACpC,KACLriB,EAAQ2b,oBAAoB,iBAAkB0G,EAAiB,CAChE,GACA,CAACpB,EAAUlR,IACViQ,EACK,MAEcsC,EAAAA,EAAAA,KAAM,QAAS,CACpC5kB,IAAKujB,EACLsB,QAAS,cACNzB,GACH,IAgBkB,qBAAX1lB,SACTA,OAAOonB,sBAAuB,GAEhC,IAAIC,GAAU,GACQ,qBAAXrnB,SACTA,OAAOsnB,6BAA+B,CAAC,GAEzC,IAAIC,GAA+B,8BAI/BC,GAAcA,CAACC,EAAOje,KACxB,GAAqB,kBAAVie,GAAuC,qBAAVA,EACtC,MAAM,IAAIloB,MAAM,4EAA8E+I,KAAK8D,UAAUqb,IAE/G,MAAMC,EAAS5a,KAAK8C,SACpByX,GAAQ3lB,KAAKgmB,GACb,MAAMC,EAASpoB,QAAQ+B,OAAOoH,QAAQ,UAAW,KAAO,GACxD,GAAI5I,IAAyBI,YAAa,CACxC,MAAM0nB,GAAgBpe,GAASqe,wBAA4C,qBAAX7nB,OAT/C,IASyFA,OAAOK,2BAThG,MASgJ,IACjK,GAAsB,qBAAXL,OAAwB,CACjC,MAAM8nB,GAAete,GAASue,SAAW,IAAM/nB,OAAOgoB,iBAAmB,GACzEhoB,OAAOsnB,6BAA6BI,GAAU,CAC5CD,MAAOA,GAAS,KAChBQ,QAASC,YAAW,KAClB,MAAM5gB,EAAU,CACd,kBACAmgB,EAAQ,IAAIA,KAAW,KACvB,oCAAoCG,uDACpCE,EAAc,EArBM,iBAqB0BA,EAAc,KAC5DA,EAAc,EArBK,yCAqB0B,KAC7CP,GACAI,GACA9O,OAAO9W,GAAQvC,KAAK,KACtBwT,GAAazT,MAAM+H,GAAS,GAC3BsgB,GAEP,CACF,CAIA,MAHsB,qBAAX5nB,SACTA,OAAOonB,sBAAuB,GAEzBM,CAAM,EAEXS,GAAkBT,IACpB,GAAsB,qBAAXA,EACT,MAAM,IAAI3gB,UAAU,+HAEtB,GAAsB,kBAAX2gB,EACT,MAAM,IAAI3gB,UAAU,gHAAkHuB,KAAK8D,UAAUsb,IAYhI,KAVvBL,GAAUA,GAAQxO,QAAQuP,GACpBA,IAAMV,IACJ5nB,IAAyBI,cAC3BmoB,aAAaroB,OAAOsnB,6BAA6BI,GAAQO,gBAClDjoB,OAAOsnB,6BAA6BI,KAEtC,MAIC5R,QAAkC,qBAAX9V,SACjCA,OAAOonB,sBAAuB,EAChC,EAqIEkB,IAAoBC,EAAAA,EAAAA,aA9HqBC,CAACrnB,EAAOmB,KACnD,MAAMujB,GAAW4C,EAAAA,EAAAA,QAAQ,OAEvB3T,OAAQ4T,EAAU,aAClBhd,EAAY,+BACZ+L,EAA8B,WAC9BsN,EAAU,cACV4D,EAAa,0CACb1D,EAAyC,kCACzCC,EAAiC,6BACjCF,EAA4B,KAC5BhmB,EAAI,QACJohB,EAAO,mBACPwI,EAAkB,iCAClBC,EAAgC,wBAChCzD,EAAuB,mBACvB3H,KACG4H,GACDlkB,EACE6O,EAAgBjL,IAChB2e,EAAkBvN,GAAsBiP,GAA2B,UACnE5Z,EAAQoC,KACRa,GAAkBqa,EAAAA,EAAAA,YAAazlB,IAC/B,oBAAE4O,EAAmB,sBAAEC,IAA0B4W,EAAAA,EAAAA,YAAa/W,IAC9DnH,GAAKme,EAAAA,EAAAA,UAAU,IAAM,SAASnZ,GAAOzO,EAAMwT,KAAO,OAAOlG,GAAiBV,gBAAgBU,GAAiBX,iBAAiBW,GAAiBlF,oBAAoB,CACrKpI,EAAMwT,IACNlG,GAAiBV,aACjBU,GAAiBX,cACjBW,GAAiBlF,mBAEbuL,EAASwC,GAAe,CAC5BxC,OAAQ4T,EACRld,MAAOkY,EACPlM,YAAa,EACbC,+BAAgCA,IAAkC,KAEpEuR,EAAAA,EAAAA,qBAAqB1mB,GAAK,IACjBujB,EAASjhB,SACf,KACHqkB,EAAAA,EAAAA,YAAY,KACV,IAAK9nB,EAAMwT,IACT,MAAM,IAAIpV,MAAM,iBAElB,GAAKS,OAAOkpB,wBAGR/nB,EAAMkW,SAGNvC,GAAU,GAed,OAZA7C,EAAoB,CAClBzH,KAAM,QACNmK,IAAKvC,GAAejR,EAAMwT,KAC1B/J,KACAY,MAAOwE,EACP8E,SACAqU,WAAY3d,EACZE,aAAcvK,EAAMuK,cAAgB,EACpC+L,+BAAgCA,IAAkC,EAClEkR,cAAeA,GAAiB,KAChCS,gBAAiBtc,KAAKqD,IAAI,IAAK1B,GAAiBV,cAAgB,MAE3D,IAAMmE,EAAsBtH,EAAG,GACrC,CACDzJ,EAAMkW,MACNlW,EAAMwT,IACN1C,EACAjC,EACApF,EACAsH,EACA4C,EACA4O,EACAlY,EACAE,EACAvK,EAAMuK,aACN+L,EACAkR,EACAla,GAAiBV,eAEnB,MAAM,IAAE4G,GAAQxT,EACVkoB,EAAwB/mB,GAAO2iB,EAoCrC,OAnCAqE,EAAAA,EAAAA,kBAAiB,KACf,GAAsC,SAAlCtpB,OAAOG,SAASC,KAAKsY,SACvB,OAEF,IAAK2Q,EACH,OAEF,MAAME,EAAY/B,GAAY,qCAAuC7S,EAAK,CACxEoT,QAASa,QAAsBpc,EAC/Bqb,sBAAuBgB,QAAoCrc,KAEvD,QAAE5H,GAAYihB,EACd2D,EAAUA,KACV5kB,GAAS+L,UACXoU,EAAWngB,EAAQ+P,IAAK/P,EAAQ+L,UAElCwX,GAAeoB,EAAU,EAQ3B,OANI3kB,GAAS+L,UACXoU,EAAWngB,EAAQ+P,IAAK/P,EAAQ+L,UAChCwX,GAAeoB,IAEf3kB,GAASyb,iBAAiB,iBAAkBmJ,EAAS,CAAElJ,MAAM,IAExD,KACL1b,GAAS2b,oBAAoB,iBAAkBiJ,GAC/CrB,GAAeoB,EAAU,CAC1B,GACA,CACD5U,EACAoQ,EACAsE,EACAT,EACAC,IAEGQ,GAGkBI,EAAAA,EAAAA,KAAM,QAAS,CACpCnnB,IAAKujB,KACFR,IAJI,IAKP,IAoGAqE,IAAQC,EAAAA,EAAAA,aA5FqBC,CAACzoB,EAAOmB,KACvC,MAAMunB,GAAeC,EAAAA,EAAAA,YAAavF,KAC5B,UACJ1R,EAAS,MACTF,EAAK,KACL3T,EAAI,MACJsC,EAAK,mBACLmc,EAAkB,eAClBtO,EAAc,sBACdgW,KACG1T,GACDtQ,GACIykB,KAAMmE,KAAUC,GAAuB7oB,GACzC,IAAEwI,GAAQ+D,IACVuc,EAAcnqB,KACd,UAAEoV,EAAS,aAAEC,IAAiB2U,EAAAA,EAAAA,YAAa9U,IACjD,GAAyB,kBAAd7T,EAAMwT,IACf,MAAM,IAAI5N,UAAU,8DAA8DuB,KAAK8D,UAAUjL,EAAMwT,iBAEzG,MAAM4Q,EAAe7Q,GAAWvT,EAAMwT,KAChCyL,GAAU8J,EAAAA,EAAAA,cAAcC,IAC5B5iB,QAAQ6P,IAAI+S,EAAEC,cAAclX,OAC5B,MAAMmX,EAAa,iCAAiC9E,MAAiB4E,EAAEC,cAAclX,sEACjF6W,EACF/W,GAAa,IAAIzT,MAAM8qB,IAEvB9iB,QAAQC,KAAK6iB,EACf,GACC,CAACN,EAAOxE,IACLR,GAAamF,EAAAA,EAAAA,cAAa,CAACvV,EAAK2V,KACpCnV,EAAa,CAAE3K,KAAM,eAAgB8f,oBAAmB3V,OAAM,GAC7D,CAACQ,IACEoV,EAAkBrV,EAAU9C,GAAemT,KAAkBrQ,EAAU9C,GAAejR,EAAMwT,MAClG,GAAIoV,QAA6Bvd,IAApB+d,EAA+B,CAC1C,MAAM5Z,EAAW4Z,EAAkB5gB,EACnC,OAAuB6gB,EAAAA,EAAAA,KAAMjX,GAAM,CACjC9D,OAAQ,OACRlG,iBAAkBkJ,GAAsB,CACtCE,QACAC,cAAejC,EACfjF,aAAcvK,EAAMuK,cAAgB,EACpCmH,cAEF1E,UAA0Bqc,EAAAA,EAAAA,KAAMd,GAAO,IAClCM,EACH1nB,MACA4iB,mCAAmC,KAGzC,CACA,GAAyB,qBAAdrS,GAA8C,qBAAVF,EAAuB,CACpEoC,GAAuBlC,EAAWF,GAClC,MAAM8X,EAAmB5X,GAAa,EAChC6X,EAAe/X,GAASzD,IAC9B,OAAuBsb,EAAAA,EAAAA,KAAM3Y,GAAU,CACrCpC,OAAQ,OACRR,KAAM,EAAIwb,EACVtb,gBAAgB,EAChB5F,iBAAkBmhB,EAClB1rB,OACAmP,UAA0Bqc,EAAAA,EAAAA,KAAMd,GAAO,CACrCzE,0CAA2ChjB,QAAQ8nB,GACnDtM,mBAAoBA,IAAsB,KACvChM,EACHnP,SAGN,CAEA,OADAuS,GAAmB1T,EAAO,SACtB8oB,EAAY/pB,aACSsqB,EAAAA,EAAAA,KAAMlC,GAAmB,CAC9CvD,gBACG5jB,EACHmB,MACA8d,UACA6E,0CAA2ChjB,QAAQ8nB,MAGhCS,EAAAA,EAAAA,KAAM/F,GAAiB,CAC5CS,kCAAmC/jB,EAAM+jB,oCAAqC,EAC9EC,sBAAuBA,IAAyB,EAChD7V,uBAAwBhO,GAAS,KACjCwjB,wBAA0C,OAAjB+E,GAAyBA,EAAaxD,kBAAoB,KAChFllB,EACHmB,MACA8d,UACA2E,aACAtH,mBAAoBA,IAAsB,EAC1CwH,0CAA2ChjB,QAAQ8nB,GACnD5a,eAAgBA,IAAkB,GAClC,IAGJ3N,EAAuBkoB,KA4BHiB,EAAAA,EAAAA,eAAgB,CAClCC,WAAY,KACZC,WAAY,OAkJoDlb,OAP5C,mCA2JAmb,EAAAA,aAgWTC,EAAAA,EAAAA,aA9BaC,CAAAC,EAMvB3oB,KAAQ,IANgB,OACzB4oB,EAAM,QACN9K,EAAO,mBACPwI,EAAkB,iCAClBC,KACGsC,GACJF,EACC,MAAOvD,IAAU0D,EAAAA,EAAAA,WAAW,IAAM5D,GAAY,gCAAgC2D,EAAOxW,MAAO,CAC1FoT,QAASa,QAAsBpc,EAC/Bqb,sBAAuBgB,QAAoCrc,MAEvDgd,GAAU6B,EAAAA,EAAAA,cAAelB,IAC7BhC,GAAeT,GACfwD,IAASf,EAAE,GACV,CAACzC,EAAQwD,IACNI,GAAcD,EAAAA,EAAAA,cAAelB,IACjChC,GAAeT,GACXtH,EACFA,EAAQ+J,GAER5iB,QAAQ2L,MAAM,wBAAyBiX,EAAG,4EAC5C,GACC,CAACzC,EAAQtH,IACZ,OAAuBmL,EAAAA,EAAAA,KAAM,SAAU,IAClCJ,EACH7oB,MACA8d,QAASkL,EACTJ,OAAQ1B,GACR,KAgIMgC,EAAAA,EAAAA,aA9GaC,CAAAC,EASpBppB,KAAQ,IATa,QACtB8d,EAAO,WACPuL,EAAa,EAAC,IACdhX,EAAG,iBACHiX,EAAgB,mBAChBhD,EAAkB,iCAClBC,EAAgC,aAChCgD,KACGV,GACJO,EACC,MAAMI,GAAWC,EAAAA,EAAAA,QAAS,MACpBC,GAASD,EAAAA,EAAAA,QAAS,CAAC,IACnB,cAAE1S,GAAkBL,KACpBvK,GAAkBwd,EAAAA,EAAAA,YAAa5oB,GACrC,IAAKsR,EACH,MAAM,IAAIpV,MAAM,uCAElB2sB,EAAAA,EAAAA,qBAAqB5pB,GAAK,IACjBwpB,EAASlnB,SACf,IACH,MAAM8W,EAAYhH,GAAWC,GACvBwX,GAAUC,EAAAA,EAAAA,cAAenE,IAC7B,IAAK6D,EAASlnB,QACZ,OAEF,MAAMynB,EAAaP,EAASlnB,QAAQ+P,IACpCuT,YAAW,KACT,IAAK4D,EAASlnB,QACZ,OAEF,MAAM0nB,EAASR,EAASlnB,SAAS+P,IAC7B2X,IAAWD,IAGfP,EAASlnB,QAAQ2nB,gBAAgB,OACjCT,EAASlnB,QAAQ4nB,aAAa,MAAOF,GAAO,GAC3CrE,EAAQ,GACV,IACGqD,GAAcc,EAAAA,EAAAA,cAAejC,IACjC,GAAK6B,EAAOpnB,QAIZ,GADAonB,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,MAAQqX,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,MAAQ,GAAK,EACnFyL,IAAY4L,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,MAAQ,GAAKgX,EAC5DvL,EAAQ+J,OADV,CAIA,IAAK6B,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,MAAQ,IAAMgX,EAAY,CAC9D,MAAMc,EArDH,IAAO,KAqDyBT,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,MAAQ,GArD/C,GAwD7B,OAFApN,QAAQC,KAAK,oCAAoCskB,EAASlnB,SAAS+P,0BAA0B8X,YAC7FN,EAAQM,EAEV,CACAzZ,GAAa,iCAAmC8Y,EAASlnB,SAAS+P,IAPlE,CAOsE,GACrE,CAACgX,EAAYvL,EAAS+L,IACzB,GAAsB,qBAAXnsB,OAAwB,CACjC,MAAM0d,EAAgBzb,QAAQwM,GAAiB2B,cAC/Csc,EAAAA,EAAAA,kBAAiB,KACf,GAAsC,SAAlC1sB,OAAOG,SAASC,KAAKsY,SACvB,OAEF,MAAM6Q,EAAY/B,GAAY,0BAA4B9L,EAAW,CACnEqM,QAASa,QAAsBpc,EAC/Bqb,sBAAuBgB,QAAoCrc,IAEvD8M,EAAUsS,IAAqBlO,EAAgBrE,IAAgBC,QAAU,KACvE,GAEF,QAAE1U,GAAYknB,EACda,EAAaA,MACZX,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,MAAQ,GAAK,WAC1CqX,EAAOpnB,QAAQknB,EAASlnB,SAAS+P,KACxCpN,QAAQuX,KAAK,sBAAsBgN,EAASlnB,SAAS+P,sBAEnD/P,GACFinB,IAAejnB,GAEjB0U,IACA6O,GAAeoB,EAAU,EAErBC,EAAUA,KACdmD,GAAY,EAOd,OALI/nB,GAASgoB,SACXD,IAEA/nB,GAASyb,iBAAiB,OAAQmJ,EAAS,CAAElJ,MAAM,IAE9C,KACL1b,GAAS2b,oBAAoB,OAAQiJ,GACrClQ,IACA6O,GAAeoB,EAAU,CAC1B,GACA,CACD7N,EACArC,EACAuP,EACAC,EACA+C,EACAlO,EACAmO,GAEJ,CACA,OAAuBgB,EAAAA,EAAAA,KAAM,MAAO,IAC/B1B,EACH7oB,IAAKwpB,EACLnX,IAAK+G,EACL0E,QAASkL,GACT,IA5GJ,IAgHIwB,GAAsB,CAAC,EAC3BjuB,EAASiuB,GAAqB,CAC5BC,sBAAuBA,IAAMA,GAC7BC,UAAWA,IAAMA,GACjBC,2BAA4BA,IAAMA,KAEpC,IAAIC,GAAW,CAAC,EACZF,GAAaG,IACf,GAAwB,qBAAbzG,SACT,OAEF,GAAIwG,GAASC,GACX,OAEF,MAAMC,EAAO1G,SAAS0G,MAAQ1G,SAAS2G,qBAAqB,QAAQ,GAC9D9qB,EAAQmkB,SAAS4G,cAAc,SACrC/qB,EAAMgrB,YAAY7G,SAAS8G,eAAeL,IAC1CC,EAAKK,QAAQlrB,GACb2qB,GAASC,IAAO,CAAI,EAElBF,GAA6B,4BAC7BF,GAAwBA,CAACW,EAAOC,IAC7BD,EAcE,SACHA,oDAGAA,kFAIAA,MAAUT,8CArBL,0GAMcU,mBAElBV,gDA+LmBW,EAAAA,cAAsB,OACvBC,EAAAA,EAAAA,eAAgB,CACvCC,QAASA,KACD,EAERC,KAAM,CAAEA,KAAM,OAAQC,YAAa,CAAEC,EAAG,EAAGC,EAAG,MAkXhD,IA8PIC,IAAwBC,EAAAA,EAAAA,gBAAgB,GAOxCC,GAA4BC,IAAkB,IAAjB,SAAEngB,GAAUmgB,EAC3C,OAAuBC,EAAAA,EAAAA,KAAMJ,GAAsBvf,SAAU,CAC3D5M,OAAO,EACPmM,YACA,EAmBAqgB,IAAiBC,EAAAA,EAAAA,aANqBC,CAAAC,EAAeC,KAAS,IAAvB,SAAEzgB,GAAUwgB,EAErD,MAb+BE,MAE/B,IADuBC,EAAAA,WAAmBX,IAExC,MAAM,IAAI5uB,MAAM,wDAClB,EAQAsvB,IACuBE,EAAAA,EAAAA,KAAMV,GAA2B,CACtDlgB,YACA,IAuEJ3M,EAAuBgtB,IAiMX,IAAIQ,IAmDhB,IAoaIC,IAAkBC,EAAAA,EAAAA,aAhKyBC,CAAChE,EAAQ7oB,KACtD,MAAM8sB,GAAWC,EAAAA,EAAAA,QAAS,OACpB,OACJva,EAAM,MACNuC,EAAK,aACL3L,EAAY,6BACZ6R,EAA4B,IAC5B5I,EAAG,WACHoQ,EAAU,oBACVuK,EAAmB,6BACnBtK,EAA4B,cAC5B2D,EAAa,KACb3pB,EAAI,kCACJkmB,EAAiC,uBACjC5V,EAAsB,sBACtB6V,EAAqB,MACrB5iB,EAAK,mBACLkb,EAAkB,eAClBtO,EAAc,wBACdiW,EAAuB,QACvBhF,EAAO,gBACPpJ,EAAe,aACfuY,EAAY,YACZC,KACGnK,GACD8F,EACEzH,EAAkBvN,GAAsBiP,GAA2B,WACnE,IAAEzb,EAAG,iBAAEJ,GAAqBmE,IAC5BmC,GAAiB4f,EAAAA,EAAAA,YAAapsB,IAC9B,OAAEQ,IAAW4rB,EAAAA,EAAAA,YAAa7rB,IACzB4hB,IAAckK,EAAAA,EAAAA,WAAW,IAAM/f,OAAO7C,KAAK8C,YAC5C6V,EAAmB5hB,EAAO2hB,KAAe,EAC/C,GAAmC,qBAAxB8J,EACT,MAAM,IAAI/vB,MAAM,mFAElB,MAAMyjB,EAAeD,GAAkBqM,IAChC5X,GAAe2M,MACfJ,GAAcO,KACrBzM,GAAmB,CACjBf,SAAUsY,EACVta,SACA0C,cACAT,UAAW,QACXpC,MACAjJ,aAAcyf,EAAOzf,cAAgB,EACrCkF,YAAa5R,GAAQ,KACrB4L,GAAI4a,EACJlkB,MAAOgO,EACPH,iBACAK,gBAAiB,KACjBwH,gBAAiBA,GAAmB,OAEtCwM,GAA0B,CACxBE,kBACAV,eACAlO,SACA0C,cACAV,SAAUsY,IAEZhS,GAAiB,CACftG,SAAUsY,EACVza,MACAoC,UAAW,QACXrL,aAAcyf,EAAOzf,cAAgB,EACrC6R,+BACAC,oBAAqBwH,GAAgCjI,GACrDW,cAAezb,QAAQ4N,GAAgBO,aACvCqN,qBACAE,aAAcwH,EACdnO,gBAAiBA,GAAmB,OAEtC,MAAMgB,EAAanI,EAAiBA,EAAe9B,aAAe,EAC5D4C,EAAWd,EAAiB/C,KAAKC,IAAI8C,EAAetG,iBAAkBA,GAAoBA,EAC1FmS,EAAYG,GAAuB,CACvCH,UAAWhH,GAAWC,GACtBqD,aACArH,WACAhH,SAEFgmB,EAAAA,EAAAA,qBAAqBrtB,GAAK,IACjB8sB,EAASxqB,SACf,KACHgrB,EAAAA,EAAAA,YAAY,KACV,MAAM,QAAEhrB,GAAYwqB,EACpB,IAAKxqB,EACH,OAEF,MAAMirB,EAAeA,KACnB,GAAIjrB,EAAQsO,MAAO,CAEjB,GADA3L,QAAQ2L,MAAM,0BAA2BtO,GAASsO,OAC9CkN,EAAS,CACX,MAAMnN,EAAM,IAAI1T,MAAM,QAAQqF,EAAQsO,MAAM4c,SAASlrB,EAAQsO,MAAM5L,WAEnE,YADA8Y,EAAQnN,EAEV,CACA,MAAM,IAAI1T,MAAM,sDAAsDoV,WAAa/P,EAAQsO,MAAM4c,UAAUlrB,GAASsO,OAAO5L,oHAC7H,CACE,IAAI8Y,EAKJ,MAAM,IAAI7gB,MAAM,sDALhB,CACE,MAAM0T,EAAM,IAAI1T,MAAM,sDAAsDoV,KAC5EyL,EAAQnN,EAEV,CAEF,EAGF,OADArO,EAAQyb,iBAAiB,QAASwP,EAAc,CAAEvP,MAAM,IACjD,KACL1b,EAAQ2b,oBAAoB,QAASsP,EAAa,CACnD,GACA,CAACzP,EAASzL,IACb,MAAMmS,GAA4BuI,EAAAA,EAAAA,UAClCvI,EAA0BliB,QAAUmgB,EA9IdgL,KAGlB,IAHmB,IACvBztB,EAAG,aACHitB,GACDQ,GACCC,EAAAA,EAAAA,YAAY,KACV,MAAM,QAAEprB,GAAYtC,EACpB,IAAKsC,EACH,OAEF,IAAK2qB,EACH,OAEF,IAAI7H,EAAS,EACb,MAAMuI,EAAWA,KACV3tB,EAAIsC,UAGT2qB,EAAajtB,EAAIsC,SACjB8iB,EAASplB,EAAIsC,QAAQ8Z,0BAA0BuR,GAAS,EAG1D,OADAA,IACO,KACLrrB,EAAQua,yBAAyBuI,EAAO,CACzC,GACA,CAAC6H,EAAcjtB,GAAK,EAuHvB4tB,CAAkB,CAAE5tB,IAAK8sB,EAAUG,kBACnCK,EAAAA,EAAAA,YAAY,KACV,MAAM,QAAEhrB,GAAYwqB,EACpB,IAAKxqB,EACH,OAEF,GAAIA,EAAQ+L,SAEV,YADAmW,EAA0BliB,UAAU+P,EAAK/P,EAAQ+L,UAGnD,MAAMsW,EAAmBA,KACvBH,EAA0BliB,UAAU+P,EAAK/P,EAAQ+L,SAAS,EAG5D,OADA/L,EAAQyb,iBAAiB,iBAAkB4G,GACpC,KACLriB,EAAQ2b,oBAAoB,iBAAkB0G,EAAiB,CAChE,GACA,CAACtS,KACJib,EAAAA,EAAAA,YAAY,KACV,MAAM,QAAEhrB,GAAYwqB,EACfxqB,IAGDmW,KACFnW,EAAQuiB,QAAU,WAElBviB,EAAQuiB,QAAU,OACpB,GACC,IACH,MAAM1kB,GAAc0tB,EAAAA,EAAAA,UAAU,KACrB,IACF5tB,EACHoP,QAAS8T,EAAmB,EAAIljB,GAAOoP,SAAW,KAEnD,CAAC8T,EAAkBljB,IAChB6tB,EAAmBZ,IAAgBD,EAAe,iBAAc/iB,GACtE,OAAuB6jB,EAAAA,EAAAA,KAAM,QAAS,CACpC/tB,IAAK8sB,EACL/X,MAAOA,GAAS0M,EAChBuM,aAAa,EACb3b,IAAK+G,EACLkK,KAAMV,EACN3iB,MAAOE,EACP8tB,uBAAuB,EACvBf,YAAaY,KACV/K,GACH,IAwFAmL,GAAkBzW,GACbjN,KAAKgO,MAAY,IAANf,GAAa,IAE7B0W,GAAaA,CAAC7oB,EAAS8oB,KAEzB,IAAI/R,EADJ/W,EAAQuV,YAAcuT,EAEtB,IAAIC,EAAe,KACnB,MAAM1Z,EAAO,IAAI2Z,SAASC,IACxBlS,EAAS/W,EAAQ8W,2BAA0B,CAACoS,EAAKC,KAC/C,MAAMC,EAAYD,EAASE,oBAAsBH,EAC7CE,GAAa,EACfH,EAAQE,EAAS9R,WAGnBiJ,YAAW,KACT2I,EAAQE,EAAS9R,UAAU,GAC1B+R,EAAY,IAAI,GACnB,IAEEE,EAAqB,IAAIN,SAASC,IACtC,MAAMM,EAASA,KACbN,GAAS,EAEXjpB,EAAQyY,iBAAiB,SAAU8Q,EAAQ,CACzC7Q,MAAM,IAERqQ,EAAeA,KACb/oB,EAAQ2Y,oBAAoB,SAAU4Q,EAAO,CAC9C,IAEH,MAAO,CACLC,KAAMR,QAAQ7xB,IAAI,CAACkY,EAAMia,IAAqBG,MAAKC,IAAA,IAAErlB,GAAKqlB,EAAA,OAAKrlB,CAAI,IACnE0S,OAAQA,KACNgS,MACA/oB,EAAQuX,yBAAyBR,EAAO,EAE3C,EAiPC4S,IAAoBC,EAAAA,EAAAA,aA3LeC,CAAAC,EAapCpvB,KAAQ,IAb6B,QACtC8d,EACAtL,OAAQ4T,EAAU,+BAClBjR,EAA8B,aAC9B/L,EAAY,WACZqZ,EAAU,cACV4D,EAAa,KACb3pB,EAAI,6BACJgmB,EAA4B,mBAC5B4D,EAAkB,iCAClBC,EAAgC,wBAChCzD,KACG+F,GACJuG,EACC,MAAM1hB,EAAgBjL,IAChByG,EAAQoC,KACR+jB,EAAmBxb,GAAsBiP,GAA2B,UACpE1Y,EAAcS,IACdiiB,GAAWwC,EAAAA,EAAAA,QAAS,MACpBnjB,GAAkBojB,EAAAA,EAAAA,YAAaxuB,GAC/B0a,EAAgB9H,KAChBgU,EAAcnqB,KACd,oBAAEmS,EAAmB,sBAAEC,IAA0B2f,EAAAA,EAAAA,YAAa9f,IAC9DnH,GAAKknB,EAAAA,EAAAA,UAAU,IAAM,SAASliB,GAAOub,EAAOxW,KAAO,OAAOlG,GAAiBX,iBAAiBW,GAAiBV,gBAAgBU,GAAiBlF,oBAAoB,CACtK4hB,EAAOxW,IACPlG,GAAiBX,cACjBW,GAAiBV,aACjBU,GAAiBlF,mBAEnB,IAAKmD,EACH,MAAM,IAAInN,MAAM,yBAElB,MAAMuV,EAASwC,GAAe,CAC5BxC,OAAQ4T,EACRld,MAAOmmB,EACPna,YAAa,EACbC,+BAAgCA,IAAkC,KAEpEsa,EAAAA,EAAAA,YAAY,KACV,IAAK5G,EAAOxW,IACV,MAAM,IAAIpV,MAAM,iBAElB,IAAI4rB,EAAO9T,SAGPvC,GAAU,IAGT9U,OAAOkpB,sBAeZ,OAZAjX,EAAoB,CAClBzH,KAAM,QACNmK,IAAKvC,GAAe+Y,EAAOxW,KAC3B/J,KACAY,MAAOwE,EACP8E,SACAqU,WAAY3d,EACZE,aAAcA,GAAgB,EAC9B+L,+BAAgCA,IAAkC,EAClEkR,cAAeA,GAAiB,KAChCS,gBAAiBtc,KAAKqD,IAAI,IAAK1B,GAAiBV,cAAgB,MAE3D,IAAMmE,EAAsBtH,EAAG,GACrC,CACDugB,EAAO9T,MACP8T,EAAOxW,IACP1C,EACArH,EACAsH,EACA4C,EACAtJ,EACAwE,EACAtE,EACA+L,EACAkR,EACAla,GAAiBV,gBAEnBikB,EAAAA,EAAAA,qBAAqB1vB,GAAK,IACjB8sB,EAASxqB,SACf,KACHmtB,EAAAA,EAAAA,YAAY,KACV,IAAK/xB,OAAOiyB,sBACV,OAEF,MAAM,QAAErtB,GAAYwqB,EACpB,IAAKxqB,EACH,OAEF,MAAMuY,EAAcxC,GAAa,CAC/BnP,QACAE,aAAcA,GAAgB,EAC9BmH,WAAYkL,EACZpU,IAAK+C,EAAY/C,MAEb+d,EAASF,GAAY,iCAAiC2D,EAAOxW,OAAQ,CACzEoT,QAASa,QAAsBpc,EAC/Bqb,sBAAuBgB,QAAoCrc,IAE7D,GAAsC,SAAlCxM,OAAOG,SAASC,KAAKsY,SAEvB,YADAyP,GAAeT,GAGjB,GAAIrE,GAAuBze,EAAQuY,YAAaA,GAAc,CAC5D,GAAIvY,EAAQ4b,YAAc,EAExB,YADA2H,GAAeT,GAGjB,MAAMwK,EAAoBA,KACxB/J,GAAeT,EAAO,EAGxB,OADA9iB,EAAQyb,iBAAiB,aAAc6R,EAAmB,CAAE5R,MAAM,IAC3D,KACL1b,EAAQ2b,oBAAoB,aAAc2R,EAAkB,CAEhE,CACA,MAAMC,EAAeA,KACnBhK,GAAeT,EAAO,EAElB0K,EA3KyBC,EAACzqB,EAAS8oB,EAAa/mB,KACxD,MAAM2oB,EAAY,EAAI3oB,EAAM,EAC5B,IAAI4oB,EAAgBA,KACZ,EAER,OAAInpB,OAAOC,SAASzB,EAAQ+I,WAAa/I,EAAQuV,aAAevV,EAAQ+I,UAAY+f,GAAe9oB,EAAQ+I,SAClG,CACLsG,KAAM2Z,QAAQC,UACdlS,OAAQA,QAgCL,CACL1H,KA7BW,IAAI2Z,SAAQ,CAACC,EAAS2B,KACjC,MAAMC,EAAYhC,GAAW7oB,EAAS8oB,EAAc4B,GACpDG,EAAUrB,KAAKC,MAAMqB,IAEnB,GADmB5lB,KAAKkS,IAAI0R,EAAcgC,IACxBJ,EAChB,OAAOzB,IAET,MACM8B,EAAUlC,GAAW7oB,EAAS8qB,EAAWJ,GADlC5B,EAAcgC,EAAW,GAAK,IAE3CH,EAAgBI,EAAQhU,OACxBgU,EAAQvB,KAAKC,MAAMuB,IACjB,MAAMC,EAAgB/lB,KAAKkS,IAAI0R,EAAckC,GAC7C,GAAIpC,GAAeqC,IAAkBrC,GAAe8B,GAClD,OAAOzB,IAET,MAAMiC,EAAYrC,GAAW7oB,EAAS8oB,EAAc4B,GAEpD,OADAC,EAAgBO,EAAUnU,OACnBmU,EAAU1B,KAAKC,MAAK,KACzBR,GAAS,IACR1Z,OAAOlE,IACRuf,EAAOvf,EAAI,GACX,IACDkE,OAAOlE,IACRuf,EAAOvf,EAAI,GACX,IAEJsf,EAAgBE,EAAU9T,MAAM,IAIhCA,OAAQA,KACN4T,GAAe,EAElB,EA8HeF,CAA6BztB,EAASuY,EAAazQ,EAAY/C,KAC7EyoB,EAAMnb,KAAKoa,MAAK,KACdlJ,GAAeT,EAAO,IAExB9iB,EAAQyb,iBAAiB,QAAS8R,EAAc,CAAE7R,MAAM,IACxD,MAAMuP,EAAeA,KACnB,GAAIjrB,GAASsO,MAAO,CAElB,GADA3L,QAAQ2L,MAAM,0BAA2BtO,GAASsO,OAC9CkN,EACF,OAEF,MAAM,IAAI7gB,MAAM,sDAAsD4rB,EAAOxW,aAAa/P,EAAQsO,MAAM4c,UAAUlrB,GAASsO,OAAO5L,oHACpI,CACE,MAAM,IAAI/H,MAAM,6BAClB,EAGF,OADAqF,EAAQyb,iBAAiB,QAASwP,EAAc,CAAEvP,MAAM,IACjD,KACL8R,EAAMzT,SACN/Z,EAAQ2b,oBAAoB,QAAS4R,GACrCvtB,EAAQ2b,oBAAoB,QAASsP,GACrC1H,GAAeT,EAAO,CACvB,GACA,CACDiK,EACAxG,EAAOxW,IACPjJ,EACAgB,EAAY/C,IACZ6B,EACAuS,EACAqC,EACAwI,EACAC,IAEF,MAAM,IAAElU,GAAQwW,EA6BhB,OA5BIlB,EAAY/pB,cACd6yB,EAAAA,EAAAA,kBAAiB,KACf,GAAsC,SAAlC/yB,OAAOG,SAASC,KAAKsY,SACvB,OAEF,MAAM6Q,EAAY/B,GAAY,qCAAuC7S,EAAK,CACxEoT,QAASa,QAAsBpc,EAC/Bqb,sBAAuBgB,QAAoCrc,KAEvD,QAAE5H,GAAYwqB,EACd5F,EAAUA,KACV5kB,GAAS+L,UACXoU,EAAWpQ,EAAK/P,EAAQ+L,UAE1BwX,GAAeoB,EAAU,EAQ3B,OANI3kB,GAAS+L,UACXoU,EAAWpQ,EAAK/P,EAAQ+L,UACxBwX,GAAeoB,IAEf3kB,GAASyb,iBAAiB,iBAAkBmJ,EAAS,CAAElJ,MAAM,IAExD,KACL1b,GAAS2b,oBAAoB,iBAAkBiJ,GAC/CrB,GAAeoB,EAAU,CAC1B,GACA,CAAC5U,EAAKoQ,EAAY6D,EAAoBC,KAEpBmK,EAAAA,EAAAA,KAAM,QAAS,CACpC1wB,IAAK8sB,KACFjE,GACH,IAiGA8H,IAAQC,EAAAA,EAAAA,aAzFkBC,CAAChI,EAAQ7oB,KACrC,MAAM,UACJuQ,EAAS,MACTF,EAAK,KACL3T,EAAI,mBACJye,EAAkB,MAClBnc,EAAK,kCACL4jB,EAAiC,eACjC/V,EAAc,gBACd6H,EAAe,YACfwY,KACG/d,GACD0Z,GACIvF,KAAMwN,EAAK,sBAAEjO,KAA0B6E,GAAuBmB,GAChE,IAAExhB,GAAQ+D,IACVuc,EAAcnqB,KACd,UAAEoV,EAAS,aAAEC,IAAiBke,EAAAA,EAAAA,YAAare,IACjD,GAAmB,kBAAR1S,EACT,MAAM,IAAI/C,MAAM,iCAElB,GAA0B,kBAAf4rB,EAAOxW,IAChB,MAAM,IAAI5N,UAAU,8DAA8DuB,KAAK8D,UAAU+e,EAAOxW,iBAE1G,MAAM4Q,EAAe7Q,GAAWyW,EAAOxW,KACjCoQ,GAAauO,EAAAA,EAAAA,cAAc,CAAC3e,EAAK2V,KACrCnV,EAAa,CAAE3K,KAAM,eAAgB8f,oBAAmB3V,OAAM,GAC7D,CAACQ,IACEoa,GAAe+D,EAAAA,EAAAA,cAAc,QAChC,IACG/I,EAAkBrV,EAAU9C,GAAemT,KAAkBrQ,EAAU9C,GAAe+Y,EAAOxW,MACnG,GAAIye,QAA6B5mB,IAApB+d,EAA+B,CAC1C,MAAM3X,EAAgB2X,EAAkB5gB,EACxC,OAAuB4pB,EAAAA,EAAAA,KAAMhgB,GAAM,CACjChK,iBAAkBkJ,GAAsB,CACtCE,QACAC,gBACAlH,aAAcyf,EAAOzf,cAAgB,EACrCmH,cAEFpD,OAAQ,OACRzQ,OACAmP,UAA0BolB,EAAAA,EAAAA,KAAMN,GAAO,IAClCjJ,EACH1nB,MACA4iB,mCAAmC,KAGzC,CACA,GAAyB,qBAAdrS,GAA8C,qBAAVF,EAAuB,CACpEoC,GAAuBlC,EAAWF,GAClC,MAAM8X,EAAmB5X,GAAa,EAChC6X,EAAe/X,GAASzD,IAC9B,OAAuBqkB,EAAAA,EAAAA,KAAM1hB,GAAU,CACrCpC,OAAQ,OACRR,KAAM,EAAIwb,EACVtb,gBAAgB,EAChB5F,iBAAkBmhB,EAClB1rB,OACAmP,UAA0BolB,EAAAA,EAAAA,KAAMN,GAAO,CACrCxV,mBAAoBA,IAAsB,KACvChM,EACHnP,SAGN,CAEA,OADAuS,GAAmBsW,EAAQ,SACvBlB,EAAY/pB,aACSqzB,EAAAA,EAAAA,KAAMhC,GAAmB,CAC9CxM,aACAwK,aAAcA,GAAgB,QAC3B9d,EACHnP,SAGmBixB,EAAAA,EAAAA,KAAMtE,GAAiB,CAC5C1R,8BAA8B,KAC3B9L,EACHnP,MACAitB,aAAc,KACd9R,mBAAoBA,IAAsB,EAC1CsH,aACAzV,uBAAwBhO,GAAS,KACjC4jB,kCAAmCA,IAAqC,EACxEC,sBAAuBA,IAAyB,EAChDhW,eAAgBA,IAAkB,EAClC6H,gBAAiBA,QAAmBxK,EACpCgjB,eACA,IAGJhuB,EAAuByxB,IA73MaO,MAClC,GAA0B,qBAAfC,WACT,OAEF,MAAMC,EAAkBD,WAAWE,mBAAuC,qBAAX3zB,QAA0BA,OAAO2zB,kBAChG,GAAID,EAAiB,CACnB,GAAIA,IAAoBxxB,EACtB,OAEF,MAAM,IAAI6E,UAAU,wDAAwD,CAC1E7E,EAC2B,kBAApBwxB,EAA+BA,EAAkB,oBACxD7a,OAAO9W,GAAQvC,KAAK,6SACxB,CACAi0B,WAAWE,kBAAoBzxB,EACT,qBAAXlC,SACTA,OAAO2zB,kBAAoBzxB,EAC7B,EA82MFsxB,GACA,IAMII,GAAS,IAAI/yB,MADF,CAAC,EACiB,CAC/B5B,IAAGA,CAACuJ,EAAGqrB,IACQ,aAATA,GAAgC,cAATA,GAAiC,QAATA,GAA2B,cAATA,GAAiC,WAATA,EACpFD,GAEF,KACLrsB,QAAQC,KAAK,8EACbD,QAAQC,KAAK,2CACbD,QAAQC,OACRD,QAAQC,KAAK,aACbD,QAAQC,KAAK,oCACbD,QAAQC,KAAK,cACbD,QAAQC,KAAK,gDACbD,QAAQC,OACRD,QAAQC,KAAK,0EACbrH,QAAQ2zB,KAAK,EAAE,IAIrBtyB,EAAuBqQ,G","sources":["../node_modules/remotion/dist/esm/index.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, {\n      get: all[name],\n      enumerable: true,\n      configurable: true,\n      set: (newValue) => all[name] = () => newValue\n    });\n};\n\n// src/_check-rsc.ts\nimport {createContext} from \"react\";\nif (typeof createContext !== \"function\") {\n  const err = [\n    'Remotion requires React.createContext, but it is \"undefined\".',\n    'If you are in a React Server Component, turn it into a client component by adding \"use client\" at the top of the file.',\n    \"\",\n    \"Before:\",\n    '  import {useCurrentFrame} from \"remotion\";',\n    \"\",\n    \"After:\",\n    '  \"use client\";',\n    '  import {useCurrentFrame} from \"remotion\";'\n  ];\n  throw new Error(err.join(\"\\n\"));\n}\n\n// src/Clipper.tsx\nimport {useContext, useEffect} from \"react\";\n\n// src/NativeLayers.tsx\nimport {createContext as createContext2, useLayoutEffect, useMemo, useState} from \"react\";\nimport {\njsx\n} from \"react/jsx-runtime\";\nvar NativeLayersContext = createContext2({\n  setClipRegion: () => {\n    throw new Error(\"NativeLayers not set\");\n  },\n  clipRegion: null\n});\nvar NativeLayersProvider = ({\n  children\n}) => {\n  const [clipRegion, setClipRegion] = useState(null);\n  const context = useMemo(() => {\n    return {\n      setClipRegion,\n      clipRegion\n    };\n  }, [clipRegion, setClipRegion]);\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect(() => {\n      window.remotion_getClipRegion = () => {\n        return clipRegion;\n      };\n    }, [clipRegion, setClipRegion]);\n  }\n  return /* @__PURE__ */ jsx(NativeLayersContext.Provider, {\n    value: context,\n    children\n  });\n};\n\n// src/Clipper.tsx\nvar Clipper = ({ height, width, x, y }) => {\n  const { setClipRegion } = useContext(NativeLayersContext);\n  useEffect(() => {\n    setClipRegion((c) => {\n      if (c === \"hide\") {\n        throw new Error(\"Cannot render <Clipper>, because another <Null> is already rendered\");\n      }\n      if (c === null) {\n        return { height, width, x, y };\n      }\n      throw new Error(\"Cannot render <Clipper>, because another component clipping the region was already rendered (most likely <Clipper>)\");\n    });\n    return () => {\n      setClipRegion(null);\n    };\n  }, [height, setClipRegion, width, x, y]);\n  return null;\n};\n\n// src/enable-sequence-stack-traces.ts\nimport React from \"react\";\n\n// src/get-remotion-environment.ts\nfunction getNodeEnvString() {\n  return [\"NOD\", \"E_EN\", \"V\"].join(\"\");\n}\nvar getEnvString = () => {\n  return [\"e\", \"nv\"].join(\"\");\n};\nvar getRemotionEnvironment = () => {\n  const isPlayer = typeof window !== \"undefined\" && window.remotion_isPlayer;\n  const isRendering = typeof window !== \"undefined\" && typeof window.process !== \"undefined\" && typeof window.process.env !== \"undefined\" && (window.process[getEnvString()][getNodeEnvString()] === \"test\" || window.process[getEnvString()][getNodeEnvString()] === \"production\" && typeof window !== \"undefined\" && typeof window.remotion_puppeteerTimeout !== \"undefined\");\n  const isStudio = typeof window !== \"undefined\" && window.remotion_isStudio;\n  return {\n    isStudio,\n    isRendering,\n    isPlayer\n  };\n};\n\n// src/enable-sequence-stack-traces.ts\nvar originalCreateElement = React.createElement;\nvar componentsToAddStacksTo = [];\nvar enableSequenceStackTraces = () => {\n  if (!getRemotionEnvironment().isStudio) {\n    return;\n  }\n  const proxy = new Proxy(originalCreateElement, {\n    apply(target, thisArg, argArray) {\n      if (componentsToAddStacksTo.includes(argArray[0])) {\n        const [first, props, ...rest] = argArray;\n        const newProps = {\n          ...props ?? {},\n          stack: new Error().stack\n        };\n        return Reflect.apply(target, thisArg, [first, newProps, ...rest]);\n      }\n      return Reflect.apply(target, thisArg, argArray);\n    }\n  });\n  React.createElement = proxy;\n};\nvar addSequenceStackTraces = (component) => {\n  componentsToAddStacksTo.push(component);\n  enableSequenceStackTraces();\n};\n\n// src/is-player.tsx\nimport {createContext as createContext3, useContext as useContext2} from \"react\";\nimport {\njsx as jsx2\n} from \"react/jsx-runtime\";\nvar IsPlayerContext = createContext3(false);\nvar IsPlayerContextProvider = ({\n  children\n}) => {\n  return /* @__PURE__ */ jsx2(IsPlayerContext.Provider, {\n    value: true,\n    children\n  });\n};\nvar useIsPlayer = () => {\n  return useContext2(IsPlayerContext);\n};\n\n// src/truthy.ts\nfunction truthy(value) {\n  return Boolean(value);\n}\n\n// src/version.ts\nvar VERSION = \"4.0.211\";\n\n// src/multiple-versions-warning.ts\nvar checkMultipleRemotionVersions = () => {\n  if (typeof globalThis === \"undefined\") {\n    return;\n  }\n  const alreadyImported = globalThis.remotion_imported || typeof window !== \"undefined\" && window.remotion_imported;\n  if (alreadyImported) {\n    if (alreadyImported === VERSION) {\n      return;\n    }\n    throw new TypeError(`\\uD83D\\uDEA8 Multiple versions of Remotion detected: ${[\n      VERSION,\n      typeof alreadyImported === \"string\" ? alreadyImported : \"an older version\"\n    ].filter(truthy).join(\" and \")}. This will cause things to break in an unexpected way.\\nCheck that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \\`npx remotion versions\\` from your terminal to see which versions are mismatching.`);\n  }\n  globalThis.remotion_imported = VERSION;\n  if (typeof window !== \"undefined\") {\n    window.remotion_imported = VERSION;\n  }\n};\n\n// src/Null.tsx\nimport {useContext as useContext3, useEffect as useEffect2} from \"react\";\nvar Null = () => {\n  const { setClipRegion } = useContext3(NativeLayersContext);\n  useEffect2(() => {\n    setClipRegion((c) => {\n      if (c === null) {\n        return \"hide\";\n      }\n      if (c === \"hide\") {\n        return \"hide\";\n      }\n      throw new Error(\"Cannot render <Null>, because another component clipping the region was already rendered (most likely <Clipper>)\");\n    });\n    return () => {\n      setClipRegion(null);\n    };\n  }, [setClipRegion]);\n  return null;\n};\n\n// src/Sequence.tsx\nimport {\nforwardRef as forwardRef2,\nuseContext as useContext12,\nuseEffect as useEffect5,\nuseMemo as useMemo10,\nuseState as useState5\n} from \"react\";\n\n// src/AbsoluteFill.tsx\nimport {forwardRef, useMemo as useMemo2} from \"react\";\nimport {\njsx as jsx3\n} from \"react/jsx-runtime\";\nvar AbsoluteFillRefForwarding = (props, ref) => {\n  const { style, ...other } = props;\n  const actualStyle = useMemo2(() => {\n    return {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      width: \"100%\",\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      ...style\n    };\n  }, [style]);\n  return /* @__PURE__ */ jsx3(\"div\", {\n    ref,\n    style: actualStyle,\n    ...other\n  });\n};\nvar AbsoluteFill = forwardRef(AbsoluteFillRefForwarding);\n\n// src/SequenceContext.tsx\nimport {createContext as createContext4} from \"react\";\nvar SequenceContext = createContext4(null);\n\n// src/SequenceManager.tsx\nimport React3, {useCallback, useMemo as useMemo3, useState as useState2} from \"react\";\nimport {\njsx as jsx4\n} from \"react/jsx-runtime\";\nvar SequenceManager = React3.createContext({\n  registerSequence: () => {\n    throw new Error(\"SequenceManagerContext not initialized\");\n  },\n  unregisterSequence: () => {\n    throw new Error(\"SequenceManagerContext not initialized\");\n  },\n  sequences: []\n});\nvar SequenceVisibilityToggleContext = React3.createContext({\n  hidden: {},\n  setHidden: () => {\n    throw new Error(\"SequenceVisibilityToggle not initialized\");\n  }\n});\nvar SequenceManagerProvider = ({ children }) => {\n  const [sequences, setSequences] = useState2([]);\n  const [hidden, setHidden] = useState2({});\n  const registerSequence = useCallback((seq) => {\n    setSequences((seqs) => {\n      return [...seqs, seq];\n    });\n  }, []);\n  const unregisterSequence = useCallback((seq) => {\n    setSequences((seqs) => seqs.filter((s) => s.id !== seq));\n  }, []);\n  const sequenceContext = useMemo3(() => {\n    return {\n      registerSequence,\n      sequences,\n      unregisterSequence\n    };\n  }, [registerSequence, sequences, unregisterSequence]);\n  const hiddenContext = useMemo3(() => {\n    return {\n      hidden,\n      setHidden\n    };\n  }, [hidden]);\n  return /* @__PURE__ */ jsx4(SequenceManager.Provider, {\n    value: sequenceContext,\n    children: /* @__PURE__ */ jsx4(SequenceVisibilityToggleContext.Provider, {\n      value: hiddenContext,\n      children\n    })\n  });\n};\n\n// src/nonce.ts\nimport {createContext as createContext5, useContext as useContext4, useEffect as useEffect3, useRef, useState as useState3} from \"react\";\nvar NonceContext = createContext5({\n  getNonce: () => 0,\n  fastRefreshes: 0\n});\nvar useNonce = () => {\n  const context = useContext4(NonceContext);\n  const [nonce, setNonce] = useState3(() => context.getNonce());\n  const lastContext = useRef(context);\n  useEffect3(() => {\n    if (lastContext.current === context) {\n      return;\n    }\n    lastContext.current = context;\n    setNonce(context.getNonce);\n  }, [context]);\n  return nonce;\n};\n\n// src/timeline-position-state.ts\nvar exports_timeline_position_state = {};\n__export(exports_timeline_position_state, {\n  useTimelineSetFrame: () => useTimelineSetFrame,\n  useTimelinePosition: () => useTimelinePosition,\n  usePlayingState: () => usePlayingState,\n  persistCurrentFrame: () => persistCurrentFrame,\n  getInitialFrameState: () => getInitialFrameState,\n  getFrameForComposition: () => getFrameForComposition,\n  TimelineContext: () => TimelineContext,\n  SetTimelineContext: () => SetTimelineContext\n});\nimport {createContext as createContext9, useContext as useContext7, useMemo as useMemo7} from \"react\";\n\n// src/use-video.ts\nimport {useContext as useContext6, useMemo as useMemo6} from \"react\";\n\n// src/CompositionManagerContext.tsx\nimport {createContext as createContext6} from \"react\";\nvar CompositionManager = createContext6({\n  compositions: [],\n  registerComposition: () => {\n    return;\n  },\n  unregisterComposition: () => {\n    return;\n  },\n  registerFolder: () => {\n    return;\n  },\n  unregisterFolder: () => {\n    return;\n  },\n  setCurrentCompositionMetadata: () => {\n    return;\n  },\n  updateCompositionDefaultProps: () => {\n    return;\n  },\n  folders: [],\n  currentCompositionMetadata: null,\n  canvasContent: null,\n  setCanvasContent: () => {\n    return;\n  }\n});\n\n// src/ResolveCompositionConfig.tsx\nimport {\ncreateContext as createContext8,\ncreateRef,\nuseCallback as useCallback3,\nuseContext as useContext5,\nuseEffect as useEffect4,\nuseImperativeHandle as useImperativeHandle2,\nuseMemo as useMemo5,\nuseState as useState4\n} from \"react\";\n\n// src/EditorProps.tsx\nimport React4, {\ncreateContext as createContext7,\nuseCallback as useCallback2,\nuseImperativeHandle,\nuseMemo as useMemo4\n} from \"react\";\nimport {\njsx as jsx5\n} from \"react/jsx-runtime\";\nvar EditorPropsContext = createContext7({\n  props: {},\n  updateProps: () => {\n    throw new Error(\"Not implemented\");\n  },\n  resetUnsaved: () => {\n    throw new Error(\"Not implemented\");\n  }\n});\nvar editorPropsProviderRef = React4.createRef();\nvar EditorPropsProvider = ({ children }) => {\n  const [props, setProps] = React4.useState({});\n  const updateProps = useCallback2(({\n    defaultProps,\n    id,\n    newProps\n  }) => {\n    setProps((prev) => {\n      return {\n        ...prev,\n        [id]: typeof newProps === \"function\" ? newProps(prev[id] ?? defaultProps) : newProps\n      };\n    });\n  }, []);\n  const resetUnsaved = useCallback2(() => {\n    setProps({});\n  }, []);\n  useImperativeHandle(editorPropsProviderRef, () => {\n    return {\n      getProps: () => props,\n      setProps\n    };\n  }, [props]);\n  const ctx = useMemo4(() => {\n    return { props, updateProps, resetUnsaved };\n  }, [props, resetUnsaved, updateProps]);\n  return /* @__PURE__ */ jsx5(EditorPropsContext.Provider, {\n    value: ctx,\n    children\n  });\n};\n\n// src/static-file.ts\nvar problematicCharacters = {\n  \"%3A\": \":\",\n  \"%2F\": \"/\",\n  \"%3F\": \"?\",\n  \"%23\": \"#\",\n  \"%5B\": \"[\",\n  \"%5D\": \"]\",\n  \"%40\": \"@\",\n  \"%21\": \"!\",\n  \"%24\": \"$\",\n  \"%26\": \"&\",\n  \"%27\": \"'\",\n  \"%28\": \"(\",\n  \"%29\": \")\",\n  \"%2A\": \"*\",\n  \"%2B\": \"+\",\n  \"%2C\": \",\",\n  \"%3B\": \";\"\n};\nvar didWarn = {};\nvar warnOnce = (message) => {\n  if (didWarn[message]) {\n    return;\n  }\n  console.warn(message);\n  didWarn[message] = true;\n};\nvar includesHexOfUnsafeChar = (path) => {\n  for (const key of Object.keys(problematicCharacters)) {\n    if (path.includes(key)) {\n      return { containsHex: true, hexCode: key };\n    }\n  }\n  return { containsHex: false };\n};\nvar trimLeadingSlash = (path) => {\n  if (path.startsWith(\"/\")) {\n    return trimLeadingSlash(path.substring(1));\n  }\n  return path;\n};\nvar inner = (path) => {\n  if (typeof window !== \"undefined\" && window.remotion_staticBase) {\n    if (path.startsWith(window.remotion_staticBase)) {\n      throw new Error(`The value \"${path}\" is already prefixed with the static base ${window.remotion_staticBase}. You don't need to call staticFile() on it.`);\n    }\n    return `${window.remotion_staticBase}/${trimLeadingSlash(path)}`;\n  }\n  return `/${trimLeadingSlash(path)}`;\n};\nvar encodeBySplitting = (path) => {\n  const splitBySlash = path.split(\"/\");\n  const encodedArray = splitBySlash.map((element) => {\n    return encodeURIComponent(element);\n  });\n  const merged = encodedArray.join(\"/\");\n  return merged;\n};\nvar staticFile = (path) => {\n  if (path.startsWith(\"http://\") || path.startsWith(\"https://\")) {\n    throw new TypeError(`staticFile() does not support remote URLs - got \"${path}\". Instead, pass the URL without wrapping it in staticFile(). See: https://remotion.dev/docs/staticfile-remote-urls`);\n  }\n  if (path.startsWith(\"..\") || path.startsWith(\"./\")) {\n    throw new TypeError(`staticFile() does not support relative paths - got \"${path}\". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);\n  }\n  if (path.startsWith(\"/Users\") || path.startsWith(\"/home\") || path.startsWith(\"/tmp\") || path.startsWith(\"/etc\") || path.startsWith(\"/opt\") || path.startsWith(\"/var\") || path.startsWith(\"C:\") || path.startsWith(\"D:\") || path.startsWith(\"E:\")) {\n    throw new TypeError(`staticFile() does not support absolute paths - got \"${path}\". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);\n  }\n  if (path.startsWith(\"public/\")) {\n    throw new TypeError(`Do not include the public/ prefix when using staticFile() - got \"${path}\". See: https://remotion.dev/docs/staticfile-relative-paths`);\n  }\n  const includesHex = includesHexOfUnsafeChar(path);\n  if (includesHex.containsHex) {\n    warnOnce(`WARNING: You seem to pass an already encoded path (path contains ${includesHex.hexCode}). Since Remotion 4.0, the encoding is done by staticFile() itself. You may want to remove a encodeURIComponent() wrapping.`);\n  }\n  const preprocessed = encodeBySplitting(path);\n  const preparsed = inner(preprocessed);\n  if (!preparsed.startsWith(\"/\")) {\n    return `/${preparsed}`;\n  }\n  return preparsed;\n};\n\n// src/input-props-serialization.ts\nvar DATE_TOKEN = \"remotion-date:\";\nvar FILE_TOKEN = \"remotion-file:\";\nvar serializeJSONWithDate = ({\n  data,\n  indent,\n  staticBase\n}) => {\n  let customDateUsed = false;\n  let customFileUsed = false;\n  let mapUsed = false;\n  let setUsed = false;\n  try {\n    const serializedString = JSON.stringify(data, function(key, value) {\n      const item = this[key];\n      if (item instanceof Date) {\n        customDateUsed = true;\n        return `${DATE_TOKEN}${item.toISOString()}`;\n      }\n      if (item instanceof Map) {\n        mapUsed = true;\n        return value;\n      }\n      if (item instanceof Set) {\n        setUsed = true;\n        return value;\n      }\n      if (typeof item === \"string\" && staticBase !== null && item.startsWith(staticBase)) {\n        customFileUsed = true;\n        return `${FILE_TOKEN}${item.replace(staticBase + \"/\", \"\")}`;\n      }\n      return value;\n    }, indent);\n    return { serializedString, customDateUsed, customFileUsed, mapUsed, setUsed };\n  } catch (err) {\n    throw new Error(\"Could not serialize the passed input props to JSON: \" + err.message);\n  }\n};\nvar deserializeJSONWithCustomFields = (data) => {\n  return JSON.parse(data, (_, value) => {\n    if (typeof value === \"string\" && value.startsWith(DATE_TOKEN)) {\n      return new Date(value.replace(DATE_TOKEN, \"\"));\n    }\n    if (typeof value === \"string\" && value.startsWith(FILE_TOKEN)) {\n      return staticFile(value.replace(FILE_TOKEN, \"\"));\n    }\n    return value;\n  });\n};\nvar serializeThenDeserializeInStudio = (props) => {\n  if (getRemotionEnvironment().isStudio) {\n    return deserializeJSONWithCustomFields(serializeJSONWithDate({\n      data: props,\n      indent: 2,\n      staticBase: window.remotion_staticBase\n    }).serializedString);\n  }\n  return props;\n};\n\n// src/config/input-props.ts\nvar didWarnSSRImport = false;\nvar warnOnceSSRImport = () => {\n  if (didWarnSSRImport) {\n    return;\n  }\n  didWarnSSRImport = true;\n  console.warn(\"Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object.\");\n  console.warn(\"To hide this warning, don't call this function on the server:\");\n  console.warn(\"  typeof window === 'undefined' ? {} : getInputProps()\");\n};\nvar getInputProps = () => {\n  if (typeof window === \"undefined\") {\n    warnOnceSSRImport();\n    return {};\n  }\n  if (getRemotionEnvironment().isPlayer) {\n    throw new Error(\"You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.\");\n  }\n  const param = window.remotion_inputProps;\n  if (!param) {\n    return {};\n  }\n  const parsed = deserializeJSONWithCustomFields(param);\n  return parsed;\n};\n\n// src/codec.ts\nvar validCodecs = [\n  \"h264\",\n  \"h265\",\n  \"vp8\",\n  \"vp9\",\n  \"mp3\",\n  \"aac\",\n  \"wav\",\n  \"prores\",\n  \"h264-mkv\",\n  \"h264-ts\",\n  \"gif\"\n];\n\n// src/validation/validate-default-codec.ts\nfunction validateDefaultCodec(defaultCodec, location) {\n  if (typeof defaultCodec === \"undefined\") {\n    return;\n  }\n  if (typeof defaultCodec !== \"string\") {\n    throw new TypeError(`The \"defaultCodec\" prop ${location} must be a string, but you passed a value of type ${typeof defaultCodec}.`);\n  }\n  if (!validCodecs.includes(defaultCodec)) {\n    throw new Error(`The \"defaultCodec\" prop ${location} must be one of ${validCodecs.join(\", \")}, but you passed ${defaultCodec}.`);\n  }\n}\n\n// src/validation/validate-dimensions.ts\nfunction validateDimension(amount, nameOfProp, location) {\n  if (typeof amount !== \"number\") {\n    throw new Error(`The \"${nameOfProp}\" prop ${location} must be a number, but you passed a value of type ${typeof amount}`);\n  }\n  if (isNaN(amount)) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must not be NaN, but is NaN.`);\n  }\n  if (!Number.isFinite(amount)) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be finite, but is ${amount}.`);\n  }\n  if (amount % 1 !== 0) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be an integer, but is ${amount}.`);\n  }\n  if (amount <= 0) {\n    throw new TypeError(`The \"${nameOfProp}\" prop ${location} must be positive, but got ${amount}.`);\n  }\n}\n\n// src/validation/validate-duration-in-frames.ts\nfunction validateDurationInFrames(durationInFrames, options) {\n  const { allowFloats, component } = options;\n  if (typeof durationInFrames === \"undefined\") {\n    throw new Error(`The \"durationInFrames\" prop ${component} is missing.`);\n  }\n  if (typeof durationInFrames !== \"number\") {\n    throw new Error(`The \"durationInFrames\" prop ${component} must be a number, but you passed a value of type ${typeof durationInFrames}`);\n  }\n  if (durationInFrames <= 0) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be positive, but got ${durationInFrames}.`);\n  }\n  if (!allowFloats && durationInFrames % 1 !== 0) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be an integer, but got ${durationInFrames}.`);\n  }\n  if (!Number.isFinite(durationInFrames)) {\n    throw new TypeError(`The \"durationInFrames\" prop ${component} must be finite, but got ${durationInFrames}.`);\n  }\n}\n\n// src/validation/validate-fps.ts\nfunction validateFps(fps, location, isGif) {\n  if (typeof fps !== \"number\") {\n    throw new Error(`\"fps\" must be a number, but you passed a value of type ${typeof fps} ${location}`);\n  }\n  if (!Number.isFinite(fps)) {\n    throw new Error(`\"fps\" must be a finite, but you passed ${fps} ${location}`);\n  }\n  if (isNaN(fps)) {\n    throw new Error(`\"fps\" must not be NaN, but got ${fps} ${location}`);\n  }\n  if (fps <= 0) {\n    throw new TypeError(`\"fps\" must be positive, but got ${fps} ${location}`);\n  }\n  if (isGif && fps > 50) {\n    throw new TypeError(`The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif`);\n  }\n}\n\n// src/resolve-video-config.ts\nvar validateCalculated = ({\n  calculated,\n  compositionId,\n  compositionFps,\n  compositionHeight,\n  compositionWidth,\n  compositionDurationInFrames\n}) => {\n  const calculateMetadataErrorLocation = `calculated by calculateMetadata() for the composition \"${compositionId}\"`;\n  const defaultErrorLocation = `of the \"<Composition />\" component with the id \"${compositionId}\"`;\n  const width = calculated?.width ?? compositionWidth ?? undefined;\n  validateDimension(width, \"width\", calculated?.width ? calculateMetadataErrorLocation : defaultErrorLocation);\n  const height = calculated?.height ?? compositionHeight ?? undefined;\n  validateDimension(height, \"height\", calculated?.height ? calculateMetadataErrorLocation : defaultErrorLocation);\n  const fps = calculated?.fps ?? compositionFps ?? null;\n  validateFps(fps, calculated?.fps ? calculateMetadataErrorLocation : defaultErrorLocation, false);\n  const durationInFrames = calculated?.durationInFrames ?? compositionDurationInFrames ?? null;\n  validateDurationInFrames(durationInFrames, {\n    allowFloats: false,\n    component: `of the \"<Composition />\" component with the id \"${compositionId}\"`\n  });\n  const defaultCodec = calculated?.defaultCodec;\n  validateDefaultCodec(defaultCodec, calculateMetadataErrorLocation);\n  return { width, height, fps, durationInFrames, defaultCodec };\n};\nvar resolveVideoConfig = ({\n  calculateMetadata,\n  signal,\n  defaultProps,\n  originalProps,\n  compositionId,\n  compositionDurationInFrames,\n  compositionFps,\n  compositionHeight,\n  compositionWidth\n}) => {\n  const calculatedProm = calculateMetadata ? calculateMetadata({\n    defaultProps,\n    props: originalProps,\n    abortSignal: signal,\n    compositionId\n  }) : null;\n  if (calculatedProm !== null && typeof calculatedProm === \"object\" && \"then\" in calculatedProm) {\n    return calculatedProm.then((c) => {\n      const { height, width, durationInFrames, fps, defaultCodec } = validateCalculated({\n        calculated: c,\n        compositionDurationInFrames,\n        compositionFps,\n        compositionHeight,\n        compositionWidth,\n        compositionId\n      });\n      return {\n        width,\n        height,\n        fps,\n        durationInFrames,\n        id: compositionId,\n        defaultProps: serializeThenDeserializeInStudio(defaultProps),\n        props: serializeThenDeserializeInStudio(c.props ?? originalProps),\n        defaultCodec: defaultCodec ?? null\n      };\n    });\n  }\n  const data = validateCalculated({\n    calculated: calculatedProm,\n    compositionDurationInFrames,\n    compositionFps,\n    compositionHeight,\n    compositionWidth,\n    compositionId\n  });\n  if (calculatedProm === null) {\n    return {\n      ...data,\n      id: compositionId,\n      defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),\n      props: serializeThenDeserializeInStudio(originalProps),\n      defaultCodec: null\n    };\n  }\n  return {\n    ...data,\n    id: compositionId,\n    defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),\n    props: serializeThenDeserializeInStudio(calculatedProm.props ?? originalProps),\n    defaultCodec: calculatedProm.defaultCodec ?? null\n  };\n};\nvar resolveVideoConfigOrCatch = (params) => {\n  try {\n    const promiseOrReturnValue = resolveVideoConfig(params);\n    return {\n      type: \"success\",\n      result: promiseOrReturnValue\n    };\n  } catch (err) {\n    return {\n      type: \"error\",\n      error: err\n    };\n  }\n};\n\n// src/ResolveCompositionConfig.tsx\nimport {\njsx as jsx6\n} from \"react/jsx-runtime\";\nvar ResolveCompositionContext = createContext8(null);\nvar resolveCompositionsRef = createRef();\nvar needsResolution = (composition) => {\n  return Boolean(composition.calculateMetadata);\n};\nvar PROPS_UPDATED_EXTERNALLY = \"remotion.propsUpdatedExternally\";\nvar ResolveCompositionConfig = ({ children }) => {\n  const [currentRenderModalComposition, setCurrentRenderModalComposition] = useState4(null);\n  const { compositions, canvasContent, currentCompositionMetadata } = useContext5(CompositionManager);\n  const { fastRefreshes } = useContext5(NonceContext);\n  const selectedComposition = useMemo5(() => {\n    return compositions.find((c) => canvasContent && canvasContent.type === \"composition\" && canvasContent.compositionId === c.id);\n  }, [canvasContent, compositions]);\n  const renderModalComposition = compositions.find((c) => c.id === currentRenderModalComposition);\n  const { props: allEditorProps } = useContext5(EditorPropsContext);\n  const inputProps = useMemo5(() => {\n    return typeof window === \"undefined\" || getRemotionEnvironment().isPlayer ? {} : getInputProps() ?? {};\n  }, []);\n  const [resolvedConfigs, setResolvedConfigs] = useState4({});\n  const selectedEditorProps = useMemo5(() => {\n    return selectedComposition ? allEditorProps[selectedComposition.id] ?? {} : {};\n  }, [allEditorProps, selectedComposition]);\n  const renderModalProps = useMemo5(() => {\n    return renderModalComposition ? allEditorProps[renderModalComposition.id] ?? {} : {};\n  }, [allEditorProps, renderModalComposition]);\n  const hasResolution = Boolean(currentCompositionMetadata);\n  const doResolution = useCallback3(({\n    calculateMetadata,\n    combinedProps,\n    compositionDurationInFrames,\n    compositionFps,\n    compositionHeight,\n    compositionId,\n    compositionWidth,\n    defaultProps\n  }) => {\n    const controller = new AbortController;\n    if (hasResolution) {\n      return controller;\n    }\n    const { signal } = controller;\n    const result = resolveVideoConfigOrCatch({\n      compositionId,\n      calculateMetadata,\n      originalProps: combinedProps,\n      signal,\n      defaultProps,\n      compositionDurationInFrames,\n      compositionFps,\n      compositionHeight,\n      compositionWidth\n    });\n    if (result.type === \"error\") {\n      setResolvedConfigs((r) => ({\n        ...r,\n        [compositionId]: {\n          type: \"error\",\n          error: result.error\n        }\n      }));\n      return controller;\n    }\n    const promOrNot = result.result;\n    if (typeof promOrNot === \"object\" && \"then\" in promOrNot) {\n      setResolvedConfigs((r) => {\n        const prev = r[compositionId];\n        if (prev?.type === \"success\" || prev?.type === \"success-and-refreshing\") {\n          return {\n            ...r,\n            [compositionId]: {\n              type: \"success-and-refreshing\",\n              result: prev.result\n            }\n          };\n        }\n        return {\n          ...r,\n          [compositionId]: {\n            type: \"loading\"\n          }\n        };\n      });\n      promOrNot.then((c) => {\n        if (controller.signal.aborted) {\n          return;\n        }\n        setResolvedConfigs((r) => ({\n          ...r,\n          [compositionId]: {\n            type: \"success\",\n            result: c\n          }\n        }));\n      }).catch((err) => {\n        if (controller.signal.aborted) {\n          return;\n        }\n        setResolvedConfigs((r) => ({\n          ...r,\n          [compositionId]: {\n            type: \"error\",\n            error: err\n          }\n        }));\n      });\n    } else {\n      setResolvedConfigs((r) => ({\n        ...r,\n        [compositionId]: {\n          type: \"success\",\n          result: promOrNot\n        }\n      }));\n    }\n    return controller;\n  }, [hasResolution]);\n  const currentComposition = canvasContent?.type === \"composition\" ? canvasContent.compositionId : null;\n  useImperativeHandle2(resolveCompositionsRef, () => {\n    return {\n      setCurrentRenderModalComposition: (id) => {\n        setCurrentRenderModalComposition(id);\n      },\n      reloadCurrentlySelectedComposition: () => {\n        if (!currentComposition) {\n          return;\n        }\n        const composition = compositions.find((c) => c.id === currentComposition);\n        if (!composition) {\n          throw new Error(`Could not find composition with id ${currentComposition}`);\n        }\n        const editorProps = allEditorProps[currentComposition] ?? {};\n        const defaultProps = {\n          ...composition.defaultProps ?? {},\n          ...editorProps ?? {}\n        };\n        const props = {\n          ...defaultProps,\n          ...inputProps ?? {}\n        };\n        doResolution({\n          defaultProps,\n          calculateMetadata: composition.calculateMetadata,\n          combinedProps: props,\n          compositionDurationInFrames: composition.durationInFrames ?? null,\n          compositionFps: composition.fps ?? null,\n          compositionHeight: composition.height ?? null,\n          compositionWidth: composition.width ?? null,\n          compositionId: composition.id\n        });\n      }\n    };\n  }, [\n    allEditorProps,\n    compositions,\n    currentComposition,\n    doResolution,\n    inputProps\n  ]);\n  const isTheSame = selectedComposition?.id === renderModalComposition?.id;\n  const currentDefaultProps = useMemo5(() => {\n    return {\n      ...selectedComposition?.defaultProps ?? {},\n      ...selectedEditorProps ?? {}\n    };\n  }, [selectedComposition?.defaultProps, selectedEditorProps]);\n  const originalProps = useMemo5(() => {\n    return {\n      ...currentDefaultProps,\n      ...inputProps ?? {}\n    };\n  }, [currentDefaultProps, inputProps]);\n  const canResolve = selectedComposition && needsResolution(selectedComposition);\n  const shouldIgnoreUpdate = typeof window !== \"undefined\" && window.remotion_ignoreFastRefreshUpdate && fastRefreshes <= window.remotion_ignoreFastRefreshUpdate;\n  useEffect4(() => {\n    if (shouldIgnoreUpdate) {\n      return;\n    }\n    if (canResolve) {\n      const controller = doResolution({\n        calculateMetadata: selectedComposition.calculateMetadata,\n        combinedProps: originalProps,\n        compositionDurationInFrames: selectedComposition.durationInFrames ?? null,\n        compositionFps: selectedComposition.fps ?? null,\n        compositionHeight: selectedComposition.height ?? null,\n        compositionWidth: selectedComposition.width ?? null,\n        defaultProps: currentDefaultProps,\n        compositionId: selectedComposition.id\n      });\n      return () => {\n        controller.abort();\n      };\n    }\n  }, [\n    canResolve,\n    currentDefaultProps,\n    doResolution,\n    originalProps,\n    selectedComposition?.calculateMetadata,\n    selectedComposition?.durationInFrames,\n    selectedComposition?.fps,\n    selectedComposition?.height,\n    selectedComposition?.id,\n    selectedComposition?.width,\n    shouldIgnoreUpdate\n  ]);\n  useEffect4(() => {\n    if (shouldIgnoreUpdate) {\n      return;\n    }\n    window.dispatchEvent(new CustomEvent(\"remotion.propsUpdatedExternally\"));\n  }, [fastRefreshes]);\n  useEffect4(() => {\n    if (renderModalComposition && !isTheSame) {\n      const combinedProps = {\n        ...renderModalComposition.defaultProps ?? {},\n        ...renderModalProps ?? {},\n        ...inputProps ?? {}\n      };\n      const controller = doResolution({\n        calculateMetadata: renderModalComposition.calculateMetadata,\n        compositionDurationInFrames: renderModalComposition.durationInFrames ?? null,\n        compositionFps: renderModalComposition.fps ?? null,\n        compositionHeight: renderModalComposition.height ?? null,\n        compositionId: renderModalComposition.id,\n        compositionWidth: renderModalComposition.width ?? null,\n        defaultProps: currentDefaultProps,\n        combinedProps\n      });\n      return () => {\n        controller.abort();\n      };\n    }\n  }, [\n    currentDefaultProps,\n    doResolution,\n    inputProps,\n    isTheSame,\n    renderModalComposition,\n    renderModalProps\n  ]);\n  const resolvedConfigsIncludingStaticOnes = useMemo5(() => {\n    const staticComps = compositions.filter((c) => {\n      return c.calculateMetadata === null;\n    });\n    return {\n      ...resolvedConfigs,\n      ...staticComps.reduce((acc, curr) => {\n        return {\n          ...acc,\n          [curr.id]: {\n            type: \"success\",\n            result: { ...curr, defaultProps: curr.defaultProps ?? {} }\n          }\n        };\n      }, {})\n    };\n  }, [compositions, resolvedConfigs]);\n  return /* @__PURE__ */ jsx6(ResolveCompositionContext.Provider, {\n    value: resolvedConfigsIncludingStaticOnes,\n    children\n  });\n};\nvar useResolvedVideoConfig = (preferredCompositionId) => {\n  const context = useContext5(ResolveCompositionContext);\n  const { props: allEditorProps } = useContext5(EditorPropsContext);\n  const { compositions, canvasContent, currentCompositionMetadata } = useContext5(CompositionManager);\n  const currentComposition = canvasContent?.type === \"composition\" ? canvasContent.compositionId : null;\n  const compositionId = preferredCompositionId ?? currentComposition;\n  const composition = compositions.find((c) => c.id === compositionId);\n  const selectedEditorProps = useMemo5(() => {\n    return composition ? allEditorProps[composition.id] ?? {} : {};\n  }, [allEditorProps, composition]);\n  return useMemo5(() => {\n    if (!composition) {\n      return null;\n    }\n    if (currentCompositionMetadata) {\n      return {\n        type: \"success\",\n        result: {\n          ...currentCompositionMetadata,\n          id: composition.id,\n          props: currentCompositionMetadata.props,\n          defaultProps: composition.defaultProps ?? {},\n          defaultCodec: currentCompositionMetadata.defaultCodec\n        }\n      };\n    }\n    if (!needsResolution(composition)) {\n      validateDurationInFrames(composition.durationInFrames, {\n        allowFloats: false,\n        component: `in <Composition id=\"${composition.id}\">`\n      });\n      validateFps(composition.fps, `in <Composition id=\"${composition.id}\">`, false);\n      validateDimension(composition.width, \"width\", `in <Composition id=\"${composition.id}\">`);\n      validateDimension(composition.height, \"height\", `in <Composition id=\"${composition.id}\">`);\n      return {\n        type: \"success\",\n        result: {\n          width: composition.width,\n          height: composition.height,\n          fps: composition.fps,\n          id: composition.id,\n          durationInFrames: composition.durationInFrames,\n          defaultProps: composition.defaultProps ?? {},\n          props: {\n            ...composition.defaultProps ?? {},\n            ...selectedEditorProps ?? {},\n            ...typeof window === \"undefined\" || getRemotionEnvironment().isPlayer ? {} : getInputProps() ?? {}\n          },\n          defaultCodec: null\n        }\n      };\n    }\n    if (!context[composition.id]) {\n      return null;\n    }\n    return context[composition.id];\n  }, [composition, context, currentCompositionMetadata, selectedEditorProps]);\n};\n\n// src/use-video.ts\nvar useVideo = () => {\n  const { canvasContent, compositions, currentCompositionMetadata } = useContext6(CompositionManager);\n  const selected = compositions.find((c) => {\n    return canvasContent?.type === \"composition\" && c.id === canvasContent.compositionId;\n  });\n  const resolved = useResolvedVideoConfig(selected?.id ?? null);\n  return useMemo6(() => {\n    if (!resolved) {\n      return null;\n    }\n    if (resolved.type === \"error\") {\n      return null;\n    }\n    if (resolved.type === \"loading\") {\n      return null;\n    }\n    if (!selected) {\n      return null;\n    }\n    return {\n      ...resolved.result,\n      defaultProps: selected.defaultProps ?? {},\n      id: selected.id,\n      ...currentCompositionMetadata ?? {},\n      component: selected.component\n    };\n  }, [currentCompositionMetadata, resolved, selected]);\n};\n\n// src/timeline-position-state.ts\nvar TimelineContext = createContext9({\n  frame: {},\n  playing: false,\n  playbackRate: 1,\n  rootId: \"\",\n  imperativePlaying: {\n    current: false\n  },\n  setPlaybackRate: () => {\n    throw new Error(\"default\");\n  },\n  audioAndVideoTags: { current: [] }\n});\nvar SetTimelineContext = createContext9({\n  setFrame: () => {\n    throw new Error(\"default\");\n  },\n  setPlaying: () => {\n    throw new Error(\"default\");\n  }\n});\nvar makeKey = () => {\n  return `remotion.time-all`;\n};\nvar persistCurrentFrame = (time) => {\n  localStorage.setItem(makeKey(), JSON.stringify(time));\n};\nvar getInitialFrameState = () => {\n  const item = localStorage.getItem(makeKey()) ?? \"{}\";\n  const obj = JSON.parse(item);\n  return obj;\n};\nvar getFrameForComposition = (composition) => {\n  const item = localStorage.getItem(makeKey()) ?? \"{}\";\n  const obj = JSON.parse(item);\n  if (obj[composition] !== undefined) {\n    return Number(obj[composition]);\n  }\n  if (typeof window === \"undefined\") {\n    return 0;\n  }\n  return window.remotion_initialFrame ?? 0;\n};\nvar useTimelinePosition = () => {\n  const videoConfig = useVideo();\n  const state = useContext7(TimelineContext);\n  if (!videoConfig) {\n    return typeof window === \"undefined\" ? 0 : window.remotion_initialFrame ?? 0;\n  }\n  const unclamped = state.frame[videoConfig.id] ?? (getRemotionEnvironment().isPlayer ? 0 : getFrameForComposition(videoConfig.id));\n  return Math.min(videoConfig.durationInFrames - 1, unclamped);\n};\nvar useTimelineSetFrame = () => {\n  const { setFrame } = useContext7(SetTimelineContext);\n  return setFrame;\n};\nvar usePlayingState = () => {\n  const { playing, imperativePlaying } = useContext7(TimelineContext);\n  const { setPlaying } = useContext7(SetTimelineContext);\n  return useMemo7(() => [playing, setPlaying, imperativePlaying], [imperativePlaying, playing, setPlaying]);\n};\n\n// src/use-video-config.ts\nimport {useContext as useContext9} from \"react\";\n\n// src/CanUseRemotionHooks.tsx\nimport {createContext as createContext10} from \"react\";\nimport {\njsx as jsx7\n} from \"react/jsx-runtime\";\nvar CanUseRemotionHooks = createContext10(false);\nvar CanUseRemotionHooksProvider = ({ children }) => {\n  return /* @__PURE__ */ jsx7(CanUseRemotionHooks.Provider, {\n    value: true,\n    children\n  });\n};\n\n// src/use-unsafe-video-config.ts\nimport {useContext as useContext8, useMemo as useMemo8} from \"react\";\nvar useUnsafeVideoConfig = () => {\n  const context = useContext8(SequenceContext);\n  const ctxWidth = context?.width ?? null;\n  const ctxHeight = context?.height ?? null;\n  const ctxDuration = context?.durationInFrames ?? null;\n  const video = useVideo();\n  return useMemo8(() => {\n    if (!video) {\n      return null;\n    }\n    const {\n      id,\n      durationInFrames,\n      fps,\n      height,\n      width,\n      defaultProps,\n      props,\n      defaultCodec\n    } = video;\n    return {\n      id,\n      width: ctxWidth ?? width,\n      height: ctxHeight ?? height,\n      fps,\n      durationInFrames: ctxDuration ?? durationInFrames,\n      defaultProps,\n      props,\n      defaultCodec\n    };\n  }, [ctxDuration, ctxHeight, ctxWidth, video]);\n};\n\n// src/use-video-config.ts\nvar useVideoConfig = () => {\n  const videoConfig = useUnsafeVideoConfig();\n  const context = useContext9(CanUseRemotionHooks);\n  const isPlayer = useIsPlayer();\n  if (!videoConfig) {\n    if (typeof window !== \"undefined\" && window.remotion_isPlayer || isPlayer) {\n      throw new Error([\n        \"No video config found. Likely reasons:\",\n        \"- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.\",\n        \"- You have multiple versions of Remotion installed which causes the React context to get lost.\"\n      ].join(\"-\"));\n    }\n    throw new Error(\"No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.\");\n  }\n  if (!context) {\n    throw new Error(\"Called useVideoConfig() outside a Remotion composition.\");\n  }\n  return videoConfig;\n};\n\n// src/freeze.tsx\nimport {useContext as useContext11, useMemo as useMemo9} from \"react\";\n\n// src/use-current-frame.ts\nimport {useContext as useContext10} from \"react\";\nvar useCurrentFrame = () => {\n  const canUseRemotionHooks = useContext10(CanUseRemotionHooks);\n  if (!canUseRemotionHooks) {\n    if (getRemotionEnvironment().isPlayer) {\n      throw new Error(`useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples`);\n    }\n    throw new Error(`useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions`);\n  }\n  const frame = useTimelinePosition();\n  const context = useContext10(SequenceContext);\n  const contextOffset = context ? context.cumulatedFrom + context.relativeFrom : 0;\n  return frame - contextOffset;\n};\n\n// src/freeze.tsx\nimport {\njsx as jsx8\n} from \"react/jsx-runtime\";\nvar Freeze = ({\n  frame: frameToFreeze,\n  children,\n  active = true\n}) => {\n  const frame = useCurrentFrame();\n  const videoConfig = useVideoConfig();\n  if (typeof frameToFreeze === \"undefined\") {\n    throw new Error(`The <Freeze /> component requires a 'frame' prop, but none was passed.`);\n  }\n  if (typeof frameToFreeze !== \"number\") {\n    throw new Error(`The 'frame' prop of <Freeze /> must be a number, but is of type ${typeof frameToFreeze}`);\n  }\n  if (Number.isNaN(frameToFreeze)) {\n    throw new Error(`The 'frame' prop of <Freeze /> must be a real number, but it is NaN.`);\n  }\n  if (!Number.isFinite(frameToFreeze)) {\n    throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${frameToFreeze}.`);\n  }\n  const isActive = useMemo9(() => {\n    if (typeof active === \"boolean\") {\n      return active;\n    }\n    if (typeof active === \"function\") {\n      return active(frame);\n    }\n  }, [active, frame]);\n  const timelineContext = useContext11(TimelineContext);\n  const sequenceContext = useContext11(SequenceContext);\n  const relativeFrom = sequenceContext?.relativeFrom ?? 0;\n  const timelineValue = useMemo9(() => {\n    if (!isActive) {\n      return timelineContext;\n    }\n    return {\n      ...timelineContext,\n      playing: false,\n      imperativePlaying: {\n        current: false\n      },\n      frame: {\n        [videoConfig.id]: frameToFreeze + relativeFrom\n      }\n    };\n  }, [isActive, timelineContext, videoConfig.id, frameToFreeze, relativeFrom]);\n  return /* @__PURE__ */ jsx8(TimelineContext.Provider, {\n    value: timelineValue,\n    children\n  });\n};\n\n// src/Sequence.tsx\nimport {\njsx as jsx9\n} from \"react/jsx-runtime\";\nvar RegularSequenceRefForwardingFunction = ({\n  from = 0,\n  durationInFrames = Infinity,\n  children,\n  name,\n  height,\n  width,\n  showInTimeline = true,\n  _remotionInternalLoopDisplay: loopDisplay,\n  _remotionInternalStack: stack,\n  _remotionInternalPremountDisplay: premountDisplay,\n  ...other\n}, ref) => {\n  const { layout = \"absolute-fill\" } = other;\n  const [id] = useState5(() => String(Math.random()));\n  const parentSequence = useContext12(SequenceContext);\n  const { rootId } = useContext12(TimelineContext);\n  const cumulatedFrom = parentSequence ? parentSequence.cumulatedFrom + parentSequence.relativeFrom : 0;\n  const nonce3 = useNonce();\n  if (layout !== \"absolute-fill\" && layout !== \"none\") {\n    throw new TypeError(`The layout prop of <Sequence /> expects either \"absolute-fill\" or \"none\", but you passed: ${layout}`);\n  }\n  if (layout === \"none\" && typeof other.style !== \"undefined\") {\n    throw new TypeError('If layout=\"none\", you may not pass a style.');\n  }\n  if (typeof durationInFrames !== \"number\") {\n    throw new TypeError(`You passed to durationInFrames an argument of type ${typeof durationInFrames}, but it must be a number.`);\n  }\n  if (durationInFrames <= 0) {\n    throw new TypeError(`durationInFrames must be positive, but got ${durationInFrames}`);\n  }\n  if (typeof from !== \"number\") {\n    throw new TypeError(`You passed to the \"from\" props of your <Sequence> an argument of type ${typeof from}, but it must be a number.`);\n  }\n  if (!Number.isFinite(from)) {\n    throw new TypeError(`The \"from\" prop of a sequence must be finite, but got ${from}.`);\n  }\n  const absoluteFrame = useTimelinePosition();\n  const videoConfig = useVideoConfig();\n  const parentSequenceDuration = parentSequence ? Math.min(parentSequence.durationInFrames - from, durationInFrames) : durationInFrames;\n  const actualDurationInFrames = Math.max(0, Math.min(videoConfig.durationInFrames - from, parentSequenceDuration));\n  const { registerSequence, unregisterSequence } = useContext12(SequenceManager);\n  const { hidden } = useContext12(SequenceVisibilityToggleContext);\n  const premounting = useMemo10(() => {\n    return parentSequence?.premounting ?? Boolean(other._remotionInternalIsPremounting);\n  }, [other._remotionInternalIsPremounting, parentSequence?.premounting]);\n  const contextValue = useMemo10(() => {\n    return {\n      cumulatedFrom,\n      relativeFrom: from,\n      durationInFrames: actualDurationInFrames,\n      parentFrom: parentSequence?.relativeFrom ?? 0,\n      id,\n      height: height ?? parentSequence?.height ?? null,\n      width: width ?? parentSequence?.width ?? null,\n      premounting\n    };\n  }, [\n    cumulatedFrom,\n    from,\n    actualDurationInFrames,\n    parentSequence,\n    id,\n    height,\n    width,\n    premounting\n  ]);\n  const timelineClipName = useMemo10(() => {\n    return name ?? \"\";\n  }, [name]);\n  useEffect5(() => {\n    if (!getRemotionEnvironment().isStudio) {\n      return;\n    }\n    registerSequence({\n      from,\n      duration: actualDurationInFrames,\n      id,\n      displayName: timelineClipName,\n      parent: parentSequence?.id ?? null,\n      type: \"sequence\",\n      rootId,\n      showInTimeline,\n      nonce: nonce3,\n      loopDisplay,\n      stack: stack ?? null,\n      premountDisplay: premountDisplay ?? null\n    });\n    return () => {\n      unregisterSequence(id);\n    };\n  }, [\n    durationInFrames,\n    id,\n    name,\n    registerSequence,\n    timelineClipName,\n    unregisterSequence,\n    parentSequence?.id,\n    actualDurationInFrames,\n    rootId,\n    from,\n    showInTimeline,\n    nonce3,\n    loopDisplay,\n    stack,\n    premountDisplay\n  ]);\n  const endThreshold = Math.ceil(cumulatedFrom + from + durationInFrames - 1);\n  const content = absoluteFrame < cumulatedFrom + from ? null : absoluteFrame > endThreshold ? null : children;\n  const styleIfThere = other.layout === \"none\" ? undefined : other.style;\n  const defaultStyle = useMemo10(() => {\n    return {\n      flexDirection: undefined,\n      ...width ? { width } : {},\n      ...height ? { height } : {},\n      ...styleIfThere ?? {}\n    };\n  }, [height, styleIfThere, width]);\n  if (ref !== null && layout === \"none\") {\n    throw new TypeError('It is not supported to pass both a `ref` and `layout=\"none\"` to <Sequence />.');\n  }\n  const isSequenceHidden = hidden[id] ?? false;\n  if (isSequenceHidden) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx9(SequenceContext.Provider, {\n    value: contextValue,\n    children: content === null ? null : other.layout === \"none\" ? content : /* @__PURE__ */ jsx9(AbsoluteFill, {\n      ref,\n      style: defaultStyle,\n      className: other.className,\n      children: content\n    })\n  });\n};\nvar RegularSequence = forwardRef2(RegularSequenceRefForwardingFunction);\nvar PremountedSequenceRefForwardingFunction = (props, ref) => {\n  const frame = useCurrentFrame();\n  if (props.layout === \"none\") {\n    throw new Error('`<Sequence>` with `premountFor` prop does not support layout=\"none\"');\n  }\n  const { style: passedStyle, from = 0, premountFor = 0, ...otherProps } = props;\n  const premountingActive = frame < from && frame >= from - premountFor;\n  const style = useMemo10(() => {\n    return {\n      ...passedStyle,\n      opacity: premountingActive ? 0 : 1,\n      pointerEvents: premountingActive ? \"none\" : passedStyle?.pointerEvents ?? undefined\n    };\n  }, [premountingActive, passedStyle]);\n  return /* @__PURE__ */ jsx9(Freeze, {\n    frame: from,\n    active: premountingActive,\n    children: /* @__PURE__ */ jsx9(Sequence, {\n      ref,\n      from,\n      style,\n      _remotionInternalPremountDisplay: premountFor,\n      _remotionInternalIsPremounting: premountingActive,\n      ...otherProps\n    })\n  });\n};\nvar PremountedSequence = forwardRef2(PremountedSequenceRefForwardingFunction);\nvar SequenceRefForwardingFunction = (props, ref) => {\n  if (props.layout !== \"none\" && props.premountFor && !getRemotionEnvironment().isRendering) {\n    return /* @__PURE__ */ jsx9(PremountedSequence, {\n      ...props,\n      ref\n    });\n  }\n  return /* @__PURE__ */ jsx9(RegularSequence, {\n    ...props,\n    ref\n  });\n};\nvar Sequence = forwardRef2(SequenceRefForwardingFunction);\n// src/Artifact.tsx\nimport {useContext as useContext13, useEffect as useEffect6, useState as useState7} from \"react\";\n\n// src/RenderAssetManager.tsx\nimport {\ncreateContext as createContext11,\nuseCallback as useCallback4,\nuseLayoutEffect as useLayoutEffect2,\nuseMemo as useMemo11,\nuseState as useState6\n} from \"react\";\n\n// src/validation/validate-artifact.ts\nvar validateArtifactFilename = (filename) => {\n  if (typeof filename !== \"string\") {\n    throw new TypeError(`The \"filename\" must be a string, but you passed a value of type ${typeof filename}`);\n  }\n  if (filename.trim() === \"\") {\n    throw new Error(\"The `filename` must not be empty\");\n  }\n  if (!filename.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g)) {\n    throw new Error('The `filename` must match \"/^([0-9a-zA-Z-!_.*\\'()/:&$@=;+,?]+)/g\". Use forward slashes only, even on Windows.');\n  }\n};\nvar validateContent = (content) => {\n  if (typeof content !== \"string\" && !(content instanceof Uint8Array)) {\n    throw new TypeError(`The \"content\" must be a string or Uint8Array, but you passed a value of type ${typeof content}`);\n  }\n  if (typeof content === \"string\" && content.trim() === \"\") {\n    throw new Error(\"The `content` must not be empty\");\n  }\n};\nvar validateRenderAsset = (artifact) => {\n  if (artifact.type !== \"artifact\") {\n    return;\n  }\n  validateArtifactFilename(artifact.filename);\n  validateContent(artifact.content);\n};\n\n// src/RenderAssetManager.tsx\nimport {\njsx as jsx10\n} from \"react/jsx-runtime\";\nvar RenderAssetManager = createContext11({\n  registerRenderAsset: () => {\n    return;\n  },\n  unregisterRenderAsset: () => {\n    return;\n  },\n  renderAssets: []\n});\nvar RenderAssetManagerProvider = ({ children }) => {\n  const [renderAssets, setRenderAssets] = useState6([]);\n  const registerRenderAsset = useCallback4((renderAsset) => {\n    validateRenderAsset(renderAsset);\n    setRenderAssets((assets) => {\n      return [...assets, renderAsset];\n    });\n  }, []);\n  const unregisterRenderAsset = useCallback4((id) => {\n    setRenderAssets((assts) => {\n      return assts.filter((a) => a.id !== id);\n    });\n  }, []);\n  useLayoutEffect2(() => {\n    if (typeof window !== \"undefined\") {\n      window.remotion_collectAssets = () => {\n        setRenderAssets([]);\n        return renderAssets;\n      };\n    }\n  }, [renderAssets]);\n  const contextValue = useMemo11(() => {\n    return {\n      registerRenderAsset,\n      unregisterRenderAsset,\n      renderAssets\n    };\n  }, [renderAssets, registerRenderAsset, unregisterRenderAsset]);\n  return /* @__PURE__ */ jsx10(RenderAssetManager.Provider, {\n    value: contextValue,\n    children\n  });\n};\n\n// src/Artifact.tsx\nvar Artifact = ({ filename, content }) => {\n  const { registerRenderAsset, unregisterRenderAsset } = useContext13(RenderAssetManager);\n  const [env] = useState7(() => getRemotionEnvironment());\n  const frame = useCurrentFrame();\n  const [id] = useState7(() => {\n    return String(Math.random());\n  });\n  useEffect6(() => {\n    if (!env.isRendering) {\n      return;\n    }\n    if (content instanceof Uint8Array) {\n      registerRenderAsset({\n        type: \"artifact\",\n        id,\n        content: btoa(new TextDecoder(\"utf8\").decode(content)),\n        filename,\n        frame,\n        binary: true\n      });\n    } else {\n      registerRenderAsset({\n        type: \"artifact\",\n        id,\n        content,\n        filename,\n        frame,\n        binary: false\n      });\n    }\n    return () => {\n      return unregisterRenderAsset(id);\n    };\n  }, [\n    content,\n    env.isRendering,\n    filename,\n    frame,\n    id,\n    registerRenderAsset,\n    unregisterRenderAsset\n  ]);\n  return null;\n};\n// src/audio/Audio.tsx\nimport {forwardRef as forwardRef5, useCallback as useCallback9, useContext as useContext23} from \"react\";\n\n// src/absolute-src.ts\nvar getAbsoluteSrc = (relativeSrc) => {\n  if (typeof window === \"undefined\") {\n    return relativeSrc;\n  }\n  return new URL(relativeSrc, window.origin).href;\n};\n\n// src/calculate-loop.ts\nvar calculateLoopDuration = ({\n  endAt,\n  mediaDuration,\n  playbackRate,\n  startFrom\n}) => {\n  let duration = mediaDuration;\n  if (typeof endAt !== \"undefined\") {\n    duration = endAt;\n  }\n  if (typeof startFrom !== \"undefined\") {\n    duration -= startFrom;\n  }\n  const actualDuration = duration / playbackRate;\n  return Math.floor(actualDuration);\n};\n\n// src/cancel-render.ts\nfunction cancelRender(err) {\n  let error;\n  if (isErrorLike(err)) {\n    error = err;\n    if (!error.stack) {\n      error.stack = new Error(error.message).stack;\n    }\n  } else if (typeof err === \"string\") {\n    error = Error(err);\n  } else {\n    error = Error(\"Rendering was cancelled\");\n  }\n  window.remotion_cancelledError = error.stack;\n  throw error;\n}\nvar isErrorLike = (err) => {\n  if (err instanceof Error) {\n    return true;\n  }\n  if (err === null) {\n    return false;\n  }\n  if (typeof err !== \"object\") {\n    return false;\n  }\n  if (!(\"stack\" in err)) {\n    return false;\n  }\n  if (typeof err.stack !== \"string\") {\n    return false;\n  }\n  if (!(\"message\" in err)) {\n    return false;\n  }\n  if (typeof err.message !== \"string\") {\n    return false;\n  }\n  return true;\n};\n\n// src/loop/index.tsx\nimport React8, {createContext as createContext12, useMemo as useMemo12} from \"react\";\nimport {\njsx as jsx11\n} from \"react/jsx-runtime\";\nvar LoopContext = createContext12(null);\nvar useLoop = () => {\n  return React8.useContext(LoopContext);\n};\nvar Loop = ({ durationInFrames, times = Infinity, children, name, ...props }) => {\n  const currentFrame = useCurrentFrame();\n  const { durationInFrames: compDuration } = useVideoConfig();\n  validateDurationInFrames(durationInFrames, {\n    component: \"of the <Loop /> component\",\n    allowFloats: true\n  });\n  if (typeof times !== \"number\") {\n    throw new TypeError(`You passed to \"times\" an argument of type ${typeof times}, but it must be a number.`);\n  }\n  if (times !== Infinity && times % 1 !== 0) {\n    throw new TypeError(`The \"times\" prop of a loop must be an integer, but got ${times}.`);\n  }\n  if (times < 0) {\n    throw new TypeError(`The \"times\" prop of a loop must be at least 0, but got ${times}`);\n  }\n  const maxTimes = Math.ceil(compDuration / durationInFrames);\n  const actualTimes = Math.min(maxTimes, times);\n  const style = props.layout === \"none\" ? undefined : props.style;\n  const maxFrame = durationInFrames * (actualTimes - 1);\n  const iteration = Math.floor(currentFrame / durationInFrames);\n  const start = iteration * durationInFrames;\n  const from = Math.min(start, maxFrame);\n  const loopDisplay = useMemo12(() => {\n    return {\n      numberOfTimes: actualTimes,\n      startOffset: -from,\n      durationInFrames\n    };\n  }, [actualTimes, durationInFrames, from]);\n  const loopContext = useMemo12(() => {\n    return {\n      iteration: Math.floor(currentFrame / durationInFrames),\n      durationInFrames\n    };\n  }, [currentFrame, durationInFrames]);\n  return /* @__PURE__ */ jsx11(LoopContext.Provider, {\n    value: loopContext,\n    children: /* @__PURE__ */ jsx11(Sequence, {\n      durationInFrames,\n      from,\n      name: name ?? \"<Loop>\",\n      _remotionInternalLoopDisplay: loopDisplay,\n      layout: props.layout,\n      style,\n      children\n    })\n  });\n};\nLoop.useLoop = useLoop;\n\n// src/prefetch.ts\nimport {useContext as useContext14} from \"react\";\n\n// src/prefetch-state.tsx\nimport {createContext as createContext13, useEffect as useEffect7, useState as useState8} from \"react\";\nimport {\njsx as jsx12\n} from \"react/jsx-runtime\";\nvar PreloadContext = createContext13({});\nvar preloads = {};\nvar updaters = [];\nvar setPreloads = (updater) => {\n  preloads = updater(preloads);\n  updaters.forEach((u) => u());\n};\nvar PrefetchProvider = ({ children }) => {\n  const [_preloads, _setPreloads] = useState8(() => preloads);\n  useEffect7(() => {\n    const updaterFunction = () => {\n      _setPreloads(preloads);\n    };\n    updaters.push(updaterFunction);\n    return () => {\n      updaters = updaters.filter((u) => u !== updaterFunction);\n    };\n  }, []);\n  return /* @__PURE__ */ jsx12(PreloadContext.Provider, {\n    value: _preloads,\n    children\n  });\n};\n\n// src/prefetch.ts\nvar usePreload = (src) => {\n  const preloads2 = useContext14(PreloadContext);\n  return preloads2[src] ?? src;\n};\nvar blobToBase64 = function(blob) {\n  const reader = new FileReader;\n  return new Promise((resolve, reject) => {\n    reader.onload = function() {\n      const dataUrl = reader.result;\n      resolve(dataUrl);\n    };\n    reader.onerror = (err) => {\n      return reject(err);\n    };\n    reader.readAsDataURL(blob);\n  });\n};\nvar getBlobFromReader = async ({\n  reader,\n  contentType,\n  contentLength,\n  onProgress\n}) => {\n  let receivedLength = 0;\n  const chunks = [];\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    chunks.push(value);\n    receivedLength += value.length;\n    if (onProgress) {\n      onProgress({ loadedBytes: receivedLength, totalBytes: contentLength });\n    }\n  }\n  const chunksAll = new Uint8Array(receivedLength);\n  let position = 0;\n  for (const chunk of chunks) {\n    chunksAll.set(chunk, position);\n    position += chunk.length;\n  }\n  return new Blob([chunksAll], {\n    type: contentType ?? undefined\n  });\n};\nvar prefetch = (src, options) => {\n  const method = options?.method ?? \"blob-url\";\n  if (getRemotionEnvironment().isRendering) {\n    return {\n      free: () => {\n        return;\n      },\n      waitUntilDone: () => Promise.resolve(src)\n    };\n  }\n  let canceled = false;\n  let objectUrl = null;\n  let resolve = () => {\n    return;\n  };\n  let reject = () => {\n    return;\n  };\n  const waitUntilDone = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  const controller = new AbortController;\n  let canBeAborted = true;\n  fetch(src, {\n    signal: controller.signal\n  }).then((res) => {\n    canBeAborted = false;\n    if (canceled) {\n      return null;\n    }\n    if (!res.ok) {\n      throw new Error(`HTTP error, status = ${res.status}`);\n    }\n    const headerContentType = res.headers.get(\"Content-Type\");\n    const contentType = options?.contentType ?? headerContentType;\n    const hasProperContentType = contentType && (contentType.startsWith(\"video/\") || contentType.startsWith(\"audio/\") || contentType.startsWith(\"image/\"));\n    if (!hasProperContentType) {\n      console.warn(`Called prefetch() on ${src} which returned a \"Content-Type\" of ${headerContentType}. Prefetched content should have a proper content type (video/... or audio/...) or a contentType passed the options of prefetch(). Otherwise, prefetching will not work properly in all browsers.`);\n    }\n    if (!res.body) {\n      throw new Error(`HTTP response of ${src} has no body`);\n    }\n    const reader = res.body.getReader();\n    return getBlobFromReader({\n      reader,\n      contentType: options?.contentType ?? headerContentType ?? null,\n      contentLength: res.headers.get(\"Content-Length\") ? parseInt(res.headers.get(\"Content-Length\"), 10) : null,\n      onProgress: options?.onProgress\n    });\n  }).then((buf) => {\n    if (!buf) {\n      return;\n    }\n    const actualBlob = options?.contentType ? new Blob([buf], { type: options.contentType }) : buf;\n    if (method === \"base64\") {\n      return blobToBase64(actualBlob);\n    }\n    return URL.createObjectURL(actualBlob);\n  }).then((url) => {\n    if (canceled) {\n      return;\n    }\n    objectUrl = url;\n    setPreloads((p) => ({\n      ...p,\n      [src]: objectUrl\n    }));\n    resolve(objectUrl);\n  }).catch((err) => {\n    reject(err);\n  });\n  return {\n    free: () => {\n      if (objectUrl) {\n        if (method === \"blob-url\") {\n          URL.revokeObjectURL(objectUrl);\n        }\n        setPreloads((p) => {\n          const copy = { ...p };\n          delete copy[src];\n          return copy;\n        });\n      } else {\n        canceled = true;\n        if (canBeAborted) {\n          try {\n            controller.abort();\n          } catch (e) {\n          }\n        }\n      }\n    },\n    waitUntilDone: () => {\n      return waitUntilDone;\n    }\n  };\n};\n\n// src/validate-media-props.ts\nvar validateMediaProps = (props, component) => {\n  if (typeof props.volume !== \"number\" && typeof props.volume !== \"function\" && typeof props.volume !== \"undefined\") {\n    throw new TypeError(`You have passed a volume of type ${typeof props.volume} to your <${component} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);\n  }\n  if (typeof props.volume === \"number\" && props.volume < 0) {\n    throw new TypeError(`You have passed a volume below 0 to your <${component} /> component. Volume must be between 0 and 1`);\n  }\n  if (typeof props.playbackRate !== \"number\" && typeof props.playbackRate !== \"undefined\") {\n    throw new TypeError(`You have passed a playbackRate of type ${typeof props.playbackRate} to your <${component} /> component. Playback rate must a real number or undefined.`);\n  }\n  if (typeof props.playbackRate === \"number\" && (isNaN(props.playbackRate) || !Number.isFinite(props.playbackRate) || props.playbackRate <= 0)) {\n    throw new TypeError(`You have passed a playbackRate of ${props.playbackRate} to your <${component} /> component. Playback rate must be a real number above 0.`);\n  }\n};\n\n// src/validate-start-from-props.ts\nvar validateStartFromProps = (startFrom, endAt) => {\n  if (typeof startFrom !== \"undefined\") {\n    if (typeof startFrom !== \"number\") {\n      throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof startFrom}.`);\n    }\n    if (isNaN(startFrom) || startFrom === Infinity) {\n      throw new TypeError(\"startFrom prop can not be NaN or Infinity.\");\n    }\n    if (startFrom < 0) {\n      throw new TypeError(`startFrom must be greater than equal to 0 instead got ${startFrom}.`);\n    }\n  }\n  if (typeof endAt !== \"undefined\") {\n    if (typeof endAt !== \"number\") {\n      throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof endAt}.`);\n    }\n    if (isNaN(endAt)) {\n      throw new TypeError(\"endAt prop can not be NaN.\");\n    }\n    if (endAt <= 0) {\n      throw new TypeError(`endAt must be a positive number, instead got ${endAt}.`);\n    }\n  }\n  if (endAt < startFrom) {\n    throw new TypeError(\"endAt prop must be greater than startFrom prop.\");\n  }\n};\n\n// src/video/duration-state.tsx\nimport {createContext as createContext14, useMemo as useMemo13, useReducer} from \"react\";\nimport {\njsx as jsx13\n} from \"react/jsx-runtime\";\nvar durationReducer = (state, action) => {\n  switch (action.type) {\n    case \"got-duration\": {\n      const absoluteSrc = getAbsoluteSrc(action.src);\n      if (state[absoluteSrc] === action.durationInSeconds) {\n        return state;\n      }\n      return {\n        ...state,\n        [absoluteSrc]: action.durationInSeconds\n      };\n    }\n    default:\n      return state;\n  }\n};\nvar DurationsContext = createContext14({\n  durations: {},\n  setDurations: () => {\n    throw new Error(\"context missing\");\n  }\n});\nvar DurationsContextProvider = ({ children }) => {\n  const [durations, setDurations] = useReducer(durationReducer, {});\n  const value = useMemo13(() => {\n    return {\n      durations,\n      setDurations\n    };\n  }, [durations]);\n  return /* @__PURE__ */ jsx13(DurationsContext.Provider, {\n    value,\n    children\n  });\n};\n\n// src/audio/AudioForPreview.tsx\nimport {\nforwardRef as forwardRef3,\nuseContext as useContext21,\nuseEffect as useEffect16,\nuseImperativeHandle as useImperativeHandle3,\nuseMemo as useMemo20,\nuseRef as useRef8,\nuseState as useState14\n} from \"react\";\n\n// src/random.ts\nfunction mulberry32(a) {\n  let t = a + 1831565813;\n  t = Math.imul(t ^ t >>> 15, t | 1);\n  t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n  return ((t ^ t >>> 14) >>> 0) / 4294967296;\n}\nfunction hashCode(str) {\n  let i = 0;\n  let chr = 0;\n  let hash = 0;\n  for (i = 0;i < str.length; i++) {\n    chr = str.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n}\nvar random = (seed, dummy) => {\n  if (dummy !== undefined) {\n    throw new TypeError(\"random() takes only one argument\");\n  }\n  if (seed === null) {\n    return Math.random();\n  }\n  if (typeof seed === \"string\") {\n    return mulberry32(hashCode(seed));\n  }\n  if (typeof seed === \"number\") {\n    return mulberry32(seed * 10000000000);\n  }\n  throw new Error(\"random() argument must be a number or a string\");\n};\n\n// src/use-media-in-timeline.ts\nimport {useContext as useContext16, useEffect as useEffect8, useMemo as useMemo14, useState as useState9} from \"react\";\n\n// src/audio/use-audio-frame.ts\nimport {useContext as useContext15} from \"react\";\nvar useMediaStartsAt = () => {\n  const parentSequence = useContext15(SequenceContext);\n  const startsAt = Math.min(0, parentSequence?.relativeFrom ?? 0);\n  return startsAt;\n};\nvar useFrameForVolumeProp = (behavior) => {\n  const loop2 = Loop.useLoop();\n  const frame = useCurrentFrame();\n  const startsAt = useMediaStartsAt();\n  if (behavior === \"repeat\" || loop2 === null) {\n    return frame + startsAt;\n  }\n  return frame + startsAt + loop2.durationInFrames * loop2.iteration;\n};\n\n// src/get-asset-file-name.ts\nvar getAssetDisplayName = (filename) => {\n  if (/data:|blob:/.test(filename.substring(0, 5))) {\n    return \"Data URL\";\n  }\n  const splitted = filename.split(\"/\").map((s) => s.split(\"\\\\\")).flat(1);\n  return splitted[splitted.length - 1];\n};\n\n// src/play-and-handle-not-allowed-error.ts\nvar playAndHandleNotAllowedError = (mediaRef, mediaType, onAutoPlayError) => {\n  const { current } = mediaRef;\n  if (!current) {\n    return;\n  }\n  const prom = current.play();\n  if (prom.catch) {\n    prom.catch((err) => {\n      if (!current) {\n        return;\n      }\n      if (err.message.includes(\"request was interrupted by a call to pause\")) {\n        return;\n      }\n      if (err.message.includes(\"The operation was aborted.\")) {\n        return;\n      }\n      if (err.message.includes(\"The fetching process for the media resource was aborted by the user agent\")) {\n        return;\n      }\n      if (err.message.includes(\"request was interrupted by a new load request\")) {\n        return;\n      }\n      if (err.message.includes(\"because the media was removed from the document\")) {\n        return;\n      }\n      console.log(`Could not play ${mediaType} due to following error: `, err);\n      if (!current.muted) {\n        if (onAutoPlayError) {\n          onAutoPlayError();\n          return;\n        }\n        console.log(`The video will be muted and we'll retry playing it.`);\n        if (mediaType === \"video\" && getRemotionEnvironment().isPlayer) {\n          console.log(\"Use onAutoPlayError() to handle this error yourself.\");\n        }\n        current.muted = true;\n        current.play();\n      }\n    });\n  }\n};\n\n// src/volume-prop.ts\nvar evaluateVolume = ({\n  frame,\n  volume,\n  mediaVolume = 1,\n  allowAmplificationDuringRender\n}) => {\n  const maxVolume = allowAmplificationDuringRender ? Infinity : 1;\n  if (typeof volume === \"number\") {\n    return Math.min(maxVolume, volume * mediaVolume);\n  }\n  if (typeof volume === \"undefined\") {\n    return Number(mediaVolume);\n  }\n  const evaluated = volume(frame) * mediaVolume;\n  if (typeof evaluated !== \"number\") {\n    throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof evaluated} for frame ${frame}`);\n  }\n  if (Number.isNaN(evaluated)) {\n    throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${frame}.`);\n  }\n  if (!Number.isFinite(evaluated)) {\n    throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${frame}.`);\n  }\n  return Math.max(0, Math.min(maxVolume, evaluated));\n};\n\n// src/use-media-in-timeline.ts\nvar didWarn2 = {};\nvar warnOnce2 = (message) => {\n  if (didWarn2[message]) {\n    return;\n  }\n  console.warn(message);\n  didWarn2[message] = true;\n};\nvar useMediaInTimeline = ({\n  volume,\n  mediaVolume,\n  mediaRef,\n  src,\n  mediaType,\n  playbackRate,\n  displayName,\n  id,\n  stack,\n  showInTimeline,\n  premountDisplay,\n  onAutoPlayError\n}) => {\n  const videoConfig = useVideoConfig();\n  const { rootId, audioAndVideoTags } = useContext16(TimelineContext);\n  const parentSequence = useContext16(SequenceContext);\n  const actualFrom = parentSequence ? parentSequence.relativeFrom + parentSequence.cumulatedFrom : 0;\n  const [playing] = usePlayingState();\n  const startsAt = useMediaStartsAt();\n  const { registerSequence, unregisterSequence } = useContext16(SequenceManager);\n  const [initialVolume] = useState9(() => volume);\n  const nonce4 = useNonce();\n  const duration = parentSequence ? Math.min(parentSequence.durationInFrames, videoConfig.durationInFrames) : videoConfig.durationInFrames;\n  const doesVolumeChange = typeof volume === \"function\";\n  const volumes = useMemo14(() => {\n    if (typeof volume === \"number\") {\n      return volume;\n    }\n    return new Array(Math.floor(Math.max(0, duration + startsAt))).fill(true).map((_, i) => {\n      return evaluateVolume({\n        frame: i + startsAt,\n        volume,\n        mediaVolume,\n        allowAmplificationDuringRender: false\n      });\n    }).join(\",\");\n  }, [duration, startsAt, volume, mediaVolume]);\n  useEffect8(() => {\n    if (typeof volume === \"number\" && volume !== initialVolume) {\n      warnOnce2(`Remotion: The ${mediaType} with src ${src} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/using-audio/#controlling-volume`);\n    }\n  }, [initialVolume, mediaType, src, volume]);\n  useEffect8(() => {\n    if (!mediaRef.current) {\n      return;\n    }\n    if (!src) {\n      throw new Error(\"No src passed\");\n    }\n    if (!getRemotionEnvironment().isStudio && window.process?.env?.NODE_ENV !== \"test\") {\n      return;\n    }\n    if (!showInTimeline) {\n      return;\n    }\n    registerSequence({\n      type: mediaType,\n      src,\n      id,\n      duration,\n      from: 0,\n      parent: parentSequence?.id ?? null,\n      displayName: displayName ?? getAssetDisplayName(src),\n      rootId,\n      volume: volumes,\n      showInTimeline: true,\n      nonce: nonce4,\n      startMediaFrom: 0 - startsAt,\n      doesVolumeChange,\n      loopDisplay: undefined,\n      playbackRate,\n      stack,\n      premountDisplay\n    });\n    return () => {\n      unregisterSequence(id);\n    };\n  }, [\n    actualFrom,\n    duration,\n    id,\n    parentSequence,\n    src,\n    registerSequence,\n    rootId,\n    unregisterSequence,\n    videoConfig,\n    volumes,\n    doesVolumeChange,\n    nonce4,\n    mediaRef,\n    mediaType,\n    startsAt,\n    playbackRate,\n    displayName,\n    stack,\n    showInTimeline,\n    premountDisplay\n  ]);\n  useEffect8(() => {\n    const tag = {\n      id,\n      play: () => {\n        if (!playing) {\n          return;\n        }\n        return playAndHandleNotAllowedError(mediaRef, mediaType, onAutoPlayError);\n      }\n    };\n    audioAndVideoTags.current.push(tag);\n    return () => {\n      audioAndVideoTags.current = audioAndVideoTags.current.filter((a) => a.id !== id);\n    };\n  }, [audioAndVideoTags, id, mediaRef, mediaType, onAutoPlayError, playing]);\n};\n\n// src/use-media-playback.ts\nimport {useCallback as useCallback7, useContext as useContext18, useEffect as useEffect12, useRef as useRef6} from \"react\";\n\n// src/buffer-until-first-frame.ts\nimport {useCallback as useCallback6, useMemo as useMemo17, useRef as useRef3} from \"react\";\n\n// src/use-buffer-state.ts\nimport {useContext as useContext17, useMemo as useMemo16} from \"react\";\n\n// src/buffering.tsx\nimport React11, {useCallback as useCallback5, useEffect as useEffect9, useMemo as useMemo15, useRef as useRef2, useState as useState10} from \"react\";\nimport {\njsx as jsx14\n} from \"react/jsx-runtime\";\nvar useBufferManager = () => {\n  const [blocks, setBlocks] = useState10([]);\n  const [onBufferingCallbacks, setOnBufferingCallbacks] = useState10([]);\n  const [onResumeCallbacks, setOnResumeCallbacks] = useState10([]);\n  const buffering = useRef2(false);\n  const addBlock = useCallback5((block) => {\n    setBlocks((b) => [...b, block]);\n    return {\n      unblock: () => {\n        setBlocks((b) => {\n          const newArr = b.filter((bx) => bx !== block);\n          if (newArr.length === b.length) {\n            return b;\n          }\n          return newArr;\n        });\n      }\n    };\n  }, []);\n  const listenForBuffering = useCallback5((callback) => {\n    setOnBufferingCallbacks((c) => [...c, callback]);\n    return {\n      remove: () => {\n        setOnBufferingCallbacks((c) => c.filter((cb) => cb !== callback));\n      }\n    };\n  }, []);\n  const listenForResume = useCallback5((callback) => {\n    setOnResumeCallbacks((c) => [...c, callback]);\n    return {\n      remove: () => {\n        setOnResumeCallbacks((c) => c.filter((cb) => cb !== callback));\n      }\n    };\n  }, []);\n  useEffect9(() => {\n    if (blocks.length > 0) {\n      onBufferingCallbacks.forEach((c) => c());\n    }\n  }, [blocks]);\n  useEffect9(() => {\n    if (blocks.length === 0) {\n      onResumeCallbacks.forEach((c) => c());\n    }\n  }, [blocks]);\n  return useMemo15(() => {\n    return { addBlock, listenForBuffering, listenForResume, buffering };\n  }, [addBlock, buffering, listenForBuffering, listenForResume]);\n};\nvar BufferingContextReact = React11.createContext(null);\nvar BufferingProvider = ({ children }) => {\n  const bufferManager = useBufferManager();\n  return /* @__PURE__ */ jsx14(BufferingContextReact.Provider, {\n    value: bufferManager,\n    children\n  });\n};\n\n// src/use-buffer-state.ts\nvar useBufferState = () => {\n  const buffer = useContext17(BufferingContextReact);\n  const addBlock = buffer ? buffer.addBlock : null;\n  return useMemo16(() => ({\n    delayPlayback: () => {\n      if (!addBlock) {\n        throw new Error(\"Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state\");\n      }\n      const { unblock } = addBlock({\n        id: String(Math.random())\n      });\n      return { unblock };\n    }\n  }), [addBlock]);\n};\n\n// src/buffer-until-first-frame.ts\nvar useBufferUntilFirstFrame = ({\n  mediaRef,\n  mediaType,\n  onVariableFpsVideoDetected,\n  pauseWhenBuffering\n}) => {\n  const bufferingRef = useRef3(false);\n  const { delayPlayback } = useBufferState();\n  const bufferUntilFirstFrame = useCallback6((requestedTime) => {\n    if (mediaType !== \"video\") {\n      return;\n    }\n    if (!pauseWhenBuffering) {\n      return;\n    }\n    const current = mediaRef.current;\n    if (!current) {\n      return;\n    }\n    if (!current.requestVideoFrameCallback) {\n      return;\n    }\n    bufferingRef.current = true;\n    const playback = delayPlayback();\n    const unblock = () => {\n      playback.unblock();\n      current.removeEventListener(\"ended\", unblock, {\n        once: true\n      });\n      current.removeEventListener(\"pause\", unblock, {\n        once: true\n      });\n      bufferingRef.current = false;\n    };\n    const onEndedOrPause = () => {\n      unblock();\n    };\n    current.requestVideoFrameCallback((_, info) => {\n      const differenceFromRequested = Math.abs(info.mediaTime - requestedTime);\n      if (differenceFromRequested > 0.5) {\n        onVariableFpsVideoDetected();\n      }\n      current.requestVideoFrameCallback(() => {\n        unblock();\n      });\n    });\n    current.addEventListener(\"ended\", onEndedOrPause, { once: true });\n    current.addEventListener(\"pause\", onEndedOrPause, { once: true });\n  }, [\n    delayPlayback,\n    mediaRef,\n    mediaType,\n    onVariableFpsVideoDetected,\n    pauseWhenBuffering\n  ]);\n  return useMemo17(() => {\n    return {\n      isBuffering: () => bufferingRef.current,\n      bufferUntilFirstFrame\n    };\n  }, [bufferUntilFirstFrame]);\n};\n\n// src/use-media-buffering.ts\nimport {useEffect as useEffect10, useState as useState11} from \"react\";\nvar useMediaBuffering = ({\n  element,\n  shouldBuffer,\n  isPremounting\n}) => {\n  const buffer = useBufferState();\n  const [isBuffering, setIsBuffering] = useState11(false);\n  useEffect10(() => {\n    let cleanupFns = [];\n    const { current } = element;\n    if (!current) {\n      return;\n    }\n    if (!shouldBuffer) {\n      return;\n    }\n    if (isPremounting) {\n      return;\n    }\n    const cleanup = () => {\n      cleanupFns.forEach((fn) => fn());\n      cleanupFns = [];\n      setIsBuffering(false);\n    };\n    const onWaiting = () => {\n      setIsBuffering(true);\n      const { unblock } = buffer.delayPlayback();\n      const onCanPlay = () => {\n        cleanup();\n        init();\n      };\n      const onError = () => {\n        cleanup();\n        init();\n      };\n      current.addEventListener(\"canplay\", onCanPlay, {\n        once: true\n      });\n      cleanupFns.push(() => {\n        current.removeEventListener(\"canplay\", onCanPlay);\n      });\n      current.addEventListener(\"error\", onError, {\n        once: true\n      });\n      cleanupFns.push(() => {\n        current.removeEventListener(\"error\", onError);\n      });\n      cleanupFns.push(() => {\n        unblock();\n      });\n    };\n    const init = () => {\n      if (current.readyState < current.HAVE_FUTURE_DATA) {\n        onWaiting();\n        if (!navigator.userAgent.includes(\"Firefox/\")) {\n          current.load();\n        }\n      } else {\n        current.addEventListener(\"waiting\", onWaiting);\n        cleanupFns.push(() => {\n          current.removeEventListener(\"waiting\", onWaiting);\n        });\n      }\n    };\n    init();\n    return () => {\n      cleanup();\n    };\n  }, [buffer, element, isPremounting, shouldBuffer]);\n  return isBuffering;\n};\n\n// src/use-request-video-callback-time.ts\nimport {useEffect as useEffect11, useRef as useRef4} from \"react\";\nvar useRequestVideoCallbackTime = ({\n  mediaRef,\n  mediaType,\n  lastSeek,\n  onVariableFpsVideoDetected\n}) => {\n  const currentTime = useRef4(null);\n  useEffect11(() => {\n    const { current } = mediaRef;\n    if (current) {\n      currentTime.current = current.currentTime;\n    } else {\n      currentTime.current = null;\n      return;\n    }\n    if (mediaType !== \"video\") {\n      currentTime.current = null;\n      return;\n    }\n    const videoTag = current;\n    if (!videoTag.requestVideoFrameCallback) {\n      return;\n    }\n    let cancel = () => {\n      return;\n    };\n    const request = () => {\n      if (!videoTag) {\n        return;\n      }\n      const cb = videoTag.requestVideoFrameCallback((_, info) => {\n        if (currentTime.current !== null) {\n          const difference = Math.abs(currentTime.current - info.mediaTime);\n          const differenceToLastSeek = Math.abs(lastSeek.current === null ? Infinity : info.mediaTime - lastSeek.current);\n          if (difference > 0.5 && differenceToLastSeek > 0.5 && info.mediaTime > currentTime.current) {\n            onVariableFpsVideoDetected();\n          }\n        }\n        currentTime.current = info.mediaTime;\n        request();\n      });\n      cancel = () => {\n        videoTag.cancelVideoFrameCallback(cb);\n        cancel = () => {\n          return;\n        };\n      };\n    };\n    request();\n    return () => {\n      cancel();\n    };\n  }, [lastSeek, mediaRef, mediaType, onVariableFpsVideoDetected]);\n  return currentTime;\n};\n\n// src/interpolate.ts\nfunction interpolateFunction(input, inputRange, outputRange, options) {\n  const { extrapolateLeft, extrapolateRight, easing } = options;\n  let result = input;\n  const [inputMin, inputMax] = inputRange;\n  const [outputMin, outputMax] = outputRange;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") {\n      return result;\n    }\n    if (extrapolateLeft === \"clamp\") {\n      result = inputMin;\n    } else if (extrapolateLeft === \"wrap\") {\n      const range = inputMax - inputMin;\n      result = ((result - inputMin) % range + range) % range + inputMin;\n    } else if (extrapolateLeft === \"extend\") {\n    }\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") {\n      return result;\n    }\n    if (extrapolateRight === \"clamp\") {\n      result = inputMax;\n    } else if (extrapolateRight === \"wrap\") {\n      const range = inputMax - inputMin;\n      result = ((result - inputMin) % range + range) % range + inputMin;\n    } else if (extrapolateRight === \"extend\") {\n    }\n  }\n  if (outputMin === outputMax) {\n    return outputMin;\n  }\n  result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  let i;\n  for (i = 1;i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) {\n      break;\n    }\n  }\n  return i - 1;\n}\nfunction checkValidInputRange(arr) {\n  for (let i = 1;i < arr.length; ++i) {\n    if (!(arr[i] > arr[i - 1])) {\n      throw new Error(`inputRange must be strictly monotonically increasing but got [${arr.join(\",\")}]`);\n    }\n  }\n}\nfunction checkInfiniteRange(name, arr) {\n  if (arr.length < 2) {\n    throw new Error(name + \" must have at least 2 elements\");\n  }\n  for (const element of arr) {\n    if (typeof element !== \"number\") {\n      throw new Error(`${name} must contain only numbers`);\n    }\n    if (!Number.isFinite(element)) {\n      throw new Error(`${name} must contain only finite numbers, but got [${arr.join(\",\")}]`);\n    }\n  }\n}\nfunction interpolate(input, inputRange, outputRange, options) {\n  if (typeof input === \"undefined\") {\n    throw new Error(\"input can not be undefined\");\n  }\n  if (typeof inputRange === \"undefined\") {\n    throw new Error(\"inputRange can not be undefined\");\n  }\n  if (typeof outputRange === \"undefined\") {\n    throw new Error(\"outputRange can not be undefined\");\n  }\n  if (inputRange.length !== outputRange.length) {\n    throw new Error(\"inputRange (\" + inputRange.length + \") and outputRange (\" + outputRange.length + \") must have the same length\");\n  }\n  checkInfiniteRange(\"inputRange\", inputRange);\n  checkInfiniteRange(\"outputRange\", outputRange);\n  checkValidInputRange(inputRange);\n  const easing = options?.easing ?? ((num) => num);\n  let extrapolateLeft = \"extend\";\n  if (options?.extrapolateLeft !== undefined) {\n    extrapolateLeft = options.extrapolateLeft;\n  }\n  let extrapolateRight = \"extend\";\n  if (options?.extrapolateRight !== undefined) {\n    extrapolateRight = options.extrapolateRight;\n  }\n  if (typeof input !== \"number\") {\n    throw new TypeError(\"Cannot interpolate an input which is not a number\");\n  }\n  const range = findRange(input, inputRange);\n  return interpolateFunction(input, [inputRange[range], inputRange[range + 1]], [outputRange[range], outputRange[range + 1]], {\n    easing,\n    extrapolateLeft,\n    extrapolateRight\n  });\n}\n\n// src/video/get-current-time.ts\nvar getExpectedMediaFrameUncorrected = ({\n  frame,\n  playbackRate,\n  startFrom\n}) => {\n  return interpolate(frame, [-1, startFrom, startFrom + 1], [-1, startFrom, startFrom + playbackRate]);\n};\nvar getMediaTime = ({\n  fps,\n  frame,\n  playbackRate,\n  startFrom\n}) => {\n  const expectedFrame = getExpectedMediaFrameUncorrected({\n    frame,\n    playbackRate,\n    startFrom\n  });\n  const msPerFrame = 1000 / fps;\n  return expectedFrame * msPerFrame / 1000;\n};\n\n// src/video/video-fragment.ts\nimport {useRef as useRef5} from \"react\";\nvar toSeconds = (time, fps) => {\n  return Math.round(time / fps * 100) / 100;\n};\nvar isIosSafari = () => {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n  const isIpadIPodIPhone = /iP(ad|od|hone)/i.test(window.navigator.userAgent);\n  const isAppleWebKit = /AppleWebKit/.test(window.navigator.userAgent);\n  return isIpadIPodIPhone && isAppleWebKit;\n};\nvar isIOSSafariAndBlob = (actualSrc) => {\n  return isIosSafari() && actualSrc.startsWith(\"blob:\");\n};\nvar getVideoFragmentStart = ({\n  actualFrom,\n  fps\n}) => {\n  return toSeconds(Math.max(0, -actualFrom), fps);\n};\nvar getVideoFragmentEnd = ({\n  duration,\n  fps\n}) => {\n  return toSeconds(duration, fps);\n};\nvar appendVideoFragment = ({\n  actualSrc,\n  actualFrom,\n  duration,\n  fps\n}) => {\n  if (isIOSSafariAndBlob(actualSrc)) {\n    return actualSrc;\n  }\n  if (actualSrc.startsWith(\"data:\")) {\n    return actualSrc;\n  }\n  const existingHash = Boolean(new URL(actualSrc, (typeof window === \"undefined\" ? null : window.location.href) ?? \"http://localhost:3000\").hash);\n  if (existingHash) {\n    return actualSrc;\n  }\n  if (!Number.isFinite(actualFrom)) {\n    return actualSrc;\n  }\n  const withStartHash = `${actualSrc}#t=${getVideoFragmentStart({ actualFrom, fps })}`;\n  if (!Number.isFinite(duration)) {\n    return withStartHash;\n  }\n  return `${withStartHash},${getVideoFragmentEnd({ duration, fps })}`;\n};\nvar isSubsetOfDuration = ({\n  prevStartFrom,\n  newStartFrom,\n  prevDuration,\n  newDuration,\n  fps\n}) => {\n  const previousFrom = getVideoFragmentStart({ actualFrom: prevStartFrom, fps });\n  const newFrom = getVideoFragmentStart({ actualFrom: newStartFrom, fps });\n  const previousEnd = getVideoFragmentEnd({ duration: prevDuration, fps });\n  const newEnd = getVideoFragmentEnd({ duration: newDuration, fps });\n  if (newFrom < previousFrom) {\n    return false;\n  }\n  if (newEnd > previousEnd) {\n    return false;\n  }\n  return true;\n};\nvar useAppendVideoFragment = ({\n  actualSrc: initialActualSrc,\n  actualFrom: initialActualFrom,\n  duration: initialDuration,\n  fps\n}) => {\n  const actualFromRef = useRef5(initialActualFrom);\n  const actualDuration = useRef5(initialDuration);\n  const actualSrc = useRef5(initialActualSrc);\n  if (!isSubsetOfDuration({\n    prevStartFrom: actualFromRef.current,\n    newStartFrom: initialActualFrom,\n    prevDuration: actualDuration.current,\n    newDuration: initialDuration,\n    fps\n  }) || initialActualSrc !== actualSrc.current) {\n    actualFromRef.current = initialActualFrom;\n    actualDuration.current = initialDuration;\n    actualSrc.current = initialActualSrc;\n  }\n  const appended = appendVideoFragment({\n    actualSrc: actualSrc.current,\n    actualFrom: actualFromRef.current,\n    duration: actualDuration.current,\n    fps\n  });\n  return appended;\n};\n\n// src/warn-about-non-seekable-media.ts\nvar alreadyWarned = {};\nvar warnAboutNonSeekableMedia = (ref, type) => {\n  if (ref === null) {\n    return;\n  }\n  if (ref.seekable.length === 0) {\n    return;\n  }\n  if (ref.seekable.length > 1) {\n    return;\n  }\n  if (alreadyWarned[ref.src]) {\n    return;\n  }\n  const range = { start: ref.seekable.start(0), end: ref.seekable.end(0) };\n  if (range.start === 0 && range.end === 0) {\n    const msg = [\n      `The media ${ref.src} cannot be seeked. This could be one of few reasons:`,\n      \"1) The media resource was replaced while the video is playing but it was not loaded yet.\",\n      \"2) The media does not support seeking.\",\n      \"3) The media was loaded with security headers prventing it from being included.\",\n      \"Please see https://remotion.dev/docs/non-seekable-media for assistance.\"\n    ].join(\"\\n\");\n    if (type === \"console-error\") {\n      console.error(msg);\n    } else if (type === \"console-warning\") {\n      console.warn(`The media ${ref.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`);\n    } else {\n      throw new Error(msg);\n    }\n    alreadyWarned[ref.src] = true;\n  }\n};\n\n// src/use-media-playback.ts\nvar DEFAULT_ACCEPTABLE_TIMESHIFT = 0.45;\nvar seek = (mediaRef, time) => {\n  if (!mediaRef.current) {\n    return;\n  }\n  const timeToSet = isIosSafari() ? Number(time.toFixed(1)) : time;\n  mediaRef.current.currentTime = timeToSet;\n};\nvar useMediaPlayback = ({\n  mediaRef,\n  src,\n  mediaType,\n  playbackRate: localPlaybackRate,\n  onlyWarnForMediaSeekingError,\n  acceptableTimeshift,\n  pauseWhenBuffering,\n  isPremounting,\n  debugSeeking,\n  onAutoPlayError\n}) => {\n  const { playbackRate: globalPlaybackRate } = useContext18(TimelineContext);\n  const frame = useCurrentFrame();\n  const absoluteFrame = useTimelinePosition();\n  const [playing] = usePlayingState();\n  const buffering3 = useContext18(BufferingContextReact);\n  const { fps } = useVideoConfig();\n  const mediaStartsAt = useMediaStartsAt();\n  const lastSeekDueToShift = useRef6(null);\n  const lastSeek = useRef6(null);\n  if (!buffering3) {\n    throw new Error(\"useMediaPlayback must be used inside a <BufferingContext>\");\n  }\n  const isVariableFpsVideoMap = useRef6({});\n  const onVariableFpsVideoDetected = useCallback7(() => {\n    if (!src) {\n      return;\n    }\n    if (debugSeeking) {\n      console.log(`Detected ${src} as a variable FPS video. Disabling buffering while seeking.`);\n    }\n    isVariableFpsVideoMap.current[src] = true;\n  }, [debugSeeking, src]);\n  const currentTime = useRequestVideoCallbackTime({\n    mediaRef,\n    mediaType,\n    lastSeek,\n    onVariableFpsVideoDetected\n  });\n  const desiredUnclampedTime = getMediaTime({\n    frame,\n    playbackRate: localPlaybackRate,\n    startFrom: -mediaStartsAt,\n    fps\n  });\n  const isMediaTagBuffering = useMediaBuffering({\n    element: mediaRef,\n    shouldBuffer: pauseWhenBuffering,\n    isPremounting\n  });\n  const { bufferUntilFirstFrame, isBuffering } = useBufferUntilFirstFrame({\n    mediaRef,\n    mediaType,\n    onVariableFpsVideoDetected,\n    pauseWhenBuffering\n  });\n  const playbackRate = localPlaybackRate * globalPlaybackRate;\n  const acceptableTimeShiftButLessThanDuration = (() => {\n    if (mediaRef.current?.duration) {\n      return Math.min(mediaRef.current.duration, acceptableTimeshift ?? DEFAULT_ACCEPTABLE_TIMESHIFT);\n    }\n    return acceptableTimeshift;\n  })();\n  useEffect12(() => {\n    if (!playing) {\n      mediaRef.current?.pause();\n      return;\n    }\n    const isPlayerBuffering = buffering3.buffering.current;\n    const isMediaTagBufferingOrStalled = isMediaTagBuffering || isBuffering();\n    if (isPlayerBuffering && !isMediaTagBufferingOrStalled) {\n      mediaRef.current?.pause();\n    }\n  }, [\n    buffering3.buffering,\n    isBuffering,\n    isMediaTagBuffering,\n    mediaRef,\n    playing\n  ]);\n  useEffect12(() => {\n    const tagName = mediaType === \"audio\" ? \"<Audio>\" : \"<Video>\";\n    if (!mediaRef.current) {\n      throw new Error(`No ${mediaType} ref found`);\n    }\n    if (!src) {\n      throw new Error(`No 'src' attribute was passed to the ${tagName} element.`);\n    }\n    const playbackRateToSet = Math.max(0, playbackRate);\n    if (mediaRef.current.playbackRate !== playbackRateToSet) {\n      mediaRef.current.playbackRate = playbackRateToSet;\n    }\n    const { duration } = mediaRef.current;\n    const shouldBeTime = !Number.isNaN(duration) && Number.isFinite(duration) ? Math.min(duration, desiredUnclampedTime) : desiredUnclampedTime;\n    const mediaTagTime = mediaRef.current.currentTime;\n    const rvcTime = currentTime.current ?? null;\n    const isVariableFpsVideo = isVariableFpsVideoMap.current[src];\n    const timeShiftMediaTag = Math.abs(shouldBeTime - mediaTagTime);\n    const timeShiftRvcTag = rvcTime ? Math.abs(shouldBeTime - rvcTime) : null;\n    const timeShift = timeShiftRvcTag && !isVariableFpsVideo ? timeShiftRvcTag : timeShiftMediaTag;\n    if (debugSeeking) {\n      console.log({\n        mediaTagTime,\n        rvcTime,\n        shouldBeTime,\n        state: mediaRef.current.readyState,\n        playing: !mediaRef.current.paused,\n        isVariableFpsVideo\n      });\n    }\n    if (timeShift > acceptableTimeShiftButLessThanDuration && lastSeekDueToShift.current !== shouldBeTime) {\n      if (debugSeeking) {\n        console.log(\"Seeking\", {\n          shouldBeTime,\n          isTime: mediaTagTime,\n          rvcTime,\n          timeShift,\n          isVariableFpsVideo\n        });\n      }\n      seek(mediaRef, shouldBeTime);\n      lastSeek.current = shouldBeTime;\n      lastSeekDueToShift.current = shouldBeTime;\n      if (playing && !isVariableFpsVideo) {\n        if (playbackRate > 0) {\n          bufferUntilFirstFrame(shouldBeTime);\n        }\n        if (mediaRef.current.paused) {\n          playAndHandleNotAllowedError(mediaRef, mediaType, onAutoPlayError);\n        }\n      }\n      if (!onlyWarnForMediaSeekingError) {\n        warnAboutNonSeekableMedia(mediaRef.current, onlyWarnForMediaSeekingError ? \"console-warning\" : \"console-error\");\n      }\n      return;\n    }\n    const seekThreshold = playing ? 0.15 : 0.00001;\n    const makesSenseToSeek = Math.abs(mediaRef.current.currentTime - shouldBeTime) > seekThreshold;\n    const isMediaTagBufferingOrStalled = isMediaTagBuffering || isBuffering();\n    const isSomethingElseBuffering = buffering3.buffering.current && !isMediaTagBufferingOrStalled;\n    if (!playing || isSomethingElseBuffering) {\n      if (makesSenseToSeek) {\n        seek(mediaRef, shouldBeTime);\n        lastSeek.current = shouldBeTime;\n      }\n      return;\n    }\n    if (mediaRef.current.paused && !mediaRef.current.ended || absoluteFrame === 0) {\n      if (makesSenseToSeek) {\n        seek(mediaRef, shouldBeTime);\n        lastSeek.current = shouldBeTime;\n      }\n      playAndHandleNotAllowedError(mediaRef, mediaType, onAutoPlayError);\n      if (!isVariableFpsVideo) {\n        if (playbackRate > 0) {\n          bufferUntilFirstFrame(shouldBeTime);\n        }\n      }\n    }\n  }, [\n    absoluteFrame,\n    acceptableTimeShiftButLessThanDuration,\n    bufferUntilFirstFrame,\n    buffering3.buffering,\n    currentTime,\n    debugSeeking,\n    desiredUnclampedTime,\n    isBuffering,\n    isMediaTagBuffering,\n    mediaRef,\n    mediaType,\n    onlyWarnForMediaSeekingError,\n    playbackRate,\n    playing,\n    src,\n    onAutoPlayError\n  ]);\n};\n\n// src/use-media-tag-volume.ts\nimport {useEffect as useEffect13, useState as useState12} from \"react\";\nvar useMediaTagVolume = (mediaRef) => {\n  const [actualVolume, setActualVolume] = useState12(1);\n  useEffect13(() => {\n    const ref = mediaRef.current;\n    if (!ref) {\n      return;\n    }\n    const onChange = () => {\n      setActualVolume(ref.volume);\n    };\n    ref.addEventListener(\"volumechange\", onChange);\n    return () => ref.removeEventListener(\"volumechange\", onChange);\n  }, [mediaRef]);\n  useEffect13(() => {\n    const ref = mediaRef.current;\n    if (!ref) {\n      return;\n    }\n    if (ref.volume !== actualVolume) {\n      setActualVolume(ref.volume);\n    }\n  }, [actualVolume, mediaRef]);\n  return actualVolume;\n};\n\n// src/use-sync-volume-with-media-tag.ts\nimport {useEffect as useEffect14} from \"react\";\n\n// src/is-approximately-the-same.ts\nvar FLOATING_POINT_ERROR_THRESHOLD = 0.00001;\nvar isApproximatelyTheSame = (num1, num2) => {\n  return Math.abs(num1 - num2) < FLOATING_POINT_ERROR_THRESHOLD;\n};\n\n// src/use-sync-volume-with-media-tag.ts\nvar useSyncVolumeWithMediaTag = ({\n  volumePropFrame,\n  actualVolume,\n  volume,\n  mediaVolume,\n  mediaRef\n}) => {\n  useEffect14(() => {\n    const userPreferredVolume = evaluateVolume({\n      frame: volumePropFrame,\n      volume,\n      mediaVolume,\n      allowAmplificationDuringRender: false\n    });\n    if (!isApproximatelyTheSame(userPreferredVolume, actualVolume) && mediaRef.current) {\n      mediaRef.current.volume = userPreferredVolume;\n    }\n  }, [actualVolume, volumePropFrame, mediaRef, volume, mediaVolume]);\n};\n\n// src/volume-position-state.ts\nimport {createContext as createContext15, useContext as useContext19, useMemo as useMemo18} from \"react\";\nvar MediaVolumeContext = createContext15({\n  mediaMuted: false,\n  mediaVolume: 1\n});\nvar SetMediaVolumeContext = createContext15({\n  setMediaMuted: () => {\n    throw new Error(\"default\");\n  },\n  setMediaVolume: () => {\n    throw new Error(\"default\");\n  }\n});\nvar useMediaVolumeState = () => {\n  const { mediaVolume } = useContext19(MediaVolumeContext);\n  const { setMediaVolume } = useContext19(SetMediaVolumeContext);\n  return useMemo18(() => {\n    return [mediaVolume, setMediaVolume];\n  }, [mediaVolume, setMediaVolume]);\n};\nvar useMediaMutedState = () => {\n  const { mediaMuted } = useContext19(MediaVolumeContext);\n  const { setMediaMuted } = useContext19(SetMediaVolumeContext);\n  return useMemo18(() => {\n    return [mediaMuted, setMediaMuted];\n  }, [mediaMuted, setMediaMuted]);\n};\n\n// src/audio/shared-audio-tags.tsx\nimport React12, {\ncreateContext as createContext16,\ncreateRef as createRef2,\nuseCallback as useCallback8,\nuseContext as useContext20,\nuseEffect as useEffect15,\nuseMemo as useMemo19,\nuseRef as useRef7,\nuseState as useState13\n} from \"react\";\nimport {\njsx as jsx15,\njsxs\n} from \"react/jsx-runtime\";\nvar EMPTY_AUDIO = \"data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\";\nvar compareProps = (obj1, obj2) => {\n  const keysA = Object.keys(obj1).sort();\n  const keysB = Object.keys(obj2).sort();\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n  for (let i = 0;i < keysA.length; i++) {\n    if (keysA[i] !== keysB[i]) {\n      return false;\n    }\n    if (obj1[keysA[i]] !== obj2[keysB[i]]) {\n      return false;\n    }\n  }\n  return true;\n};\nvar didPropChange = (key, newProp, prevProp) => {\n  if (key === \"src\" && !prevProp.startsWith(\"data:\") && !newProp.startsWith(\"data:\")) {\n    return new URL(prevProp, window.origin).toString() !== new URL(newProp, window.origin).toString();\n  }\n  if (prevProp === newProp) {\n    return false;\n  }\n  return true;\n};\nvar SharedAudioContext = createContext16(null);\nvar SharedAudioContextProvider = ({ children, numberOfAudioTags, component }) => {\n  const audios = useRef7([]);\n  const [initialNumberOfAudioTags] = useState13(numberOfAudioTags);\n  if (numberOfAudioTags !== initialNumberOfAudioTags) {\n    throw new Error(\"The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.\");\n  }\n  const refs = useMemo19(() => {\n    return new Array(numberOfAudioTags).fill(true).map(() => {\n      return { id: Math.random(), ref: createRef2() };\n    });\n  }, [numberOfAudioTags]);\n  const takenAudios = useRef7(new Array(numberOfAudioTags).fill(false));\n  const rerenderAudios = useCallback8(() => {\n    refs.forEach(({ ref, id }) => {\n      const data = audios.current?.find((a) => a.id === id);\n      const { current } = ref;\n      if (!current) {\n        return;\n      }\n      if (data === undefined) {\n        current.src = EMPTY_AUDIO;\n        return;\n      }\n      if (!data) {\n        throw new TypeError(\"Expected audio data to be there\");\n      }\n      Object.keys(data.props).forEach((key) => {\n        if (didPropChange(key, data.props[key], current[key])) {\n          current[key] = data.props[key];\n        }\n      });\n    });\n  }, [refs]);\n  const registerAudio = useCallback8((aud, audioId) => {\n    const found = audios.current?.find((a) => a.audioId === audioId);\n    if (found) {\n      return found;\n    }\n    const firstFreeAudio = takenAudios.current.findIndex((a) => a === false);\n    if (firstFreeAudio === -1) {\n      throw new Error(`Tried to simultaneously mount ${numberOfAudioTags + 1} <Audio /> tags at the same time. With the current settings, the maximum amount of <Audio /> tags is limited to ${numberOfAudioTags} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#use-the-numberofsharedaudiotags-property for more information on how to increase this limit.`);\n    }\n    const { id, ref } = refs[firstFreeAudio];\n    const cloned = [...takenAudios.current];\n    cloned[firstFreeAudio] = id;\n    takenAudios.current = cloned;\n    const newElem = {\n      props: aud,\n      id,\n      el: ref,\n      audioId\n    };\n    audios.current?.push(newElem);\n    rerenderAudios();\n    return newElem;\n  }, [numberOfAudioTags, refs, rerenderAudios]);\n  const unregisterAudio = useCallback8((id) => {\n    const cloned = [...takenAudios.current];\n    const index = refs.findIndex((r) => r.id === id);\n    if (index === -1) {\n      throw new TypeError(\"Error occured in \");\n    }\n    cloned[index] = false;\n    takenAudios.current = cloned;\n    audios.current = audios.current?.filter((a) => a.id !== id);\n    rerenderAudios();\n  }, [refs, rerenderAudios]);\n  const updateAudio = useCallback8(({\n    aud,\n    audioId,\n    id\n  }) => {\n    let changed = false;\n    audios.current = audios.current?.map((prevA) => {\n      if (prevA.id === id) {\n        const isTheSame = compareProps(aud, prevA.props);\n        if (isTheSame) {\n          return prevA;\n        }\n        changed = true;\n        return {\n          ...prevA,\n          props: aud,\n          audioId\n        };\n      }\n      return prevA;\n    });\n    if (changed) {\n      rerenderAudios();\n    }\n  }, [rerenderAudios]);\n  const playAllAudios = useCallback8(() => {\n    refs.forEach((ref) => {\n      playAndHandleNotAllowedError(ref.ref, \"audio\", null);\n    });\n  }, [refs]);\n  const value = useMemo19(() => {\n    return {\n      registerAudio,\n      unregisterAudio,\n      updateAudio,\n      playAllAudios,\n      numberOfAudioTags\n    };\n  }, [\n    numberOfAudioTags,\n    playAllAudios,\n    registerAudio,\n    unregisterAudio,\n    updateAudio\n  ]);\n  const resetAudio = useCallback8(() => {\n    takenAudios.current = new Array(numberOfAudioTags).fill(false);\n    audios.current = [];\n    rerenderAudios();\n  }, [numberOfAudioTags, rerenderAudios]);\n  useEffect15(() => {\n    return () => {\n      resetAudio();\n    };\n  }, [component, resetAudio]);\n  return /* @__PURE__ */ jsxs(SharedAudioContext.Provider, {\n    value,\n    children: [\n      refs.map(({ id, ref }) => {\n        return /* @__PURE__ */ jsx15(\"audio\", {\n          ref,\n          preload: \"metadata\",\n          src: EMPTY_AUDIO\n        }, id);\n      }),\n      children\n    ]\n  });\n};\nvar useSharedAudio = (aud, audioId) => {\n  const ctx = useContext20(SharedAudioContext);\n  const [elem] = useState13(() => {\n    if (ctx && ctx.numberOfAudioTags > 0) {\n      return ctx.registerAudio(aud, audioId);\n    }\n    return {\n      el: React12.createRef(),\n      id: Math.random(),\n      props: aud,\n      audioId\n    };\n  });\n  const effectToUse = React12.useInsertionEffect ?? React12.useLayoutEffect;\n  if (typeof document !== \"undefined\") {\n    effectToUse(() => {\n      if (ctx && ctx.numberOfAudioTags > 0) {\n        ctx.updateAudio({ id: elem.id, aud, audioId });\n      }\n    }, [aud, ctx, elem.id, audioId]);\n    effectToUse(() => {\n      return () => {\n        if (ctx && ctx.numberOfAudioTags > 0) {\n          ctx.unregisterAudio(elem.id);\n        }\n      };\n    }, [ctx, elem.id]);\n  }\n  return elem;\n};\n\n// src/audio/AudioForPreview.tsx\nimport {\njsx as jsx16\n} from \"react/jsx-runtime\";\nvar AudioForDevelopmentForwardRefFunction = (props, ref) => {\n  const [initialShouldPreMountAudioElements] = useState14(props.shouldPreMountAudioTags);\n  if (props.shouldPreMountAudioTags !== initialShouldPreMountAudioElements) {\n    throw new Error(\"Cannot change the behavior for pre-mounting audio tags dynamically.\");\n  }\n  const {\n    volume,\n    muted,\n    playbackRate,\n    shouldPreMountAudioTags,\n    src,\n    onDuration,\n    acceptableTimeShiftInSeconds,\n    _remotionInternalNeedsDurationCalculation,\n    _remotionInternalNativeLoopPassed,\n    _remotionInternalStack,\n    _remotionDebugSeeking,\n    allowAmplificationDuringRender,\n    name,\n    pauseWhenBuffering,\n    showInTimeline,\n    loopVolumeCurveBehavior,\n    stack,\n    ...nativeProps\n  } = props;\n  const [mediaVolume] = useMediaVolumeState();\n  const [mediaMuted] = useMediaMutedState();\n  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const { hidden } = useContext21(SequenceVisibilityToggleContext);\n  if (!src) {\n    throw new TypeError(\"No 'src' was passed to <Audio>.\");\n  }\n  const preloadedSrc = usePreload(src);\n  const sequenceContext = useContext21(SequenceContext);\n  const [timelineId] = useState14(() => String(Math.random()));\n  const isSequenceHidden = hidden[timelineId] ?? false;\n  const userPreferredVolume = evaluateVolume({\n    frame: volumePropFrame,\n    volume,\n    mediaVolume,\n    allowAmplificationDuringRender: false\n  });\n  const propsToPass = useMemo20(() => {\n    return {\n      muted: muted || mediaMuted || isSequenceHidden || userPreferredVolume <= 0,\n      src: preloadedSrc,\n      loop: _remotionInternalNativeLoopPassed,\n      ...nativeProps\n    };\n  }, [\n    _remotionInternalNativeLoopPassed,\n    isSequenceHidden,\n    mediaMuted,\n    muted,\n    nativeProps,\n    preloadedSrc,\n    userPreferredVolume\n  ]);\n  const id = useMemo20(() => `audio-${random(src ?? \"\")}-${sequenceContext?.relativeFrom}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.durationInFrames}-muted:${props.muted}-loop:${props.loop}`, [\n    src,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.durationInFrames,\n    props.muted,\n    props.loop\n  ]);\n  const audioRef = useSharedAudio(propsToPass, id).el;\n  const actualVolume = useMediaTagVolume(audioRef);\n  useSyncVolumeWithMediaTag({\n    volumePropFrame,\n    actualVolume,\n    volume,\n    mediaVolume,\n    mediaRef: audioRef\n  });\n  useMediaInTimeline({\n    volume,\n    mediaVolume,\n    mediaRef: audioRef,\n    src,\n    mediaType: \"audio\",\n    playbackRate: playbackRate ?? 1,\n    displayName: name ?? null,\n    id: timelineId,\n    stack: _remotionInternalStack,\n    showInTimeline,\n    premountDisplay: null,\n    onAutoPlayError: null\n  });\n  useMediaPlayback({\n    mediaRef: audioRef,\n    src,\n    mediaType: \"audio\",\n    playbackRate: playbackRate ?? 1,\n    onlyWarnForMediaSeekingError: false,\n    acceptableTimeshift: acceptableTimeShiftInSeconds ?? DEFAULT_ACCEPTABLE_TIMESHIFT,\n    isPremounting: Boolean(sequenceContext?.premounting),\n    pauseWhenBuffering,\n    debugSeeking: _remotionDebugSeeking,\n    onAutoPlayError: null\n  });\n  useImperativeHandle3(ref, () => {\n    return audioRef.current;\n  }, [audioRef]);\n  const currentOnDurationCallback = useRef8();\n  currentOnDurationCallback.current = onDuration;\n  useEffect16(() => {\n    const { current } = audioRef;\n    if (!current) {\n      return;\n    }\n    if (current.duration) {\n      currentOnDurationCallback.current?.(current.src, current.duration);\n      return;\n    }\n    const onLoadedMetadata = () => {\n      currentOnDurationCallback.current?.(current.src, current.duration);\n    };\n    current.addEventListener(\"loadedmetadata\", onLoadedMetadata);\n    return () => {\n      current.removeEventListener(\"loadedmetadata\", onLoadedMetadata);\n    };\n  }, [audioRef, src]);\n  if (initialShouldPreMountAudioElements) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx16(\"audio\", {\n    ref: audioRef,\n    preload: \"metadata\",\n    ...propsToPass\n  });\n};\nvar AudioForPreview = forwardRef3(AudioForDevelopmentForwardRefFunction);\n\n// src/audio/AudioForRendering.tsx\nimport {\nforwardRef as forwardRef4,\nuseContext as useContext22,\nuseEffect as useEffect17,\nuseImperativeHandle as useImperativeHandle4,\nuseLayoutEffect as useLayoutEffect3,\nuseMemo as useMemo21,\nuseRef as useRef9\n} from \"react\";\n\n// src/delay-render.ts\nif (typeof window !== \"undefined\") {\n  window.remotion_renderReady = false;\n}\nvar handles = [];\nif (typeof window !== \"undefined\") {\n  window.remotion_delayRenderTimeouts = {};\n}\nvar DELAY_RENDER_CALLSTACK_TOKEN = \"The delayRender was called:\";\nvar DELAY_RENDER_RETRIES_LEFT = \"Retries left: \";\nvar DELAY_RENDER_RETRY_TOKEN = \"- Rendering the frame will be retried.\";\nvar defaultTimeout = 30000;\nvar delayRender = (label, options) => {\n  if (typeof label !== \"string\" && typeof label !== \"undefined\") {\n    throw new Error(\"The label parameter of delayRender() must be a string or undefined, got: \" + JSON.stringify(label));\n  }\n  const handle = Math.random();\n  handles.push(handle);\n  const called = Error().stack?.replace(/^Error/g, \"\") ?? \"\";\n  if (getRemotionEnvironment().isRendering) {\n    const timeoutToUse = (options?.timeoutInMilliseconds ?? (typeof window === \"undefined\" ? defaultTimeout : window.remotion_puppeteerTimeout ?? defaultTimeout)) - 2000;\n    if (typeof window !== \"undefined\") {\n      const retriesLeft = (options?.retries ?? 0) - (window.remotion_attempt - 1);\n      window.remotion_delayRenderTimeouts[handle] = {\n        label: label ?? null,\n        timeout: setTimeout(() => {\n          const message = [\n            `A delayRender()`,\n            label ? `\"${label}\"` : null,\n            `was called but not cleared after ${timeoutToUse}ms. See https://remotion.dev/docs/timeout for help.`,\n            retriesLeft > 0 ? DELAY_RENDER_RETRIES_LEFT + retriesLeft : null,\n            retriesLeft > 0 ? DELAY_RENDER_RETRY_TOKEN : null,\n            DELAY_RENDER_CALLSTACK_TOKEN,\n            called\n          ].filter(truthy).join(\" \");\n          cancelRender(Error(message));\n        }, timeoutToUse)\n      };\n    }\n  }\n  if (typeof window !== \"undefined\") {\n    window.remotion_renderReady = false;\n  }\n  return handle;\n};\nvar continueRender = (handle) => {\n  if (typeof handle === \"undefined\") {\n    throw new TypeError(\"The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.\");\n  }\n  if (typeof handle !== \"number\") {\n    throw new TypeError(\"The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: \" + JSON.stringify(handle));\n  }\n  handles = handles.filter((h) => {\n    if (h === handle) {\n      if (getRemotionEnvironment().isRendering) {\n        clearTimeout(window.remotion_delayRenderTimeouts[handle].timeout);\n        delete window.remotion_delayRenderTimeouts[handle];\n      }\n      return false;\n    }\n    return true;\n  });\n  if (handles.length === 0 && typeof window !== \"undefined\") {\n    window.remotion_renderReady = true;\n  }\n};\n\n// src/audio/AudioForRendering.tsx\nimport {\njsx as jsx17\n} from \"react/jsx-runtime\";\nvar AudioForRenderingRefForwardingFunction = (props, ref) => {\n  const audioRef = useRef9(null);\n  const {\n    volume: volumeProp,\n    playbackRate,\n    allowAmplificationDuringRender,\n    onDuration,\n    toneFrequency,\n    _remotionInternalNeedsDurationCalculation,\n    _remotionInternalNativeLoopPassed,\n    acceptableTimeShiftInSeconds,\n    name,\n    onError,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    loopVolumeCurveBehavior,\n    pauseWhenBuffering,\n    ...nativeProps\n  } = props;\n  const absoluteFrame = useTimelinePosition();\n  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const frame = useCurrentFrame();\n  const sequenceContext = useContext22(SequenceContext);\n  const { registerRenderAsset, unregisterRenderAsset } = useContext22(RenderAssetManager);\n  const id = useMemo21(() => `audio-${random(props.src ?? \"\")}-${sequenceContext?.relativeFrom}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.durationInFrames}`, [\n    props.src,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.durationInFrames\n  ]);\n  const volume = evaluateVolume({\n    volume: volumeProp,\n    frame: volumePropFrame,\n    mediaVolume: 1,\n    allowAmplificationDuringRender: allowAmplificationDuringRender ?? false\n  });\n  useImperativeHandle4(ref, () => {\n    return audioRef.current;\n  }, []);\n  useEffect17(() => {\n    if (!props.src) {\n      throw new Error(\"No src passed\");\n    }\n    if (!window.remotion_audioEnabled) {\n      return;\n    }\n    if (props.muted) {\n      return;\n    }\n    if (volume <= 0) {\n      return;\n    }\n    registerRenderAsset({\n      type: \"audio\",\n      src: getAbsoluteSrc(props.src),\n      id,\n      frame: absoluteFrame,\n      volume,\n      mediaFrame: frame,\n      playbackRate: props.playbackRate ?? 1,\n      allowAmplificationDuringRender: allowAmplificationDuringRender ?? false,\n      toneFrequency: toneFrequency ?? null,\n      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0))\n    });\n    return () => unregisterRenderAsset(id);\n  }, [\n    props.muted,\n    props.src,\n    registerRenderAsset,\n    absoluteFrame,\n    id,\n    unregisterRenderAsset,\n    volume,\n    volumePropFrame,\n    frame,\n    playbackRate,\n    props.playbackRate,\n    allowAmplificationDuringRender,\n    toneFrequency,\n    sequenceContext?.relativeFrom\n  ]);\n  const { src } = props;\n  const needsToRenderAudioTag = ref || _remotionInternalNeedsDurationCalculation;\n  useLayoutEffect3(() => {\n    if (window.process?.env?.NODE_ENV === \"test\") {\n      return;\n    }\n    if (!needsToRenderAudioTag) {\n      return;\n    }\n    const newHandle = delayRender(\"Loading <Audio> duration with src=\" + src, {\n      retries: delayRenderRetries ?? undefined,\n      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n    });\n    const { current } = audioRef;\n    const didLoad = () => {\n      if (current?.duration) {\n        onDuration(current.src, current.duration);\n      }\n      continueRender(newHandle);\n    };\n    if (current?.duration) {\n      onDuration(current.src, current.duration);\n      continueRender(newHandle);\n    } else {\n      current?.addEventListener(\"loadedmetadata\", didLoad, { once: true });\n    }\n    return () => {\n      current?.removeEventListener(\"loadedmetadata\", didLoad);\n      continueRender(newHandle);\n    };\n  }, [\n    src,\n    onDuration,\n    needsToRenderAudioTag,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds\n  ]);\n  if (!needsToRenderAudioTag) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx17(\"audio\", {\n    ref: audioRef,\n    ...nativeProps\n  });\n};\nvar AudioForRendering = forwardRef4(AudioForRenderingRefForwardingFunction);\n\n// src/audio/Audio.tsx\nimport {\njsx as jsx18\n} from \"react/jsx-runtime\";\nvar AudioRefForwardingFunction = (props, ref) => {\n  const audioContext = useContext23(SharedAudioContext);\n  const {\n    startFrom,\n    endAt,\n    name,\n    stack,\n    pauseWhenBuffering,\n    showInTimeline,\n    _remotionDebugSeeking,\n    ...otherProps\n  } = props;\n  const { loop: loop3, ...propsOtherThanLoop } = props;\n  const { fps } = useVideoConfig();\n  const environment = getRemotionEnvironment();\n  const { durations, setDurations } = useContext23(DurationsContext);\n  if (typeof props.src !== \"string\") {\n    throw new TypeError(`The \\`<Audio>\\` tag requires a string for \\`src\\`, but got ${JSON.stringify(props.src)} instead.`);\n  }\n  const preloadedSrc = usePreload(props.src);\n  const onError = useCallback9((e) => {\n    console.log(e.currentTarget.error);\n    const errMessage = `Could not play audio with src ${preloadedSrc}: ${e.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;\n    if (loop3) {\n      cancelRender(new Error(errMessage));\n    } else {\n      console.warn(errMessage);\n    }\n  }, [loop3, preloadedSrc]);\n  const onDuration = useCallback9((src, durationInSeconds) => {\n    setDurations({ type: \"got-duration\", durationInSeconds, src });\n  }, [setDurations]);\n  const durationFetched = durations[getAbsoluteSrc(preloadedSrc)] ?? durations[getAbsoluteSrc(props.src)];\n  if (loop3 && durationFetched !== undefined) {\n    const duration = durationFetched * fps;\n    return /* @__PURE__ */ jsx18(Loop, {\n      layout: \"none\",\n      durationInFrames: calculateLoopDuration({\n        endAt,\n        mediaDuration: duration,\n        playbackRate: props.playbackRate ?? 1,\n        startFrom\n      }),\n      children: /* @__PURE__ */ jsx18(Audio, {\n        ...propsOtherThanLoop,\n        ref,\n        _remotionInternalNativeLoopPassed: true\n      })\n    });\n  }\n  if (typeof startFrom !== \"undefined\" || typeof endAt !== \"undefined\") {\n    validateStartFromProps(startFrom, endAt);\n    const startFromFrameNo = startFrom ?? 0;\n    const endAtFrameNo = endAt ?? Infinity;\n    return /* @__PURE__ */ jsx18(Sequence, {\n      layout: \"none\",\n      from: 0 - startFromFrameNo,\n      showInTimeline: false,\n      durationInFrames: endAtFrameNo,\n      name,\n      children: /* @__PURE__ */ jsx18(Audio, {\n        _remotionInternalNeedsDurationCalculation: Boolean(loop3),\n        pauseWhenBuffering: pauseWhenBuffering ?? false,\n        ...otherProps,\n        ref\n      })\n    });\n  }\n  validateMediaProps(props, \"Audio\");\n  if (environment.isRendering) {\n    return /* @__PURE__ */ jsx18(AudioForRendering, {\n      onDuration,\n      ...props,\n      ref,\n      onError,\n      _remotionInternalNeedsDurationCalculation: Boolean(loop3)\n    });\n  }\n  return /* @__PURE__ */ jsx18(AudioForPreview, {\n    _remotionInternalNativeLoopPassed: props._remotionInternalNativeLoopPassed ?? false,\n    _remotionDebugSeeking: _remotionDebugSeeking ?? false,\n    _remotionInternalStack: stack ?? null,\n    shouldPreMountAudioTags: audioContext !== null && audioContext.numberOfAudioTags > 0,\n    ...props,\n    ref,\n    onError,\n    onDuration,\n    pauseWhenBuffering: pauseWhenBuffering ?? false,\n    _remotionInternalNeedsDurationCalculation: Boolean(loop3),\n    showInTimeline: showInTimeline ?? true\n  });\n};\nvar Audio = forwardRef5(AudioRefForwardingFunction);\naddSequenceStackTraces(Audio);\n// src/Composition.tsx\nimport {Suspense, useContext as useContext25, useEffect as useEffect19, useMemo as useMemo24} from \"react\";\nimport {createPortal} from \"react-dom\";\n\n// src/Folder.tsx\nimport {createContext as createContext17, useContext as useContext24, useEffect as useEffect18, useMemo as useMemo22} from \"react\";\n\n// src/validation/validate-folder-name.ts\nvar getRegex = () => /^([a-zA-Z0-9-\\u4E00-\\u9FFF])+$/g;\nvar isFolderNameValid = (name) => name.match(getRegex());\nvar validateFolderName = (name) => {\n  if (name === undefined || name === null) {\n    throw new TypeError(\"You must pass a name to a <Folder />.\");\n  }\n  if (typeof name !== \"string\") {\n    throw new TypeError(`The \"name\" you pass into <Folder /> must be a string. Got: ${typeof name}`);\n  }\n  if (!isFolderNameValid(name)) {\n    throw new Error(`Folder name can only contain a-z, A-Z, 0-9 and -. You passed ${name}`);\n  }\n};\nvar invalidFolderNameErrorMessage = `Folder name must match ${String(getRegex())}`;\n\n// src/Folder.tsx\nimport {\njsx as jsx19\n} from \"react/jsx-runtime\";\nvar FolderContext = createContext17({\n  folderName: null,\n  parentName: null\n});\nvar Folder = ({\n  name,\n  children\n}) => {\n  const parent = useContext24(FolderContext);\n  const { registerFolder, unregisterFolder } = useContext24(CompositionManager);\n  validateFolderName(name);\n  const parentNameArr = [parent.parentName, parent.folderName].filter(truthy);\n  const parentName = parentNameArr.length === 0 ? null : parentNameArr.join(\"/\");\n  const value = useMemo22(() => {\n    return {\n      folderName: name,\n      parentName\n    };\n  }, [name, parentName]);\n  useEffect18(() => {\n    registerFolder(name, parentName);\n    return () => {\n      unregisterFolder(name, parentName);\n    };\n  }, [name, parent.folderName, parentName, registerFolder, unregisterFolder]);\n  return /* @__PURE__ */ jsx19(FolderContext.Provider, {\n    value,\n    children\n  });\n};\n\n// src/loading-indicator.tsx\nimport {\njsx as jsx20,\njsxs as jsxs2\n} from \"react/jsx-runtime\";\nvar rotate = {\n  transform: `rotate(90deg)`\n};\nvar ICON_SIZE = 40;\nvar label = {\n  color: \"white\",\n  fontSize: 14,\n  fontFamily: \"sans-serif\"\n};\nvar container = {\n  justifyContent: \"center\",\n  alignItems: \"center\"\n};\nvar Loading = () => {\n  return /* @__PURE__ */ jsxs2(AbsoluteFill, {\n    style: container,\n    id: \"remotion-comp-loading\",\n    children: [\n      /* @__PURE__ */ jsx20(\"style\", {\n        type: \"text/css\",\n        children: `\n\t\t\t\t@keyframes anim {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t#remotion-comp-loading {\n\t\t\t\t\tanimation: anim 2s;\n\t\t\t\t\tanimation-fill-mode: forwards;\n\t\t\t\t}\n\t\t\t`\n      }),\n      /* @__PURE__ */ jsx20(\"svg\", {\n        width: ICON_SIZE,\n        height: ICON_SIZE,\n        viewBox: \"-100 -100 400 400\",\n        style: rotate,\n        children: /* @__PURE__ */ jsx20(\"path\", {\n          fill: \"#555\",\n          stroke: \"#555\",\n          strokeWidth: \"100\",\n          strokeLinejoin: \"round\",\n          d: \"M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z\"\n        })\n      }),\n      /* @__PURE__ */ jsxs2(\"p\", {\n        style: label,\n        children: [\n          \"Resolving \",\n          \"<Suspense>\",\n          \"...\"\n        ]\n      })\n    ]\n  });\n};\n\n// src/portal-node.ts\nvar _portalNode = null;\nvar portalNode = () => {\n  if (!_portalNode) {\n    if (typeof document === \"undefined\") {\n      throw new Error(\"Tried to call an API that only works in the browser from outside the browser\");\n    }\n    _portalNode = document.createElement(\"div\");\n    _portalNode.style.position = \"absolute\";\n    _portalNode.style.top = \"0px\";\n    _portalNode.style.left = \"0px\";\n    _portalNode.style.right = \"0px\";\n    _portalNode.style.bottom = \"0px\";\n    _portalNode.style.width = \"100%\";\n    _portalNode.style.height = \"100%\";\n    _portalNode.style.display = \"flex\";\n    _portalNode.style.flexDirection = \"column\";\n    const containerNode = document.createElement(\"div\");\n    containerNode.style.position = \"fixed\";\n    containerNode.style.top = -999999 + \"px\";\n    containerNode.appendChild(_portalNode);\n    document.body.appendChild(containerNode);\n  }\n  return _portalNode;\n};\n\n// src/use-lazy-component.ts\nimport React16, {useMemo as useMemo23} from \"react\";\nvar useLazyComponent = (compProps) => {\n  const lazy = useMemo23(() => {\n    if (\"lazyComponent\" in compProps && typeof compProps.lazyComponent !== \"undefined\") {\n      return React16.lazy(compProps.lazyComponent);\n    }\n    if (\"component\" in compProps) {\n      if (typeof document === \"undefined\") {\n        return compProps.component;\n      }\n      return React16.lazy(() => Promise.resolve({ default: compProps.component }));\n    }\n    throw new Error(\"You must pass either 'component' or 'lazyComponent'\");\n  }, [compProps.component, compProps.lazyComponent]);\n  return lazy;\n};\n\n// src/validation/validate-composition-id.ts\nvar getRegex2 = () => /^([a-zA-Z0-9-\\u4E00-\\u9FFF])+$/g;\nvar isCompositionIdValid = (id) => id.match(getRegex2());\nvar validateCompositionId = (id) => {\n  if (!isCompositionIdValid(id)) {\n    throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${id}`);\n  }\n};\nvar invalidCompositionErrorMessage = `Composition ID must match ${String(getRegex2())}`;\n\n// src/validation/validate-default-props.ts\nvar validateDefaultAndInputProps = (defaultProps, name, compositionId) => {\n  if (!defaultProps) {\n    return;\n  }\n  if (typeof defaultProps !== \"object\") {\n    throw new Error(`\"${name}\" must be an object, but you passed a value of type ${typeof defaultProps}`);\n  }\n  if (Array.isArray(defaultProps)) {\n    throw new Error(`\"${name}\" must be an object, an array was passed ${compositionId ? `for composition \"${compositionId}\"` : \"\"}`);\n  }\n};\n\n// src/Composition.tsx\nimport {\njsx as jsx21\n} from \"react/jsx-runtime\";\nvar ClipComposition = ({ children }) => {\n  const { clipRegion } = useContext25(NativeLayersContext);\n  const style = useMemo24(() => {\n    return {\n      display: \"flex\",\n      flexDirection: \"row\",\n      opacity: clipRegion === \"hide\" ? 0 : 1,\n      clipPath: clipRegion && clipRegion !== \"hide\" ? `polygon(${clipRegion.x}px ${clipRegion.y}px, ${clipRegion.x}px ${clipRegion.height + clipRegion.y}px, ${clipRegion.width + clipRegion.x}px ${clipRegion.height + clipRegion.y}px, ${clipRegion.width + clipRegion.x}px ${clipRegion.y}px)` : undefined\n    };\n  }, [clipRegion]);\n  return /* @__PURE__ */ jsx21(AbsoluteFill, {\n    style,\n    children\n  });\n};\nvar Fallback = () => {\n  useEffect19(() => {\n    const fallback = delayRender(\"Waiting for Root component to unsuspend\");\n    return () => continueRender(fallback);\n  }, []);\n  return null;\n};\nvar Composition = ({\n  width,\n  height,\n  fps,\n  durationInFrames,\n  id,\n  defaultProps,\n  schema,\n  ...compProps\n}) => {\n  const { registerComposition, unregisterComposition } = useContext25(CompositionManager);\n  const video = useVideo();\n  const lazy = useLazyComponent(compProps);\n  const nonce5 = useNonce();\n  const isPlayer = useIsPlayer();\n  const environment = getRemotionEnvironment();\n  const canUseComposition = useContext25(CanUseRemotionHooks);\n  if (canUseComposition) {\n    if (isPlayer) {\n      throw new Error(\"<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help.\");\n    }\n    throw new Error(\"<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.\");\n  }\n  const { folderName, parentName } = useContext25(FolderContext);\n  useEffect19(() => {\n    if (!id) {\n      throw new Error(\"No id for composition passed.\");\n    }\n    validateCompositionId(id);\n    validateDefaultAndInputProps(defaultProps, \"defaultProps\", id);\n    registerComposition({\n      durationInFrames: durationInFrames ?? undefined,\n      fps: fps ?? undefined,\n      height: height ?? undefined,\n      width: width ?? undefined,\n      id,\n      folderName,\n      component: lazy,\n      defaultProps: serializeThenDeserializeInStudio(defaultProps ?? {}),\n      nonce: nonce5,\n      parentFolderName: parentName,\n      schema: schema ?? null,\n      calculateMetadata: compProps.calculateMetadata ?? null\n    });\n    return () => {\n      unregisterComposition(id);\n    };\n  }, [\n    durationInFrames,\n    fps,\n    height,\n    lazy,\n    id,\n    folderName,\n    defaultProps,\n    registerComposition,\n    unregisterComposition,\n    width,\n    nonce5,\n    parentName,\n    schema,\n    compProps.calculateMetadata\n  ]);\n  const resolved = useResolvedVideoConfig(id);\n  if (environment.isStudio && video && video.component === lazy) {\n    const Comp = lazy;\n    if (resolved === null || resolved.type !== \"success\") {\n      return null;\n    }\n    return createPortal(/* @__PURE__ */ jsx21(ClipComposition, {\n      children: /* @__PURE__ */ jsx21(CanUseRemotionHooksProvider, {\n        children: /* @__PURE__ */ jsx21(Suspense, {\n          fallback: /* @__PURE__ */ jsx21(Loading, {}),\n          children: /* @__PURE__ */ jsx21(Comp, {\n            ...resolved.result.props ?? {}\n          })\n        })\n      })\n    }), portalNode());\n  }\n  if (environment.isRendering && video && video.component === lazy) {\n    const Comp = lazy;\n    if (resolved === null || resolved.type !== \"success\") {\n      return null;\n    }\n    return createPortal(/* @__PURE__ */ jsx21(CanUseRemotionHooksProvider, {\n      children: /* @__PURE__ */ jsx21(Suspense, {\n        fallback: /* @__PURE__ */ jsx21(Fallback, {}),\n        children: /* @__PURE__ */ jsx21(Comp, {\n          ...resolved.result.props ?? {}\n        })\n      })\n    }), portalNode());\n  }\n  return null;\n};\n// src/CompositionManager.tsx\nimport React18, {\nuseCallback as useCallback10,\nuseImperativeHandle as useImperativeHandle5,\nuseMemo as useMemo25,\nuseRef as useRef10,\nuseState as useState15\n} from \"react\";\nimport {\njsx as jsx22\n} from \"react/jsx-runtime\";\nvar compositionsRef = React18.createRef();\nvar CompositionManagerProvider = ({ children, numberOfAudioTags }) => {\n  const [compositions, setCompositions] = useState15([]);\n  const currentcompositionsRef = useRef10(compositions);\n  const [folders, setFolders] = useState15([]);\n  const [canvasContent, setCanvasContent] = useState15(null);\n  const [currentCompositionMetadata, setCurrentCompositionMetadata] = useState15(null);\n  const updateCompositions = useCallback10((updateComps) => {\n    setCompositions((comps) => {\n      const updated = updateComps(comps);\n      currentcompositionsRef.current = updated;\n      return updated;\n    });\n  }, []);\n  const registerComposition = useCallback10((comp) => {\n    updateCompositions((comps) => {\n      if (comps.find((c) => c.id === comp.id)) {\n        throw new Error(`Multiple composition with id ${comp.id} are registered.`);\n      }\n      const value = [...comps, comp].slice().sort((a, b) => a.nonce - b.nonce);\n      return value;\n    });\n  }, [updateCompositions]);\n  const unregisterComposition = useCallback10((id) => {\n    setCompositions((comps) => {\n      return comps.filter((c) => c.id !== id);\n    });\n  }, []);\n  const registerFolder = useCallback10((name, parent) => {\n    setFolders((prevFolders) => {\n      return [\n        ...prevFolders,\n        {\n          name,\n          parent\n        }\n      ];\n    });\n  }, []);\n  const unregisterFolder = useCallback10((name, parent) => {\n    setFolders((prevFolders) => {\n      return prevFolders.filter((p) => !(p.name === name && p.parent === parent));\n    });\n  }, []);\n  useImperativeHandle5(compositionsRef, () => {\n    return {\n      getCompositions: () => currentcompositionsRef.current\n    };\n  }, []);\n  const composition = compositions.find((c) => canvasContent?.type === \"composition\" ? c.id === canvasContent.compositionId : null);\n  const updateCompositionDefaultProps = useCallback10((id, newDefaultProps) => {\n    setCompositions((comps) => {\n      const updated = comps.map((c) => {\n        if (c.id === id) {\n          return {\n            ...c,\n            defaultProps: newDefaultProps\n          };\n        }\n        return c;\n      });\n      return updated;\n    });\n  }, []);\n  const contextValue = useMemo25(() => {\n    return {\n      compositions,\n      registerComposition,\n      unregisterComposition,\n      folders,\n      registerFolder,\n      unregisterFolder,\n      currentCompositionMetadata,\n      setCurrentCompositionMetadata,\n      canvasContent,\n      setCanvasContent,\n      updateCompositionDefaultProps\n    };\n  }, [\n    compositions,\n    registerComposition,\n    unregisterComposition,\n    folders,\n    registerFolder,\n    unregisterFolder,\n    currentCompositionMetadata,\n    canvasContent,\n    updateCompositionDefaultProps\n  ]);\n  return /* @__PURE__ */ jsx22(CompositionManager.Provider, {\n    value: contextValue,\n    children: /* @__PURE__ */ jsx22(SequenceManagerProvider, {\n      children: /* @__PURE__ */ jsx22(RenderAssetManagerProvider, {\n        children: /* @__PURE__ */ jsx22(ResolveCompositionConfig, {\n          children: /* @__PURE__ */ jsx22(SharedAudioContextProvider, {\n            numberOfAudioTags,\n            component: composition?.component ?? null,\n            children\n          })\n        })\n      })\n    })\n  });\n};\n// src/bezier.ts\nfunction a(aA1, aA2) {\n  return 1 - 3 * aA2 + 3 * aA1;\n}\nfunction b(aA1, aA2) {\n  return 3 * aA2 - 6 * aA1;\n}\nfunction c(aA1) {\n  return 3 * aA1;\n}\nfunction calcBezier(aT, aA1, aA2) {\n  return ((a(aA1, aA2) * aT + b(aA1, aA2)) * aT + c(aA1)) * aT;\n}\nfunction getSlope(aT, aA1, aA2) {\n  return 3 * a(aA1, aA2) * aT * aT + 2 * b(aA1, aA2) * aT + c(aA1);\n}\nfunction binarySubdivide({\n  aX,\n  _aA,\n  _aB,\n  mX1,\n  mX2\n}) {\n  let currentX;\n  let currentT;\n  let i = 0;\n  let aA = _aA;\n  let aB = _aB;\n  do {\n    currentT = aA + (aB - aA) / 2;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\nfunction newtonRaphsonIterate(aX, _aGuessT, mX1, mX2) {\n  let aGuessT = _aGuessT;\n  for (let i = 0;i < NEWTON_ITERATIONS; ++i) {\n    const currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0) {\n      return aGuessT;\n    }\n    const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\nfunction bezier(mX1, mY1, mX2, mY2) {\n  if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1)) {\n    throw new Error(\"bezier x values must be in [0, 1] range\");\n  }\n  const sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  if (mX1 !== mY1 || mX2 !== mY2) {\n    for (let i = 0;i < kSplineTableSize; ++i) {\n      sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n  }\n  function getTForX(aX) {\n    let intervalStart = 0;\n    let currentSample = 1;\n    const lastSample = kSplineTableSize - 1;\n    for (;currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    const dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    const guessForT = intervalStart + dist * kSampleStepSize;\n    const initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    }\n    if (initialSlope === 0) {\n      return guessForT;\n    }\n    return binarySubdivide({\n      aX,\n      _aA: intervalStart,\n      _aB: intervalStart + kSampleStepSize,\n      mX1,\n      mX2\n    });\n  }\n  return function(x) {\n    if (mX1 === mY1 && mX2 === mY2) {\n      return x;\n    }\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n}\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1 / (kSplineTableSize - 1);\nvar float32ArraySupported = typeof Float32Array === \"function\";\n\n// src/easing.ts\nclass Easing {\n  static step0(n) {\n    return n > 0 ? 1 : 0;\n  }\n  static step1(n) {\n    return n >= 1 ? 1 : 0;\n  }\n  static linear(t) {\n    return t;\n  }\n  static ease(t) {\n    return Easing.bezier(0.42, 0, 1, 1)(t);\n  }\n  static quad(t) {\n    return t * t;\n  }\n  static cubic(t) {\n    return t * t * t;\n  }\n  static poly(n) {\n    return (t) => t ** n;\n  }\n  static sin(t) {\n    return 1 - Math.cos(t * Math.PI / 2);\n  }\n  static circle(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n  static exp(t) {\n    return 2 ** (10 * (t - 1));\n  }\n  static elastic(bounciness = 1) {\n    const p = bounciness * Math.PI;\n    return (t) => 1 - Math.cos(t * Math.PI / 2) ** 3 * Math.cos(t * p);\n  }\n  static back(s = 1.70158) {\n    return (t) => t * t * ((s + 1) * t - s);\n  }\n  static bounce(t) {\n    if (t < 1 / 2.75) {\n      return 7.5625 * t * t;\n    }\n    if (t < 2 / 2.75) {\n      const t2_ = t - 1.5 / 2.75;\n      return 7.5625 * t2_ * t2_ + 0.75;\n    }\n    if (t < 2.5 / 2.75) {\n      const t2_ = t - 2.25 / 2.75;\n      return 7.5625 * t2_ * t2_ + 0.9375;\n    }\n    const t2 = t - 2.625 / 2.75;\n    return 7.5625 * t2 * t2 + 0.984375;\n  }\n  static bezier(x1, y1, x2, y2) {\n    return bezier(x1, y1, x2, y2);\n  }\n  static in(easing) {\n    return easing;\n  }\n  static out(easing) {\n    return (t) => 1 - easing(1 - t);\n  }\n  static inOut(easing) {\n    return (t) => {\n      if (t < 0.5) {\n        return easing(t * 2) / 2;\n      }\n      return 1 - easing((1 - t) * 2) / 2;\n    };\n  }\n}\n// src/v5-flag.ts\nvar ENABLE_V5_BREAKING_CHANGES = false;\n\n// src/get-static-files.ts\nvar warnedServer = false;\nvar warnedPlayer = false;\nvar warnServerOnce = () => {\n  if (warnedServer) {\n    return;\n  }\n  warnedServer = true;\n  console.warn(\"Called getStaticFiles() on the server. The API is only available in the browser. An empty array was returned.\");\n};\nvar warnPlayerOnce = () => {\n  if (warnedPlayer) {\n    return;\n  }\n  warnedPlayer = true;\n  console.warn(\"Called getStaticFiles() while using the Remotion Player. The API is only available while using the Remotion Studio. An empty array was returned.\");\n};\nvar getStaticFiles = () => {\n  if (ENABLE_V5_BREAKING_CHANGES) {\n    throw new Error(\"getStaticFiles() has moved into the `@remotion/studio` package. Update your imports.\");\n  }\n  if (typeof document === \"undefined\") {\n    warnServerOnce();\n    return [];\n  }\n  if (window.remotion_isPlayer) {\n    warnPlayerOnce();\n    return [];\n  }\n  return window.remotion_staticFiles;\n};\n// src/IFrame.tsx\nimport {forwardRef as forwardRef6, useCallback as useCallback11, useState as useState16} from \"react\";\nimport {\njsx as jsx23\n} from \"react/jsx-runtime\";\nvar IFrameRefForwarding = ({\n  onLoad,\n  onError,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  ...props2\n}, ref) => {\n  const [handle] = useState16(() => delayRender(`Loading <IFrame> with source ${props2.src}`, {\n    retries: delayRenderRetries ?? undefined,\n    timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n  }));\n  const didLoad = useCallback11((e) => {\n    continueRender(handle);\n    onLoad?.(e);\n  }, [handle, onLoad]);\n  const didGetError = useCallback11((e) => {\n    continueRender(handle);\n    if (onError) {\n      onError(e);\n    } else {\n      console.error(\"Error loading iframe:\", e, \"Handle the event using the onError() prop to make this message disappear.\");\n    }\n  }, [handle, onError]);\n  return /* @__PURE__ */ jsx23(\"iframe\", {\n    ...props2,\n    ref,\n    onError: didGetError,\n    onLoad: didLoad\n  });\n};\nvar IFrame = forwardRef6(IFrameRefForwarding);\n// src/Img.tsx\nimport {\nforwardRef as forwardRef7,\nuseCallback as useCallback12,\nuseContext as useContext26,\nuseImperativeHandle as useImperativeHandle6,\nuseLayoutEffect as useLayoutEffect4,\nuseRef as useRef11\n} from \"react\";\nfunction exponentialBackoff(errorCount) {\n  return 1000 * 2 ** (errorCount - 1);\n}\nimport {\njsx as jsx24\n} from \"react/jsx-runtime\";\nvar ImgRefForwarding = ({\n  onError,\n  maxRetries = 2,\n  src,\n  pauseWhenLoading,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  onImageFrame,\n  ...props2\n}, ref) => {\n  const imageRef = useRef11(null);\n  const errors = useRef11({});\n  const { delayPlayback } = useBufferState();\n  const sequenceContext = useContext26(SequenceContext);\n  if (!src) {\n    throw new Error('No \"src\" prop was passed to <Img>.');\n  }\n  useImperativeHandle6(ref, () => {\n    return imageRef.current;\n  }, []);\n  const actualSrc = usePreload(src);\n  const retryIn = useCallback12((timeout) => {\n    if (!imageRef.current) {\n      return;\n    }\n    const currentSrc = imageRef.current.src;\n    setTimeout(() => {\n      if (!imageRef.current) {\n        return;\n      }\n      const newSrc = imageRef.current?.src;\n      if (newSrc !== currentSrc) {\n        return;\n      }\n      imageRef.current.removeAttribute(\"src\");\n      imageRef.current.setAttribute(\"src\", newSrc);\n    }, timeout);\n  }, []);\n  const didGetError = useCallback12((e) => {\n    if (!errors.current) {\n      return;\n    }\n    errors.current[imageRef.current?.src] = (errors.current[imageRef.current?.src] ?? 0) + 1;\n    if (onError && (errors.current[imageRef.current?.src] ?? 0) > maxRetries) {\n      onError(e);\n      return;\n    }\n    if ((errors.current[imageRef.current?.src] ?? 0) <= maxRetries) {\n      const backoff = exponentialBackoff(errors.current[imageRef.current?.src] ?? 0);\n      console.warn(`Could not load image with source ${imageRef.current?.src}, retrying again in ${backoff}ms`);\n      retryIn(backoff);\n      return;\n    }\n    cancelRender(\"Error loading image with src: \" + imageRef.current?.src);\n  }, [maxRetries, onError, retryIn]);\n  if (typeof window !== \"undefined\") {\n    const isPremounting = Boolean(sequenceContext?.premounting);\n    useLayoutEffect4(() => {\n      if (window.process?.env?.NODE_ENV === \"test\") {\n        return;\n      }\n      const newHandle = delayRender(\"Loading <Img> with src=\" + actualSrc, {\n        retries: delayRenderRetries ?? undefined,\n        timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n      });\n      const unblock = pauseWhenLoading && !isPremounting ? delayPlayback().unblock : () => {\n        return;\n      };\n      const { current } = imageRef;\n      const onComplete = () => {\n        if ((errors.current[imageRef.current?.src] ?? 0) > 0) {\n          delete errors.current[imageRef.current?.src];\n          console.info(`Retry successful - ${imageRef.current?.src} is now loaded`);\n        }\n        if (current) {\n          onImageFrame?.(current);\n        }\n        unblock();\n        continueRender(newHandle);\n      };\n      const didLoad = () => {\n        onComplete();\n      };\n      if (current?.complete) {\n        onComplete();\n      } else {\n        current?.addEventListener(\"load\", didLoad, { once: true });\n      }\n      return () => {\n        current?.removeEventListener(\"load\", didLoad);\n        unblock();\n        continueRender(newHandle);\n      };\n    }, [\n      actualSrc,\n      delayPlayback,\n      delayRenderRetries,\n      delayRenderTimeoutInMilliseconds,\n      pauseWhenLoading,\n      isPremounting,\n      onImageFrame\n    ]);\n  }\n  return /* @__PURE__ */ jsx24(\"img\", {\n    ...props2,\n    ref: imageRef,\n    src: actualSrc,\n    onError: didGetError\n  });\n};\nvar Img = forwardRef7(ImgRefForwarding);\n// src/default-css.ts\nvar exports_default_css = {};\n__export(exports_default_css, {\n  makeDefaultPreviewCSS: () => makeDefaultPreviewCSS,\n  injectCSS: () => injectCSS,\n  OFFTHREAD_VIDEO_CLASS_NAME: () => OFFTHREAD_VIDEO_CLASS_NAME\n});\nvar injected = {};\nvar injectCSS = (css) => {\n  if (typeof document === \"undefined\") {\n    return;\n  }\n  if (injected[css]) {\n    return;\n  }\n  const head = document.head || document.getElementsByTagName(\"head\")[0];\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  head.prepend(style);\n  injected[css] = true;\n};\nvar OFFTHREAD_VIDEO_CLASS_NAME = \"__remotion_offthreadvideo\";\nvar makeDefaultPreviewCSS = (scope, backgroundColor) => {\n  if (!scope) {\n    return `\n    * {\n      box-sizing: border-box;\n    }\n    body {\n      margin: 0;\n\t    background-color: ${backgroundColor};\n    }\n    .${OFFTHREAD_VIDEO_CLASS_NAME} {\n      object-fit: contain;\n    }\n    `;\n  }\n  return `\n    ${scope} * {\n      box-sizing: border-box;\n    }\n    ${scope} *:-webkit-full-screen {\n      width: 100%;\n      height: 100%;\n    }\n    ${scope} .${OFFTHREAD_VIDEO_CLASS_NAME} {\n      object-fit: contain;\n    }\n  `;\n};\n\n// src/get-preview-dom-element.ts\nvar REMOTION_STUDIO_CONTAINER_ELEMENT = \"__remotion-studio-container\";\nvar getPreviewDomElement = () => {\n  return document.getElementById(REMOTION_STUDIO_CONTAINER_ELEMENT);\n};\n\n// src/register-root.ts\nvar Root = null;\nvar listeners = [];\nvar registerRoot = (comp) => {\n  if (!comp) {\n    throw new Error(`You must pass a React component to registerRoot(), but ${JSON.stringify(comp)} was passed.`);\n  }\n  if (Root) {\n    throw new Error(\"registerRoot() was called more than once.\");\n  }\n  Root = comp;\n  listeners.forEach((l) => {\n    l(comp);\n  });\n};\nvar getRoot = () => {\n  return Root;\n};\nvar waitForRoot = (fn) => {\n  if (Root) {\n    fn(Root);\n    return () => {\n      return;\n    };\n  }\n  listeners.push(fn);\n  return () => {\n    listeners = listeners.filter((l) => l !== fn);\n  };\n};\n\n// src/RemotionRoot.tsx\nimport {\nuseEffect as useEffect20,\nuseLayoutEffect as useLayoutEffect5,\nuseMemo as useMemo26,\nuseRef as useRef12,\nuseState as useState17\n} from \"react\";\nimport {\njsx as jsx25\n} from \"react/jsx-runtime\";\nvar RemotionRoot = ({ children, numberOfAudioTags }) => {\n  const [remotionRootId] = useState17(() => String(random(null)));\n  const [frame, setFrame] = useState17(() => getInitialFrameState());\n  const [playing, setPlaying] = useState17(false);\n  const imperativePlaying = useRef12(false);\n  const [fastRefreshes, setFastRefreshes] = useState17(0);\n  const [playbackRate, setPlaybackRate] = useState17(1);\n  const audioAndVideoTags = useRef12([]);\n  if (typeof window !== \"undefined\") {\n    useLayoutEffect5(() => {\n      window.remotion_setFrame = (f, composition, attempt) => {\n        window.remotion_attempt = attempt;\n        const id = delayRender(`Setting the current frame to ${f}`);\n        let asyncUpdate = true;\n        setFrame((s) => {\n          const currentFrame = s[composition] ?? window.remotion_initialFrame;\n          if (currentFrame === f) {\n            asyncUpdate = false;\n            return s;\n          }\n          return {\n            ...s,\n            [composition]: f\n          };\n        });\n        if (asyncUpdate) {\n          requestAnimationFrame(() => continueRender(id));\n        } else {\n          continueRender(id);\n        }\n      };\n      window.remotion_isPlayer = false;\n    }, []);\n  }\n  const timelineContextValue = useMemo26(() => {\n    return {\n      frame,\n      playing,\n      imperativePlaying,\n      rootId: remotionRootId,\n      playbackRate,\n      setPlaybackRate,\n      audioAndVideoTags\n    };\n  }, [frame, playbackRate, playing, remotionRootId]);\n  const setTimelineContextValue = useMemo26(() => {\n    return {\n      setFrame,\n      setPlaying\n    };\n  }, []);\n  const nonceContext = useMemo26(() => {\n    let counter = 0;\n    return {\n      getNonce: () => counter++,\n      fastRefreshes\n    };\n  }, [fastRefreshes]);\n  useEffect20(() => {\n    if (typeof __webpack_module__ !== \"undefined\") {\n      if (__webpack_module__.hot) {\n        __webpack_module__.hot.addStatusHandler((status) => {\n          if (status === \"idle\") {\n            setFastRefreshes((i) => i + 1);\n          }\n        });\n      }\n    }\n  }, []);\n  return /* @__PURE__ */ jsx25(NonceContext.Provider, {\n    value: nonceContext,\n    children: /* @__PURE__ */ jsx25(TimelineContext.Provider, {\n      value: timelineContextValue,\n      children: /* @__PURE__ */ jsx25(SetTimelineContext.Provider, {\n        value: setTimelineContextValue,\n        children: /* @__PURE__ */ jsx25(EditorPropsProvider, {\n          children: /* @__PURE__ */ jsx25(PrefetchProvider, {\n            children: /* @__PURE__ */ jsx25(NativeLayersProvider, {\n              children: /* @__PURE__ */ jsx25(CompositionManagerProvider, {\n                numberOfAudioTags,\n                children: /* @__PURE__ */ jsx25(DurationsContextProvider, {\n                  children: /* @__PURE__ */ jsx25(BufferingProvider, {\n                    children\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\n// src/setup-env-variables.ts\nvar getEnvVariables = () => {\n  if (getRemotionEnvironment().isRendering) {\n    const param = window.remotion_envVariables;\n    if (!param) {\n      return {};\n    }\n    return { ...JSON.parse(param), NODE_ENV: \"production\" };\n  }\n  if (false) {\n  }\n  return {\n    NODE_ENV: \"production\"\n  };\n};\nvar setupEnvVariables = () => {\n  const env = getEnvVariables();\n  if (!window.process) {\n    window.process = {};\n  }\n  if (!window.process.env) {\n    window.process.env = {};\n  }\n  Object.keys(env).forEach((key) => {\n    window.process.env[key] = env[key];\n  });\n};\n\n// src/use-current-scale.ts\nimport React22, {createContext as createContext18} from \"react\";\nvar CurrentScaleContext = React22.createContext(null);\nvar PreviewSizeContext = createContext18({\n  setSize: () => {\n    return;\n  },\n  size: { size: \"auto\", translation: { x: 0, y: 0 } }\n});\nvar calculateScale = ({\n  canvasSize,\n  compositionHeight,\n  compositionWidth,\n  previewSize\n}) => {\n  const heightRatio = canvasSize.height / compositionHeight;\n  const widthRatio = canvasSize.width / compositionWidth;\n  const ratio = Math.min(heightRatio, widthRatio);\n  return previewSize === \"auto\" ? ratio : Number(previewSize);\n};\nvar useCurrentScale = (options) => {\n  const hasContext = React22.useContext(CurrentScaleContext);\n  const zoomContext = React22.useContext(PreviewSizeContext);\n  const config = useUnsafeVideoConfig();\n  if (hasContext === null || config === null || zoomContext === null) {\n    if (options?.dontThrowIfOutsideOfRemotion) {\n      return 1;\n    }\n    if (getRemotionEnvironment().isRendering) {\n      return 1;\n    }\n    throw new Error([\n      \"useCurrentScale() was called outside of a Remotion context.\",\n      \"This hook can only be called in a component that is being rendered by Remotion.\",\n      \"If you want to this hook to return 1 outside of Remotion, pass {dontThrowIfOutsideOfRemotion: true} as an option.\",\n      \"If you think you called this hook in a Remotion component, make sure all versions of Remotion are aligned.\"\n    ].join(\"\\n\"));\n  }\n  if (hasContext.type === \"scale\") {\n    return hasContext.scale;\n  }\n  return calculateScale({\n    canvasSize: hasContext.canvasSize,\n    compositionHeight: config.height,\n    compositionWidth: config.width,\n    previewSize: zoomContext.size.size\n  });\n};\n\n// src/watch-static-file.ts\nvar WATCH_REMOTION_STATIC_FILES = \"remotion_staticFilesChanged\";\nvar watchStaticFile = (fileName, callback) => {\n  if (ENABLE_V5_BREAKING_CHANGES) {\n    throw new Error(\"watchStaticFile() has moved into the `@remotion/studio` package. Update your imports.\");\n  }\n  if (!getRemotionEnvironment().isStudio) {\n    console.warn(\"The API is only available while using the Remotion Studio.\");\n    return { cancel: () => {\n      return;\n    } };\n  }\n  const withoutStaticBase = fileName.startsWith(window.remotion_staticBase) ? fileName.replace(window.remotion_staticBase, \"\") : fileName;\n  const withoutLeadingSlash = withoutStaticBase.startsWith(\"/\") ? withoutStaticBase.slice(1) : withoutStaticBase;\n  let prevFileData = window.remotion_staticFiles.find((file) => file.name === withoutLeadingSlash);\n  const checkFile = (event) => {\n    const staticFiles = event.detail.files;\n    const newFileData = staticFiles.find((file) => file.name === withoutLeadingSlash);\n    if (!newFileData) {\n      if (prevFileData !== undefined) {\n        callback(null);\n      }\n      prevFileData = undefined;\n      return;\n    }\n    if (prevFileData === undefined || prevFileData.lastModified !== newFileData.lastModified) {\n      callback(newFileData);\n      prevFileData = newFileData;\n    }\n  };\n  window.addEventListener(WATCH_REMOTION_STATIC_FILES, checkFile);\n  const cancel = () => {\n    return window.removeEventListener(WATCH_REMOTION_STATIC_FILES, checkFile);\n  };\n  return { cancel };\n};\n\n// src/wrap-remotion-context.tsx\nimport React23, {useMemo as useMemo27} from \"react\";\nfunction useRemotionContexts() {\n  const compositionManagerCtx = React23.useContext(CompositionManager);\n  const timelineContext = React23.useContext(TimelineContext);\n  const setTimelineContext = React23.useContext(SetTimelineContext);\n  const sequenceContext = React23.useContext(SequenceContext);\n  const nonceContext = React23.useContext(NonceContext);\n  const canUseRemotionHooksContext = React23.useContext(CanUseRemotionHooks);\n  const nativeLayersContext = React23.useContext(NativeLayersContext);\n  const preloadContext = React23.useContext(PreloadContext);\n  const resolveCompositionContext = React23.useContext(ResolveCompositionContext);\n  const renderAssetManagerContext = React23.useContext(RenderAssetManager);\n  const sequenceManagerContext = React23.useContext(SequenceManager);\n  const bufferManagerContext = React23.useContext(BufferingContextReact);\n  return useMemo27(() => ({\n    compositionManagerCtx,\n    timelineContext,\n    setTimelineContext,\n    sequenceContext,\n    nonceContext,\n    canUseRemotionHooksContext,\n    nativeLayersContext,\n    preloadContext,\n    resolveCompositionContext,\n    renderAssetManagerContext,\n    sequenceManagerContext,\n    bufferManagerContext\n  }), [\n    compositionManagerCtx,\n    nonceContext,\n    sequenceContext,\n    setTimelineContext,\n    timelineContext,\n    canUseRemotionHooksContext,\n    nativeLayersContext,\n    preloadContext,\n    resolveCompositionContext,\n    renderAssetManagerContext,\n    sequenceManagerContext,\n    bufferManagerContext\n  ]);\n}\nimport {\njsx as jsx26\n} from \"react/jsx-runtime\";\nvar RemotionContextProvider = (props2) => {\n  const { children, contexts } = props2;\n  return /* @__PURE__ */ jsx26(CanUseRemotionHooks.Provider, {\n    value: contexts.canUseRemotionHooksContext,\n    children: /* @__PURE__ */ jsx26(NonceContext.Provider, {\n      value: contexts.nonceContext,\n      children: /* @__PURE__ */ jsx26(NativeLayersContext.Provider, {\n        value: contexts.nativeLayersContext,\n        children: /* @__PURE__ */ jsx26(PreloadContext.Provider, {\n          value: contexts.preloadContext,\n          children: /* @__PURE__ */ jsx26(CompositionManager.Provider, {\n            value: contexts.compositionManagerCtx,\n            children: /* @__PURE__ */ jsx26(SequenceManager.Provider, {\n              value: contexts.sequenceManagerContext,\n              children: /* @__PURE__ */ jsx26(RenderAssetManager.Provider, {\n                value: contexts.renderAssetManagerContext,\n                children: /* @__PURE__ */ jsx26(ResolveCompositionContext.Provider, {\n                  value: contexts.resolveCompositionContext,\n                  children: /* @__PURE__ */ jsx26(TimelineContext.Provider, {\n                    value: contexts.timelineContext,\n                    children: /* @__PURE__ */ jsx26(SetTimelineContext.Provider, {\n                      value: contexts.setTimelineContext,\n                      children: /* @__PURE__ */ jsx26(SequenceContext.Provider, {\n                        value: contexts.sequenceContext,\n                        children: /* @__PURE__ */ jsx26(BufferingContextReact.Provider, {\n                          value: contexts.bufferManagerContext,\n                          children\n                        })\n                      })\n                    })\n                  })\n                })\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n};\n\n// src/internals.ts\nvar Internals = {\n  useUnsafeVideoConfig,\n  Timeline: exports_timeline_position_state,\n  CompositionManager,\n  SequenceManager,\n  SequenceVisibilityToggleContext,\n  RemotionRoot,\n  useVideo,\n  getRoot,\n  useMediaVolumeState,\n  useMediaMutedState,\n  useLazyComponent,\n  truthy,\n  SequenceContext,\n  useRemotionContexts,\n  RemotionContextProvider,\n  CSSUtils: exports_default_css,\n  setupEnvVariables,\n  MediaVolumeContext,\n  SetMediaVolumeContext,\n  getRemotionEnvironment,\n  SharedAudioContext,\n  SharedAudioContextProvider,\n  invalidCompositionErrorMessage,\n  isCompositionIdValid,\n  getPreviewDomElement,\n  compositionsRef,\n  portalNode,\n  waitForRoot,\n  CanUseRemotionHooksProvider,\n  CanUseRemotionHooks,\n  PrefetchProvider,\n  DurationsContextProvider,\n  IsPlayerContextProvider,\n  useIsPlayer,\n  EditorPropsProvider,\n  EditorPropsContext,\n  usePreload,\n  NonceContext,\n  resolveVideoConfig,\n  useResolvedVideoConfig,\n  resolveCompositionsRef,\n  ResolveCompositionConfig,\n  REMOTION_STUDIO_CONTAINER_ELEMENT,\n  RenderAssetManager,\n  persistCurrentFrame,\n  useTimelineSetFrame,\n  NativeLayersProvider,\n  ClipComposition,\n  isIosSafari,\n  WATCH_REMOTION_STATIC_FILES,\n  addSequenceStackTraces,\n  useMediaStartsAt,\n  BufferingProvider,\n  BufferingContextReact,\n  enableSequenceStackTraces,\n  CurrentScaleContext,\n  PreviewSizeContext,\n  calculateScale,\n  editorPropsProviderRef,\n  PROPS_UPDATED_EXTERNALLY,\n  validateRenderAsset\n};\n// src/interpolate-colors.ts\nfunction call(...args) {\n  return \"\\\\(\\\\s*(\" + args.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nfunction getMatchers() {\n  const cachedMatchers = {\n    rgb: undefined,\n    rgba: undefined,\n    hsl: undefined,\n    hsla: undefined,\n    hex3: undefined,\n    hex4: undefined,\n    hex5: undefined,\n    hex6: undefined,\n    hex8: undefined\n  };\n  if (cachedMatchers.rgb === undefined) {\n    cachedMatchers.rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\n    cachedMatchers.rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\n    cachedMatchers.hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\n    cachedMatchers.hsla = new RegExp(\"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\n    cachedMatchers.hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\n    cachedMatchers.hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\n    cachedMatchers.hex6 = /^#([0-9a-fA-F]{6})$/;\n    cachedMatchers.hex8 = /^#([0-9a-fA-F]{8})$/;\n  }\n  return cachedMatchers;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b2 = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b2 * 255) << 8;\n}\nfunction parse255(str) {\n  const int = Number.parseInt(str, 10);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 255) {\n    return 255;\n  }\n  return int;\n}\nfunction parse360(str) {\n  const int = Number.parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  const num = Number.parseFloat(str);\n  if (num < 0) {\n    return 0;\n  }\n  if (num > 1) {\n    return 255;\n  }\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  const int = Number.parseFloat(str);\n  if (int < 0) {\n    return 0;\n  }\n  if (int > 100) {\n    return 1;\n  }\n  return int / 100;\n}\nfunction normalizeColor(color) {\n  const matchers = getMatchers();\n  let match;\n  if (matchers.hex6) {\n    if (match = matchers.hex6.exec(color)) {\n      return Number.parseInt(match[1] + \"ff\", 16) >>> 0;\n    }\n  }\n  if (colorNames[color] !== undefined) {\n    return colorNames[color];\n  }\n  if (matchers.rgb) {\n    if (match = matchers.rgb.exec(color)) {\n      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 255) >>> 0;\n    }\n  }\n  if (matchers.rgba) {\n    if (match = matchers.rgba.exec(color)) {\n      return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n    }\n  }\n  if (matchers.hex3) {\n    if (match = matchers.hex3.exec(color)) {\n      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + \"ff\", 16) >>> 0;\n    }\n  }\n  if (matchers.hex8) {\n    if (match = matchers.hex8.exec(color)) {\n      return Number.parseInt(match[1], 16) >>> 0;\n    }\n  }\n  if (matchers.hex4) {\n    if (match = matchers.hex4.exec(color)) {\n      return Number.parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n    }\n  }\n  if (matchers.hsl) {\n    if (match = matchers.hsl.exec(color)) {\n      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 255) >>> 0;\n    }\n  }\n  if (matchers.hsla) {\n    if (match = matchers.hsla.exec(color)) {\n      return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n    }\n  }\n  throw new Error(`invalid color string ${color} provided`);\n}\nfunction processColor(color) {\n  const normalizedColor = normalizeColor(color);\n  return (normalizedColor << 24 | normalizedColor >>> 8) >>> 0;\n}\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nvar colorNames = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\nvar opacity = (c2) => {\n  return (c2 >> 24 & 255) / 255;\n};\nvar red = (c2) => {\n  return c2 >> 16 & 255;\n};\nvar green = (c2) => {\n  return c2 >> 8 & 255;\n};\nvar blue = (c2) => {\n  return c2 & 255;\n};\nvar rgbaColor = (r, g, b2, alpha) => {\n  return `rgba(${r}, ${g}, ${b2}, ${alpha})`;\n};\nvar interpolateColorsRGB = (value, inputRange, colors) => {\n  const [r, g, b2, a2] = [red, green, blue, opacity].map((f) => {\n    const unrounded = interpolate(value, inputRange, colors.map((c2) => f(c2)), {\n      extrapolateLeft: \"clamp\",\n      extrapolateRight: \"clamp\"\n    });\n    if (f === opacity) {\n      return Number(unrounded.toFixed(3));\n    }\n    return Math.round(unrounded);\n  });\n  return rgbaColor(r, g, b2, a2);\n};\nvar interpolateColors = (input, inputRange, outputRange) => {\n  if (typeof input === \"undefined\") {\n    throw new TypeError(\"input can not be undefined\");\n  }\n  if (typeof inputRange === \"undefined\") {\n    throw new TypeError(\"inputRange can not be undefined\");\n  }\n  if (typeof outputRange === \"undefined\") {\n    throw new TypeError(\"outputRange can not be undefined\");\n  }\n  if (inputRange.length !== outputRange.length) {\n    throw new TypeError(\"inputRange (\" + inputRange.length + \" values provided) and outputRange (\" + outputRange.length + \" values provided) must have the same length\");\n  }\n  const processedOutputRange = outputRange.map((c2) => processColor(c2));\n  return interpolateColorsRGB(input, inputRange, processedOutputRange);\n};\n// src/validate-frame.ts\nvar validateFrame = ({\n  allowFloats,\n  durationInFrames,\n  frame\n}) => {\n  if (typeof frame === \"undefined\") {\n    throw new TypeError(`Argument missing for parameter \"frame\"`);\n  }\n  if (typeof frame !== \"number\") {\n    throw new TypeError(`Argument passed for \"frame\" is not a number: ${frame}`);\n  }\n  if (!Number.isFinite(frame)) {\n    throw new RangeError(`Frame ${frame} is not finite`);\n  }\n  if (frame % 1 !== 0 && !allowFloats) {\n    throw new RangeError(`Argument for frame must be an integer, but got ${frame}`);\n  }\n  if (frame < 0 && frame < -durationInFrames) {\n    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the lowest frame that can be rendered is ${-durationInFrames}`);\n  }\n  if (frame > durationInFrames - 1) {\n    throw new RangeError(`Cannot use frame ${frame}: Duration of composition is ${durationInFrames}, therefore the highest frame that can be rendered is ${durationInFrames - 1}`);\n  }\n};\n\n// src/video/offthread-video-source.ts\nvar getOffthreadVideoSource = ({\n  src,\n  transparent,\n  currentTime,\n  toneMapped\n}) => {\n  return `http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(getAbsoluteSrc(src))}&time=${encodeURIComponent(currentTime)}&transparent=${String(transparent)}&toneMapped=${String(toneMapped)}`;\n};\n// src/series/index.tsx\nimport {Children, forwardRef as forwardRef8, useMemo as useMemo28} from \"react\";\n\n// src/series/flatten-children.tsx\nimport React24 from \"react\";\nvar flattenChildren = (children) => {\n  const childrenArray = React24.Children.toArray(children);\n  return childrenArray.reduce((flatChildren, child) => {\n    if (child.type === React24.Fragment) {\n      return flatChildren.concat(flattenChildren(child.props.children));\n    }\n    flatChildren.push(child);\n    return flatChildren;\n  }, []);\n};\n\n// src/series/is-inside-series.tsx\nimport React25, {createContext as createContext19} from \"react\";\nimport {\njsx as jsx27\n} from \"react/jsx-runtime\";\nvar IsInsideSeriesContext = createContext19(false);\nvar IsInsideSeriesContainer = ({ children }) => {\n  return /* @__PURE__ */ jsx27(IsInsideSeriesContext.Provider, {\n    value: true,\n    children\n  });\n};\nvar IsNotInsideSeriesProvider = ({ children }) => {\n  return /* @__PURE__ */ jsx27(IsInsideSeriesContext.Provider, {\n    value: false,\n    children\n  });\n};\nvar useRequireToBeInsideSeries = () => {\n  const isInsideSeries = React25.useContext(IsInsideSeriesContext);\n  if (!isInsideSeries) {\n    throw new Error(\"This component must be inside a <Series /> component.\");\n  }\n};\n\n// src/series/index.tsx\nimport {\njsx as jsx28\n} from \"react/jsx-runtime\";\nvar SeriesSequenceRefForwardingFunction = ({ children }, _ref) => {\n  useRequireToBeInsideSeries();\n  return /* @__PURE__ */ jsx28(IsNotInsideSeriesProvider, {\n    children\n  });\n};\nvar SeriesSequence = forwardRef8(SeriesSequenceRefForwardingFunction);\nvar Series = (props2) => {\n  const childrenValue = useMemo28(() => {\n    let startFrame = 0;\n    const flattenedChildren = flattenChildren(props2.children);\n    return Children.map(flattenedChildren, (child, i) => {\n      const castedChild = child;\n      if (typeof castedChild === \"string\") {\n        if (castedChild.trim() === \"\") {\n          return null;\n        }\n        throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but you passed a string \"${castedChild}\"`);\n      }\n      if (castedChild.type !== SeriesSequence) {\n        throw new TypeError(`The <Series /> component only accepts a list of <Series.Sequence /> components as its children, but got ${castedChild} instead`);\n      }\n      const debugInfo = `index = ${i}, duration = ${castedChild.props.durationInFrames}`;\n      if (!castedChild?.props.children) {\n        throw new TypeError(`A <Series.Sequence /> component (${debugInfo}) was detected to not have any children. Delete it to fix this error.`);\n      }\n      const durationInFramesProp = castedChild.props.durationInFrames;\n      const {\n        durationInFrames,\n        children: _children,\n        from,\n        name,\n        ...passedProps\n      } = castedChild.props;\n      if (i !== flattenedChildren.length - 1 || durationInFramesProp !== Infinity) {\n        validateDurationInFrames(durationInFramesProp, {\n          component: `of a <Series.Sequence /> component`,\n          allowFloats: true\n        });\n      }\n      const offset = castedChild.props.offset ?? 0;\n      if (Number.isNaN(offset)) {\n        throw new TypeError(`The \"offset\" property of a <Series.Sequence /> must not be NaN, but got NaN (${debugInfo}).`);\n      }\n      if (!Number.isFinite(offset)) {\n        throw new TypeError(`The \"offset\" property of a <Series.Sequence /> must be finite, but got ${offset} (${debugInfo}).`);\n      }\n      if (offset % 1 !== 0) {\n        throw new TypeError(`The \"offset\" property of a <Series.Sequence /> must be finite, but got ${offset} (${debugInfo}).`);\n      }\n      const currentStartFrame = startFrame + offset;\n      startFrame += durationInFramesProp + offset;\n      return /* @__PURE__ */ jsx28(Sequence, {\n        name: name || \"<Series.Sequence>\",\n        from: currentStartFrame,\n        durationInFrames: durationInFramesProp,\n        ...passedProps,\n        ref: castedChild.ref,\n        children: child\n      });\n    });\n  }, [props2.children]);\n  if (ENABLE_V5_BREAKING_CHANGES) {\n    return /* @__PURE__ */ jsx28(IsInsideSeriesContainer, {\n      children: /* @__PURE__ */ jsx28(Sequence, {\n        ...props2,\n        children: childrenValue\n      })\n    });\n  }\n  return /* @__PURE__ */ jsx28(IsInsideSeriesContainer, {\n    children: childrenValue\n  });\n};\nSeries.Sequence = SeriesSequence;\naddSequenceStackTraces(SeriesSequence);\n// src/validation/validation-spring-duration.ts\nvar validateSpringDuration = (dur) => {\n  if (typeof dur === \"undefined\") {\n    return;\n  }\n  if (typeof dur !== \"number\") {\n    throw new TypeError(`A \"duration\" of a spring must be a \"number\" but is \"${typeof dur}\"`);\n  }\n  if (Number.isNaN(dur)) {\n    throw new TypeError('A \"duration\" of a spring is NaN, which it must not be');\n  }\n  if (!Number.isFinite(dur)) {\n    throw new TypeError('A \"duration\" of a spring must be finite, but is ' + dur);\n  }\n  if (dur <= 0) {\n    throw new TypeError('A \"duration\" of a spring must be positive, but is ' + dur);\n  }\n};\n\n// src/spring/spring-utils.ts\nfunction advance({\n  animation,\n  now,\n  config\n}) {\n  const { toValue, lastTimestamp, current, velocity } = animation;\n  const deltaTime = Math.min(now - lastTimestamp, 64);\n  if (config.damping <= 0) {\n    throw new Error(\"Spring damping must be greater than 0, otherwise the spring() animation will never end, causing an infinite loop.\");\n  }\n  const c2 = config.damping;\n  const m = config.mass;\n  const k = config.stiffness;\n  const cacheKey = [\n    toValue,\n    lastTimestamp,\n    current,\n    velocity,\n    c2,\n    m,\n    k,\n    now\n  ].join(\"-\");\n  if (advanceCache[cacheKey]) {\n    return advanceCache[cacheKey];\n  }\n  const v0 = -velocity;\n  const x0 = toValue - current;\n  const zeta = c2 / (2 * Math.sqrt(k * m));\n  const omega0 = Math.sqrt(k / m);\n  const omega1 = omega0 * Math.sqrt(1 - zeta ** 2);\n  const t = deltaTime / 1000;\n  const sin1 = Math.sin(omega1 * t);\n  const cos1 = Math.cos(omega1 * t);\n  const underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n  const underDampedFrag1 = underDampedEnvelope * (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n  const underDampedPosition = toValue - underDampedFrag1;\n  const underDampedVelocity = zeta * omega0 * underDampedFrag1 - underDampedEnvelope * (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n  const criticallyDampedEnvelope = Math.exp(-omega0 * t);\n  const criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n  const criticallyDampedVelocity = criticallyDampedEnvelope * (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n  const animationNode = {\n    toValue,\n    prevPosition: current,\n    lastTimestamp: now,\n    current: zeta < 1 ? underDampedPosition : criticallyDampedPosition,\n    velocity: zeta < 1 ? underDampedVelocity : criticallyDampedVelocity\n  };\n  advanceCache[cacheKey] = animationNode;\n  return animationNode;\n}\nfunction springCalculation({\n  frame,\n  fps,\n  config = {}\n}) {\n  const from = 0;\n  const to = 1;\n  const cacheKey = [\n    frame,\n    fps,\n    config.damping,\n    config.mass,\n    config.overshootClamping,\n    config.stiffness\n  ].join(\"-\");\n  if (calculationCache[cacheKey]) {\n    return calculationCache[cacheKey];\n  }\n  let animation = {\n    lastTimestamp: 0,\n    current: from,\n    toValue: to,\n    velocity: 0,\n    prevPosition: 0\n  };\n  const frameClamped = Math.max(0, frame);\n  const unevenRest = frameClamped % 1;\n  for (let f = 0;f <= Math.floor(frameClamped); f++) {\n    if (f === Math.floor(frameClamped)) {\n      f += unevenRest;\n    }\n    const time = f / fps * 1000;\n    animation = advance({\n      animation,\n      now: time,\n      config: {\n        ...defaultSpringConfig,\n        ...config\n      }\n    });\n  }\n  calculationCache[cacheKey] = animation;\n  return animation;\n}\nvar defaultSpringConfig = {\n  damping: 10,\n  mass: 1,\n  stiffness: 100,\n  overshootClamping: false\n};\nvar advanceCache = {};\nvar calculationCache = {};\n\n// src/spring/measure-spring.ts\nfunction measureSpring({\n  fps,\n  config = {},\n  threshold = 0.005\n}) {\n  if (typeof threshold !== \"number\") {\n    throw new TypeError(`threshold must be a number, got ${threshold} of type ${typeof threshold}`);\n  }\n  if (threshold === 0) {\n    return Infinity;\n  }\n  if (threshold === 1) {\n    return 0;\n  }\n  if (isNaN(threshold)) {\n    throw new TypeError(\"Threshold is NaN\");\n  }\n  if (!Number.isFinite(threshold)) {\n    throw new TypeError(\"Threshold is not finite\");\n  }\n  if (threshold < 0) {\n    throw new TypeError(\"Threshold is below 0\");\n  }\n  const cacheKey = [\n    fps,\n    config.damping,\n    config.mass,\n    config.overshootClamping,\n    config.stiffness,\n    threshold\n  ].join(\"-\");\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n  validateFps(fps, \"to the measureSpring() function\", false);\n  let frame = 0;\n  let finishedFrame = 0;\n  const calc = () => {\n    return springCalculation({\n      fps,\n      frame,\n      config\n    });\n  };\n  let animation = calc();\n  const calcDifference = () => {\n    return Math.abs(animation.current - animation.toValue);\n  };\n  let difference = calcDifference();\n  while (difference >= threshold) {\n    frame++;\n    animation = calc();\n    difference = calcDifference();\n  }\n  finishedFrame = frame;\n  for (let i = 0;i < 20; i++) {\n    frame++;\n    animation = calc();\n    difference = calcDifference();\n    if (difference >= threshold) {\n      i = 0;\n      finishedFrame = frame + 1;\n    }\n  }\n  cache.set(cacheKey, finishedFrame);\n  return finishedFrame;\n}\nvar cache = new Map;\n\n// src/spring/index.ts\nfunction spring({\n  frame: passedFrame,\n  fps,\n  config = {},\n  from = 0,\n  to = 1,\n  durationInFrames: passedDurationInFrames,\n  durationRestThreshold,\n  delay = 0,\n  reverse = false\n}) {\n  validateSpringDuration(passedDurationInFrames);\n  validateFrame({\n    frame: passedFrame,\n    durationInFrames: Infinity,\n    allowFloats: true\n  });\n  validateFps(fps, \"to spring()\", false);\n  const needsToCalculateNaturalDuration = reverse || typeof passedDurationInFrames !== \"undefined\";\n  const naturalDuration = needsToCalculateNaturalDuration ? measureSpring({\n    fps,\n    config,\n    threshold: durationRestThreshold\n  }) : undefined;\n  const naturalDurationGetter = needsToCalculateNaturalDuration ? {\n    get: () => naturalDuration\n  } : {\n    get: () => {\n      throw new Error(\"did not calculate natural duration, this is an error with Remotion. Please report\");\n    }\n  };\n  const reverseProcessed = reverse ? (passedDurationInFrames ?? naturalDurationGetter.get()) - passedFrame : passedFrame;\n  const delayProcessed = reverseProcessed + (reverse ? delay : -delay);\n  const durationProcessed = passedDurationInFrames === undefined ? delayProcessed : delayProcessed / (passedDurationInFrames / naturalDurationGetter.get());\n  if (passedDurationInFrames && delayProcessed > passedDurationInFrames) {\n    return to;\n  }\n  const spr = springCalculation({\n    fps,\n    frame: durationProcessed,\n    config\n  });\n  const inner2 = config.overshootClamping ? to >= from ? Math.min(spr.current, to) : Math.max(spr.current, to) : spr.current;\n  const interpolated = from === 0 && to === 1 ? inner2 : interpolate(inner2, [0, 1], [from, to]);\n  return interpolated;\n}\n// src/Still.tsx\nimport React27 from \"react\";\nvar Still = (props2) => {\n  const newProps = {\n    ...props2,\n    durationInFrames: 1,\n    fps: 1\n  };\n  return React27.createElement(Composition, newProps);\n};\n// src/video/OffthreadVideo.tsx\nimport {useCallback as useCallback14} from \"react\";\n\n// src/video/OffthreadVideoForRendering.tsx\nimport {\nuseCallback as useCallback13,\nuseContext as useContext27,\nuseEffect as useEffect21,\nuseLayoutEffect as useLayoutEffect6,\nuseMemo as useMemo29,\nuseState as useState18\n} from \"react\";\nimport {\njsx as jsx29\n} from \"react/jsx-runtime\";\nvar OffthreadVideoForRendering = ({\n  onError,\n  volume: volumeProp,\n  playbackRate,\n  src,\n  muted,\n  allowAmplificationDuringRender,\n  transparent = false,\n  toneMapped = true,\n  toneFrequency,\n  name,\n  loopVolumeCurveBehavior,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  onVideoFrame,\n  ...props2\n}) => {\n  const absoluteFrame = useTimelinePosition();\n  const frame = useCurrentFrame();\n  const volumePropsFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const videoConfig = useUnsafeVideoConfig();\n  const sequenceContext = useContext27(SequenceContext);\n  const mediaStartsAt = useMediaStartsAt();\n  const { registerRenderAsset, unregisterRenderAsset } = useContext27(RenderAssetManager);\n  if (!src) {\n    throw new TypeError(\"No `src` was passed to <OffthreadVideo>.\");\n  }\n  const id = useMemo29(() => `offthreadvideo-${random(src ?? \"\")}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.relativeFrom}-${sequenceContext?.durationInFrames}`, [\n    src,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.durationInFrames\n  ]);\n  if (!videoConfig) {\n    throw new Error(\"No video config found\");\n  }\n  const volume = evaluateVolume({\n    volume: volumeProp,\n    frame: volumePropsFrame,\n    mediaVolume: 1,\n    allowAmplificationDuringRender: allowAmplificationDuringRender ?? false\n  });\n  useEffect21(() => {\n    if (!src) {\n      throw new Error(\"No src passed\");\n    }\n    if (!window.remotion_audioEnabled) {\n      return;\n    }\n    if (muted) {\n      return;\n    }\n    if (volume <= 0) {\n      return;\n    }\n    registerRenderAsset({\n      type: \"video\",\n      src: getAbsoluteSrc(src),\n      id,\n      frame: absoluteFrame,\n      volume,\n      mediaFrame: frame,\n      playbackRate: playbackRate ?? 1,\n      allowAmplificationDuringRender: allowAmplificationDuringRender ?? false,\n      toneFrequency: toneFrequency ?? null,\n      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0))\n    });\n    return () => unregisterRenderAsset(id);\n  }, [\n    muted,\n    src,\n    registerRenderAsset,\n    id,\n    unregisterRenderAsset,\n    volume,\n    frame,\n    absoluteFrame,\n    playbackRate,\n    allowAmplificationDuringRender,\n    toneFrequency,\n    sequenceContext?.relativeFrom\n  ]);\n  const currentTime = useMemo29(() => {\n    return getExpectedMediaFrameUncorrected({\n      frame,\n      playbackRate: playbackRate || 1,\n      startFrom: -mediaStartsAt\n    }) / videoConfig.fps;\n  }, [frame, mediaStartsAt, playbackRate, videoConfig.fps]);\n  const actualSrc = useMemo29(() => {\n    return getOffthreadVideoSource({\n      src,\n      currentTime,\n      transparent,\n      toneMapped\n    });\n  }, [toneMapped, currentTime, src, transparent]);\n  const [imageSrc, setImageSrc] = useState18(null);\n  useLayoutEffect6(() => {\n    const cleanup = [];\n    setImageSrc(null);\n    const controller = new AbortController;\n    const newHandle = delayRender(\"Fetching \" + actualSrc + \"from server\", {\n      retries: delayRenderRetries ?? undefined,\n      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n    });\n    const execute = async () => {\n      try {\n        const res = await fetch(actualSrc, {\n          signal: controller.signal\n        });\n        if (res.status !== 200) {\n          if (res.status === 500) {\n            const json = await res.json();\n            if (json.error) {\n              const cleanedUpErrorMessage = json.error.replace(/^Error: /, \"\");\n              throw new Error(cleanedUpErrorMessage);\n            }\n          }\n          throw new Error(`Server returned status ${res.status} while fetching ${actualSrc}`);\n        }\n        const blob = await res.blob();\n        const url = URL.createObjectURL(blob);\n        cleanup.push(() => URL.revokeObjectURL(url));\n        setImageSrc({\n          src: url,\n          handle: newHandle\n        });\n      } catch (err) {\n        if (err.message.includes(\"aborted\")) {\n          continueRender(newHandle);\n          return;\n        }\n        if (controller.signal.aborted) {\n          continueRender(newHandle);\n          return;\n        }\n        if (err.message.includes(\"Failed to fetch\")) {\n          err = new Error(`Failed to fetch ${actualSrc}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`, { cause: err });\n        }\n        if (onError) {\n          onError(err);\n        } else {\n          cancelRender(err);\n        }\n      }\n    };\n    execute();\n    cleanup.push(() => {\n      if (controller.signal.aborted) {\n        return;\n      }\n      controller.abort();\n    });\n    return () => {\n      cleanup.forEach((c2) => c2());\n    };\n  }, [\n    actualSrc,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    onError\n  ]);\n  const onErr = useCallback13(() => {\n    if (onError) {\n      onError?.(new Error(\"Failed to load image with src \" + imageSrc));\n    } else {\n      cancelRender(\"Failed to load image with src \" + imageSrc);\n    }\n  }, [imageSrc, onError]);\n  const className = useMemo29(() => {\n    return [OFFTHREAD_VIDEO_CLASS_NAME, props2.className].filter(truthy).join(\" \");\n  }, [props2.className]);\n  const onImageFrame = useCallback13((img) => {\n    if (onVideoFrame) {\n      onVideoFrame(img);\n    }\n  }, [onVideoFrame]);\n  if (!imageSrc) {\n    return null;\n  }\n  continueRender(imageSrc.handle);\n  return /* @__PURE__ */ jsx29(Img, {\n    src: imageSrc.src,\n    className,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds,\n    onImageFrame,\n    ...props2,\n    onError: onErr\n  });\n};\n\n// src/video/VideoForPreview.tsx\nimport {\nforwardRef as forwardRef9,\nuseContext as useContext28,\nuseEffect as useEffect23,\nuseImperativeHandle as useImperativeHandle7,\nuseMemo as useMemo30,\nuseRef as useRef13,\nuseState as useState19\n} from \"react\";\n\n// src/video/emit-video-frame.ts\nimport {useEffect as useEffect22} from \"react\";\nvar useEmitVideoFrame = ({\n  ref,\n  onVideoFrame\n}) => {\n  useEffect22(() => {\n    const { current } = ref;\n    if (!current) {\n      return;\n    }\n    if (!onVideoFrame) {\n      return;\n    }\n    let handle = 0;\n    const callback = () => {\n      if (!ref.current) {\n        return;\n      }\n      onVideoFrame(ref.current);\n      handle = ref.current.requestVideoFrameCallback(callback);\n    };\n    callback();\n    return () => {\n      current.cancelVideoFrameCallback(handle);\n    };\n  }, [onVideoFrame, ref]);\n};\n\n// src/video/VideoForPreview.tsx\nimport {\njsx as jsx30\n} from \"react/jsx-runtime\";\nvar VideoForDevelopmentRefForwardingFunction = (props2, ref) => {\n  const videoRef = useRef13(null);\n  const {\n    volume,\n    muted,\n    playbackRate,\n    onlyWarnForMediaSeekingError,\n    src,\n    onDuration,\n    acceptableTimeShift,\n    acceptableTimeShiftInSeconds,\n    toneFrequency,\n    name,\n    _remotionInternalNativeLoopPassed,\n    _remotionInternalStack,\n    _remotionDebugSeeking,\n    style,\n    pauseWhenBuffering,\n    showInTimeline,\n    loopVolumeCurveBehavior,\n    onError,\n    onAutoPlayError,\n    onVideoFrame,\n    crossOrigin,\n    ...nativeProps\n  } = props2;\n  const volumePropFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const { fps, durationInFrames } = useVideoConfig();\n  const parentSequence = useContext28(SequenceContext);\n  const { hidden } = useContext28(SequenceVisibilityToggleContext);\n  const [timelineId] = useState19(() => String(Math.random()));\n  const isSequenceHidden = hidden[timelineId] ?? false;\n  if (typeof acceptableTimeShift !== \"undefined\") {\n    throw new Error(\"acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.\");\n  }\n  const actualVolume = useMediaTagVolume(videoRef);\n  const [mediaVolume] = useMediaVolumeState();\n  const [mediaMuted] = useMediaMutedState();\n  useMediaInTimeline({\n    mediaRef: videoRef,\n    volume,\n    mediaVolume,\n    mediaType: \"video\",\n    src,\n    playbackRate: props2.playbackRate ?? 1,\n    displayName: name ?? null,\n    id: timelineId,\n    stack: _remotionInternalStack,\n    showInTimeline,\n    premountDisplay: null,\n    onAutoPlayError: onAutoPlayError ?? null\n  });\n  useSyncVolumeWithMediaTag({\n    volumePropFrame,\n    actualVolume,\n    volume,\n    mediaVolume,\n    mediaRef: videoRef\n  });\n  useMediaPlayback({\n    mediaRef: videoRef,\n    src,\n    mediaType: \"video\",\n    playbackRate: props2.playbackRate ?? 1,\n    onlyWarnForMediaSeekingError,\n    acceptableTimeshift: acceptableTimeShiftInSeconds ?? DEFAULT_ACCEPTABLE_TIMESHIFT,\n    isPremounting: Boolean(parentSequence?.premounting),\n    pauseWhenBuffering,\n    debugSeeking: _remotionDebugSeeking,\n    onAutoPlayError: onAutoPlayError ?? null\n  });\n  const actualFrom = parentSequence ? parentSequence.relativeFrom : 0;\n  const duration = parentSequence ? Math.min(parentSequence.durationInFrames, durationInFrames) : durationInFrames;\n  const actualSrc = useAppendVideoFragment({\n    actualSrc: usePreload(src),\n    actualFrom,\n    duration,\n    fps\n  });\n  useImperativeHandle7(ref, () => {\n    return videoRef.current;\n  }, []);\n  useEffect23(() => {\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    const errorHandler = () => {\n      if (current.error) {\n        console.error(\"Error occurred in video\", current?.error);\n        if (onError) {\n          const err = new Error(`Code ${current.error.code}: ${current.error.message}`);\n          onError(err);\n          return;\n        }\n        throw new Error(`The browser threw an error while playing the video ${src}: Code ${current.error.code} - ${current?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`);\n      } else {\n        if (onError) {\n          const err = new Error(`The browser threw an error while playing the video ${src}`);\n          onError(err);\n          return;\n        }\n        throw new Error(\"The browser threw an error while playing the video\");\n      }\n    };\n    current.addEventListener(\"error\", errorHandler, { once: true });\n    return () => {\n      current.removeEventListener(\"error\", errorHandler);\n    };\n  }, [onError, src]);\n  const currentOnDurationCallback = useRef13();\n  currentOnDurationCallback.current = onDuration;\n  useEmitVideoFrame({ ref: videoRef, onVideoFrame });\n  useEffect23(() => {\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    if (current.duration) {\n      currentOnDurationCallback.current?.(src, current.duration);\n      return;\n    }\n    const onLoadedMetadata = () => {\n      currentOnDurationCallback.current?.(src, current.duration);\n    };\n    current.addEventListener(\"loadedmetadata\", onLoadedMetadata);\n    return () => {\n      current.removeEventListener(\"loadedmetadata\", onLoadedMetadata);\n    };\n  }, [src]);\n  useEffect23(() => {\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    if (isIosSafari()) {\n      current.preload = \"metadata\";\n    } else {\n      current.preload = \"auto\";\n    }\n  }, []);\n  const actualStyle = useMemo30(() => {\n    return {\n      ...style,\n      opacity: isSequenceHidden ? 0 : style?.opacity ?? 1\n    };\n  }, [isSequenceHidden, style]);\n  const crossOriginValue = crossOrigin ?? (onVideoFrame ? \"anonymous\" : undefined);\n  return /* @__PURE__ */ jsx30(\"video\", {\n    ref: videoRef,\n    muted: muted || mediaMuted,\n    playsInline: true,\n    src: actualSrc,\n    loop: _remotionInternalNativeLoopPassed,\n    style: actualStyle,\n    disableRemotePlayback: true,\n    crossOrigin: crossOriginValue,\n    ...nativeProps\n  });\n};\nvar VideoForPreview = forwardRef9(VideoForDevelopmentRefForwardingFunction);\n\n// src/video/OffthreadVideo.tsx\nimport {\njsx as jsx31\n} from \"react/jsx-runtime\";\nvar OffthreadVideo = (props2) => {\n  const {\n    startFrom,\n    endAt,\n    name,\n    pauseWhenBuffering,\n    stack,\n    showInTimeline,\n    ...otherProps\n  } = props2;\n  const environment = getRemotionEnvironment();\n  const onDuration = useCallback14(() => {\n    return;\n  }, []);\n  if (typeof props2.src !== \"string\") {\n    throw new TypeError(`The \\`<OffthreadVideo>\\` tag requires a string for \\`src\\`, but got ${JSON.stringify(props2.src)} instead.`);\n  }\n  if (props2.imageFormat) {\n    throw new TypeError(`The \\`<OffthreadVideo>\\` tag does no longer accept \\`imageFormat\\`. Use the \\`transparent\\` prop if you want to render a transparent video.`);\n  }\n  if (typeof startFrom !== \"undefined\" || typeof endAt !== \"undefined\") {\n    validateStartFromProps(startFrom, endAt);\n    const startFromFrameNo = startFrom ?? 0;\n    const endAtFrameNo = endAt ?? Infinity;\n    return /* @__PURE__ */ jsx31(Sequence, {\n      layout: \"none\",\n      from: 0 - startFromFrameNo,\n      showInTimeline: false,\n      durationInFrames: endAtFrameNo,\n      name,\n      children: /* @__PURE__ */ jsx31(OffthreadVideo, {\n        pauseWhenBuffering: pauseWhenBuffering ?? false,\n        ...otherProps\n      })\n    });\n  }\n  validateMediaProps(props2, \"Video\");\n  if (environment.isRendering) {\n    return /* @__PURE__ */ jsx31(OffthreadVideoForRendering, {\n      ...otherProps\n    });\n  }\n  const {\n    transparent,\n    toneMapped,\n    _remotionDebugSeeking,\n    onAutoPlayError,\n    onVideoFrame,\n    crossOrigin,\n    ...withoutTransparent\n  } = otherProps;\n  return /* @__PURE__ */ jsx31(VideoForPreview, {\n    _remotionInternalStack: stack ?? null,\n    _remotionInternalNativeLoopPassed: false,\n    _remotionDebugSeeking: _remotionDebugSeeking ?? false,\n    onDuration,\n    onlyWarnForMediaSeekingError: true,\n    pauseWhenBuffering: pauseWhenBuffering ?? false,\n    showInTimeline: showInTimeline ?? true,\n    onAutoPlayError: onAutoPlayError ?? undefined,\n    onVideoFrame: onVideoFrame ?? null,\n    crossOrigin,\n    ...withoutTransparent\n  });\n};\n// src/video/Video.tsx\nimport {forwardRef as forwardRef11, useCallback as useCallback15, useContext as useContext30} from \"react\";\n\n// src/video/VideoForRendering.tsx\nimport {\nforwardRef as forwardRef10,\nuseContext as useContext29,\nuseEffect as useEffect24,\nuseImperativeHandle as useImperativeHandle8,\nuseLayoutEffect as useLayoutEffect7,\nuseMemo as useMemo31,\nuseRef as useRef14\n} from \"react\";\n\n// src/video/seek-until-right.ts\nvar roundTo6Commas = (num) => {\n  return Math.round(num * 1e5) / 1e5;\n};\nvar seekToTime = (element, desiredTime) => {\n  element.currentTime = desiredTime;\n  let cancel;\n  let cancelSeeked = null;\n  const prom = new Promise((resolve) => {\n    cancel = element.requestVideoFrameCallback((now, metadata) => {\n      const displayIn = metadata.expectedDisplayTime - now;\n      if (displayIn <= 0) {\n        resolve(metadata.mediaTime);\n        return;\n      }\n      setTimeout(() => {\n        resolve(metadata.mediaTime);\n      }, displayIn + 150);\n    });\n  });\n  const waitForSeekedEvent = new Promise((resolve) => {\n    const onDone = () => {\n      resolve();\n    };\n    element.addEventListener(\"seeked\", onDone, {\n      once: true\n    });\n    cancelSeeked = () => {\n      element.removeEventListener(\"seeked\", onDone);\n    };\n  });\n  return {\n    wait: Promise.all([prom, waitForSeekedEvent]).then(([time]) => time),\n    cancel: () => {\n      cancelSeeked?.();\n      element.cancelVideoFrameCallback(cancel);\n    }\n  };\n};\nvar seekToTimeMultipleUntilRight = (element, desiredTime, fps) => {\n  const threshold = 1 / fps / 2;\n  let currentCancel = () => {\n    return;\n  };\n  if (Number.isFinite(element.duration) && element.currentTime >= element.duration && desiredTime >= element.duration) {\n    return {\n      prom: Promise.resolve(),\n      cancel: () => {\n      }\n    };\n  }\n  const prom = new Promise((resolve, reject) => {\n    const firstSeek = seekToTime(element, desiredTime + threshold);\n    firstSeek.wait.then((seekedTo) => {\n      const difference = Math.abs(desiredTime - seekedTo);\n      if (difference <= threshold) {\n        return resolve();\n      }\n      const sign = desiredTime > seekedTo ? 1 : -1;\n      const newSeek = seekToTime(element, seekedTo + threshold * sign);\n      currentCancel = newSeek.cancel;\n      newSeek.wait.then((newTime) => {\n        const newDifference = Math.abs(desiredTime - newTime);\n        if (roundTo6Commas(newDifference) <= roundTo6Commas(threshold)) {\n          return resolve();\n        }\n        const thirdSeek = seekToTime(element, desiredTime + threshold);\n        currentCancel = thirdSeek.cancel;\n        return thirdSeek.wait.then(() => {\n          resolve();\n        }).catch((err) => {\n          reject(err);\n        });\n      }).catch((err) => {\n        reject(err);\n      });\n    });\n    currentCancel = firstSeek.cancel;\n  });\n  return {\n    prom,\n    cancel: () => {\n      currentCancel();\n    }\n  };\n};\n\n// src/video/VideoForRendering.tsx\nimport {\njsx as jsx32\n} from \"react/jsx-runtime\";\nvar VideoForRenderingForwardFunction = ({\n  onError,\n  volume: volumeProp,\n  allowAmplificationDuringRender,\n  playbackRate,\n  onDuration,\n  toneFrequency,\n  name,\n  acceptableTimeShiftInSeconds,\n  delayRenderRetries,\n  delayRenderTimeoutInMilliseconds,\n  loopVolumeCurveBehavior,\n  ...props2\n}, ref) => {\n  const absoluteFrame = useTimelinePosition();\n  const frame = useCurrentFrame();\n  const volumePropsFrame = useFrameForVolumeProp(loopVolumeCurveBehavior ?? \"repeat\");\n  const videoConfig = useUnsafeVideoConfig();\n  const videoRef = useRef14(null);\n  const sequenceContext = useContext29(SequenceContext);\n  const mediaStartsAt = useMediaStartsAt();\n  const environment = getRemotionEnvironment();\n  const { registerRenderAsset, unregisterRenderAsset } = useContext29(RenderAssetManager);\n  const id = useMemo31(() => `video-${random(props2.src ?? \"\")}-${sequenceContext?.cumulatedFrom}-${sequenceContext?.relativeFrom}-${sequenceContext?.durationInFrames}`, [\n    props2.src,\n    sequenceContext?.cumulatedFrom,\n    sequenceContext?.relativeFrom,\n    sequenceContext?.durationInFrames\n  ]);\n  if (!videoConfig) {\n    throw new Error(\"No video config found\");\n  }\n  const volume = evaluateVolume({\n    volume: volumeProp,\n    frame: volumePropsFrame,\n    mediaVolume: 1,\n    allowAmplificationDuringRender: allowAmplificationDuringRender ?? false\n  });\n  useEffect24(() => {\n    if (!props2.src) {\n      throw new Error(\"No src passed\");\n    }\n    if (props2.muted) {\n      return;\n    }\n    if (volume <= 0) {\n      return;\n    }\n    if (!window.remotion_audioEnabled) {\n      return;\n    }\n    registerRenderAsset({\n      type: \"video\",\n      src: getAbsoluteSrc(props2.src),\n      id,\n      frame: absoluteFrame,\n      volume,\n      mediaFrame: frame,\n      playbackRate: playbackRate ?? 1,\n      allowAmplificationDuringRender: allowAmplificationDuringRender ?? false,\n      toneFrequency: toneFrequency ?? null,\n      audioStartFrame: Math.max(0, -(sequenceContext?.relativeFrom ?? 0))\n    });\n    return () => unregisterRenderAsset(id);\n  }, [\n    props2.muted,\n    props2.src,\n    registerRenderAsset,\n    id,\n    unregisterRenderAsset,\n    volume,\n    frame,\n    absoluteFrame,\n    playbackRate,\n    allowAmplificationDuringRender,\n    toneFrequency,\n    sequenceContext?.relativeFrom\n  ]);\n  useImperativeHandle8(ref, () => {\n    return videoRef.current;\n  }, []);\n  useEffect24(() => {\n    if (!window.remotion_videoEnabled) {\n      return;\n    }\n    const { current } = videoRef;\n    if (!current) {\n      return;\n    }\n    const currentTime = getMediaTime({\n      frame,\n      playbackRate: playbackRate || 1,\n      startFrom: -mediaStartsAt,\n      fps: videoConfig.fps\n    });\n    const handle = delayRender(`Rendering <Video /> with src=\"${props2.src}\"`, {\n      retries: delayRenderRetries ?? undefined,\n      timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n    });\n    if (window.process?.env?.NODE_ENV === \"test\") {\n      continueRender(handle);\n      return;\n    }\n    if (isApproximatelyTheSame(current.currentTime, currentTime)) {\n      if (current.readyState >= 2) {\n        continueRender(handle);\n        return;\n      }\n      const loadedDataHandler = () => {\n        continueRender(handle);\n      };\n      current.addEventListener(\"loadeddata\", loadedDataHandler, { once: true });\n      return () => {\n        current.removeEventListener(\"loadeddata\", loadedDataHandler);\n      };\n    }\n    const endedHandler = () => {\n      continueRender(handle);\n    };\n    const seek2 = seekToTimeMultipleUntilRight(current, currentTime, videoConfig.fps);\n    seek2.prom.then(() => {\n      continueRender(handle);\n    });\n    current.addEventListener(\"ended\", endedHandler, { once: true });\n    const errorHandler = () => {\n      if (current?.error) {\n        console.error(\"Error occurred in video\", current?.error);\n        if (onError) {\n          return;\n        }\n        throw new Error(`The browser threw an error while playing the video ${props2.src}: Code ${current.error.code} - ${current?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`);\n      } else {\n        throw new Error(\"The browser threw an error\");\n      }\n    };\n    current.addEventListener(\"error\", errorHandler, { once: true });\n    return () => {\n      seek2.cancel();\n      current.removeEventListener(\"ended\", endedHandler);\n      current.removeEventListener(\"error\", errorHandler);\n      continueRender(handle);\n    };\n  }, [\n    volumePropsFrame,\n    props2.src,\n    playbackRate,\n    videoConfig.fps,\n    frame,\n    mediaStartsAt,\n    onError,\n    delayRenderRetries,\n    delayRenderTimeoutInMilliseconds\n  ]);\n  const { src } = props2;\n  if (environment.isRendering) {\n    useLayoutEffect7(() => {\n      if (window.process?.env?.NODE_ENV === \"test\") {\n        return;\n      }\n      const newHandle = delayRender(\"Loading <Video> duration with src=\" + src, {\n        retries: delayRenderRetries ?? undefined,\n        timeoutInMilliseconds: delayRenderTimeoutInMilliseconds ?? undefined\n      });\n      const { current } = videoRef;\n      const didLoad = () => {\n        if (current?.duration) {\n          onDuration(src, current.duration);\n        }\n        continueRender(newHandle);\n      };\n      if (current?.duration) {\n        onDuration(src, current.duration);\n        continueRender(newHandle);\n      } else {\n        current?.addEventListener(\"loadedmetadata\", didLoad, { once: true });\n      }\n      return () => {\n        current?.removeEventListener(\"loadedmetadata\", didLoad);\n        continueRender(newHandle);\n      };\n    }, [src, onDuration, delayRenderRetries, delayRenderTimeoutInMilliseconds]);\n  }\n  return /* @__PURE__ */ jsx32(\"video\", {\n    ref: videoRef,\n    ...props2\n  });\n};\nvar VideoForRendering = forwardRef10(VideoForRenderingForwardFunction);\n\n// src/video/Video.tsx\nimport {\njsx as jsx33\n} from \"react/jsx-runtime\";\nvar VideoForwardingFunction = (props2, ref) => {\n  const {\n    startFrom,\n    endAt,\n    name,\n    pauseWhenBuffering,\n    stack,\n    _remotionInternalNativeLoopPassed,\n    showInTimeline,\n    onAutoPlayError,\n    crossOrigin,\n    ...otherProps\n  } = props2;\n  const { loop: loop4, _remotionDebugSeeking, ...propsOtherThanLoop } = props2;\n  const { fps } = useVideoConfig();\n  const environment = getRemotionEnvironment();\n  const { durations, setDurations } = useContext30(DurationsContext);\n  if (typeof ref === \"string\") {\n    throw new Error(\"string refs are not supported\");\n  }\n  if (typeof props2.src !== \"string\") {\n    throw new TypeError(`The \\`<Video>\\` tag requires a string for \\`src\\`, but got ${JSON.stringify(props2.src)} instead.`);\n  }\n  const preloadedSrc = usePreload(props2.src);\n  const onDuration = useCallback15((src, durationInSeconds) => {\n    setDurations({ type: \"got-duration\", durationInSeconds, src });\n  }, [setDurations]);\n  const onVideoFrame = useCallback15(() => {\n  }, []);\n  const durationFetched = durations[getAbsoluteSrc(preloadedSrc)] ?? durations[getAbsoluteSrc(props2.src)];\n  if (loop4 && durationFetched !== undefined) {\n    const mediaDuration = durationFetched * fps;\n    return /* @__PURE__ */ jsx33(Loop, {\n      durationInFrames: calculateLoopDuration({\n        endAt,\n        mediaDuration,\n        playbackRate: props2.playbackRate ?? 1,\n        startFrom\n      }),\n      layout: \"none\",\n      name,\n      children: /* @__PURE__ */ jsx33(Video, {\n        ...propsOtherThanLoop,\n        ref,\n        _remotionInternalNativeLoopPassed: true\n      })\n    });\n  }\n  if (typeof startFrom !== \"undefined\" || typeof endAt !== \"undefined\") {\n    validateStartFromProps(startFrom, endAt);\n    const startFromFrameNo = startFrom ?? 0;\n    const endAtFrameNo = endAt ?? Infinity;\n    return /* @__PURE__ */ jsx33(Sequence, {\n      layout: \"none\",\n      from: 0 - startFromFrameNo,\n      showInTimeline: false,\n      durationInFrames: endAtFrameNo,\n      name,\n      children: /* @__PURE__ */ jsx33(Video, {\n        pauseWhenBuffering: pauseWhenBuffering ?? false,\n        ...otherProps,\n        ref\n      })\n    });\n  }\n  validateMediaProps(props2, \"Video\");\n  if (environment.isRendering) {\n    return /* @__PURE__ */ jsx33(VideoForRendering, {\n      onDuration,\n      onVideoFrame: onVideoFrame ?? null,\n      ...otherProps,\n      ref\n    });\n  }\n  return /* @__PURE__ */ jsx33(VideoForPreview, {\n    onlyWarnForMediaSeekingError: false,\n    ...otherProps,\n    ref,\n    onVideoFrame: null,\n    pauseWhenBuffering: pauseWhenBuffering ?? false,\n    onDuration,\n    _remotionInternalStack: stack ?? null,\n    _remotionInternalNativeLoopPassed: _remotionInternalNativeLoopPassed ?? false,\n    _remotionDebugSeeking: _remotionDebugSeeking ?? false,\n    showInTimeline: showInTimeline ?? true,\n    onAutoPlayError: onAutoPlayError ?? undefined,\n    crossOrigin\n  });\n};\nvar Video = forwardRef11(VideoForwardingFunction);\naddSequenceStackTraces(Video);\n// src/index.ts\ncheckMultipleRemotionVersions();\nvar Experimental = {\n  Clipper,\n  Null,\n  useIsPlayer\n};\nvar proxyObj = {};\nvar Config = new Proxy(proxyObj, {\n  get(_, prop) {\n    if (prop === \"Bundling\" || prop === \"Rendering\" || prop === \"Log\" || prop === \"Puppeteer\" || prop === \"Output\") {\n      return Config;\n    }\n    return () => {\n      console.warn(\"\\u26A0\\uFE0F  The CLI configuration has been extracted from Remotion Core.\");\n      console.warn(\"Update the import from the config file:\");\n      console.warn();\n      console.warn(\"- Delete:\");\n      console.warn('import {Config} from \"remotion\";');\n      console.warn(\"+ Replace:\");\n      console.warn('import {Config} from \"@remotion/cli/config\";');\n      console.warn();\n      console.warn(\"For more information, see https://www.remotion.dev/docs/4-0-migration.\");\n      process.exit(1);\n    };\n  }\n});\naddSequenceStackTraces(Sequence);\nexport {\n  watchStaticFile,\n  useVideoConfig,\n  useCurrentScale,\n  useCurrentFrame,\n  useBufferState,\n  staticFile,\n  spring,\n  registerRoot,\n  random,\n  prefetch,\n  measureSpring,\n  interpolateColors,\n  interpolate,\n  getStaticFiles,\n  getRemotionEnvironment,\n  getInputProps,\n  delayRender,\n  continueRender,\n  cancelRender,\n  Video,\n  VERSION,\n  Still,\n  Series,\n  Sequence,\n  OffthreadVideo,\n  Loop,\n  Internals,\n  Img,\n  IFrame,\n  Freeze,\n  FolderContext,\n  Folder,\n  Experimental,\n  Easing,\n  Config,\n  Composition,\n  Audio,\n  Artifact,\n  AbsoluteFill\n};\n"],"names":["__defProp","Object","defineProperty","__export","target","all","name","get","enumerable","configurable","set","newValue","createContext","Error","join","createContext2","setClipRegion","clipRegion","getNodeEnvString","getEnvString","getRemotionEnvironment","isPlayer","window","remotion_isPlayer","isRendering","process","env","remotion_puppeteerTimeout","isStudio","remotion_isStudio","originalCreateElement","React","componentsToAddStacksTo","enableSequenceStackTraces","proxy","Proxy","apply","thisArg","argArray","includes","first","props","rest","newProps","stack","Reflect","addSequenceStackTraces","component","push","IsPlayerContext","createContext3","useIsPlayer","useContext2","truthy","value","Boolean","VERSION","AbsoluteFill","forwardRef","AbsoluteFillRefForwarding","ref","style","other","actualStyle","useMemo2","position","top","left","right","bottom","width","height","display","flexDirection","jsx3","SequenceContext","createContext4","SequenceManager","React3","registerSequence","unregisterSequence","sequences","SequenceVisibilityToggleContext","hidden","setHidden","NonceContext","createContext5","getNonce","fastRefreshes","useNonce","context","useContext4","nonce","setNonce","useState3","lastContext","useRef","useEffect3","current","exports_timeline_position_state","useTimelineSetFrame","useTimelinePosition","usePlayingState","persistCurrentFrame","getInitialFrameState","getFrameForComposition","TimelineContext","SetTimelineContext","CompositionManager","createContext6","compositions","registerComposition","unregisterComposition","registerFolder","unregisterFolder","setCurrentCompositionMetadata","updateCompositionDefaultProps","folders","currentCompositionMetadata","canvasContent","setCanvasContent","EditorPropsContext","createContext7","updateProps","resetUnsaved","problematicCharacters","React4","didWarn","trimLeadingSlash","path","startsWith","substring","staticFile","TypeError","includesHex","key","keys","containsHex","hexCode","includesHexOfUnsafeChar","message","console","warn","preprocessed","split","map","element","encodeURIComponent","encodeBySplitting","preparsed","remotion_staticBase","inner","DATE_TOKEN","FILE_TOKEN","deserializeJSONWithCustomFields","data","JSON","parse","_","Date","replace","didWarnSSRImport","getInputProps","param","remotion_inputProps","validateDimension","amount","nameOfProp","location","isNaN","Number","isFinite","validateDurationInFrames","durationInFrames","options","allowFloats","validateFps","fps","isGif","ResolveCompositionContext","createContext8","needsResolution","createRef","composition","calculateMetadata","useResolvedVideoConfig","preferredCompositionId","useContext5","allEditorProps","currentComposition","type","compositionId","find","c","id","selectedEditorProps","useMemo5","result","defaultProps","defaultCodec","useVideo","useContext6","selected","resolved","useMemo6","createContext9","frame","playing","playbackRate","rootId","imperativePlaying","setPlaybackRate","audioAndVideoTags","setFrame","setPlaying","time","localStorage","setItem","stringify","item","getItem","obj","undefined","remotion_initialFrame","videoConfig","state","useContext7","unclamped","Math","min","useMemo7","CanUseRemotionHooks","createContext10","useUnsafeVideoConfig","useContext8","ctxWidth","ctxHeight","ctxDuration","video","useMemo8","useVideoConfig","useContext9","useCurrentFrame","useContext10","cumulatedFrom","relativeFrom","Freeze","_ref14","frameToFreeze","children","active","isActive","useMemo9","timelineContext","useContext11","sequenceContext","timelineValue","jsx8","Provider","RegularSequence","forwardRef2","RegularSequenceRefForwardingFunction","_ref15","from","Infinity","showInTimeline","_remotionInternalLoopDisplay","loopDisplay","_remotionInternalStack","_remotionInternalPremountDisplay","premountDisplay","layout","useState5","String","random","parentSequence","useContext12","nonce3","absoluteFrame","parentSequenceDuration","actualDurationInFrames","max","premounting","useMemo10","_remotionInternalIsPremounting","contextValue","parentFrom","timelineClipName","useEffect5","duration","displayName","parent","endThreshold","ceil","content","styleIfThere","defaultStyle","jsx9","className","PremountedSequence","PremountedSequenceRefForwardingFunction","passedStyle","premountFor","otherProps","premountingActive","opacity","pointerEvents","Sequence","SequenceRefForwardingFunction","RenderAssetManager","createContext11","registerRenderAsset","unregisterRenderAsset","renderAssets","getAbsoluteSrc","relativeSrc","URL","origin","href","calculateLoopDuration","_ref18","endAt","mediaDuration","startFrom","actualDuration","floor","cancelRender","err","error","isErrorLike","remotion_cancelledError","LoopContext","createContext12","Loop","_ref19","times","currentFrame","compDuration","maxTimes","actualTimes","maxFrame","start","useMemo12","numberOfTimes","startOffset","loopContext","iteration","jsx11","useLoop","React8","PreloadContext","createContext13","usePreload","src","useContext14","validateMediaProps","volume","validateStartFromProps","DurationsContext","createContext14","durations","setDurations","mulberry32","a","t","imul","seed","dummy","str","i","chr","hash","length","charCodeAt","hashCode","useMediaStartsAt","useContext15","useFrameForVolumeProp","behavior","loop2","startsAt","getAssetDisplayName","filename","test","splitted","s","flat","playAndHandleNotAllowedError","mediaRef","mediaType","onAutoPlayError","prom","play","catch","log","muted","evaluateVolume","_ref23","mediaVolume","allowAmplificationDuringRender","maxVolume","evaluated","didWarn2","useMediaInTimeline","_ref24","useContext16","actualFrom","initialVolume","useState9","nonce4","doesVolumeChange","volumes","useMemo14","Array","fill","useEffect8","NODE_ENV","startMediaFrom","tag","filter","BufferingContextReact","React11","useBufferState","buffer","useContext17","addBlock","useMemo16","delayPlayback","unblock","checkInfiniteRange","arr","interpolate","input","inputRange","outputRange","checkValidInputRange","easing","num","extrapolateLeft","extrapolateRight","range","findRange","inputMin","inputMax","outputMin","outputMax","interpolateFunction","getExpectedMediaFrameUncorrected","_ref29","getMediaTime","_ref30","toSeconds","round","isIosSafari","isIpadIPodIPhone","navigator","userAgent","isAppleWebKit","getVideoFragmentStart","_ref31","getVideoFragmentEnd","_ref32","appendVideoFragment","_ref33","actualSrc","isIOSSafariAndBlob","withStartHash","useAppendVideoFragment","_ref35","initialActualSrc","initialActualFrom","initialDuration","actualFromRef","useRef5","_ref34","prevStartFrom","newStartFrom","prevDuration","newDuration","previousFrom","newFrom","previousEnd","newEnd","isSubsetOfDuration","alreadyWarned","DEFAULT_ACCEPTABLE_TIMESHIFT","seek","timeToSet","toFixed","currentTime","useMediaPlayback","_ref36","localPlaybackRate","onlyWarnForMediaSeekingError","acceptableTimeshift","pauseWhenBuffering","isPremounting","debugSeeking","globalPlaybackRate","useContext18","buffering3","mediaStartsAt","lastSeekDueToShift","useRef6","lastSeek","isVariableFpsVideoMap","onVariableFpsVideoDetected","useCallback7","_ref28","useRef4","useEffect11","videoTag","requestVideoFrameCallback","cancel","request","cb","info","difference","abs","mediaTime","differenceToLastSeek","cancelVideoFrameCallback","useRequestVideoCallbackTime","desiredUnclampedTime","isMediaTagBuffering","_ref27","shouldBuffer","isBuffering","setIsBuffering","useState11","useEffect10","cleanupFns","cleanup","forEach","fn","onWaiting","onCanPlay","init","onError","addEventListener","once","removeEventListener","readyState","HAVE_FUTURE_DATA","load","useMediaBuffering","bufferUntilFirstFrame","_ref26","bufferingRef","useRef3","useCallback6","requestedTime","playback","onEndedOrPause","useMemo17","useBufferUntilFirstFrame","acceptableTimeShiftButLessThanDuration","useEffect12","pause","isPlayerBuffering","buffering","isMediaTagBufferingOrStalled","tagName","playbackRateToSet","shouldBeTime","mediaTagTime","rvcTime","isVariableFpsVideo","timeShiftMediaTag","timeShiftRvcTag","timeShift","paused","isTime","warnAboutNonSeekableMedia","seekable","end","msg","seekThreshold","makesSenseToSeek","isSomethingElseBuffering","ended","useMediaTagVolume","actualVolume","setActualVolume","useState12","useEffect13","onChange","isApproximatelyTheSame","num1","num2","useSyncVolumeWithMediaTag","_ref37","volumePropFrame","useEffect14","userPreferredVolume","MediaVolumeContext","createContext15","mediaMuted","SetMediaVolumeContext","setMediaMuted","setMediaVolume","useMediaVolumeState","useContext19","useMemo18","useMediaMutedState","SharedAudioContext","createContext16","AudioForPreview","forwardRef3","AudioForDevelopmentForwardRefFunction","initialShouldPreMountAudioElements","useState14","shouldPreMountAudioTags","onDuration","acceptableTimeShiftInSeconds","_remotionInternalNeedsDurationCalculation","_remotionInternalNativeLoopPassed","_remotionDebugSeeking","loopVolumeCurveBehavior","nativeProps","useContext21","preloadedSrc","timelineId","isSequenceHidden","propsToPass","useMemo20","loop","audioRef","useSharedAudio","aud","audioId","ctx","useContext20","elem","useState13","numberOfAudioTags","registerAudio","el","React12","effectToUse","document","updateAudio","unregisterAudio","useImperativeHandle3","currentOnDurationCallback","useRef8","useEffect16","onLoadedMetadata","jsx16","preload","remotion_renderReady","handles","remotion_delayRenderTimeouts","DELAY_RENDER_CALLSTACK_TOKEN","delayRender","label","handle","called","timeoutToUse","timeoutInMilliseconds","retriesLeft","retries","remotion_attempt","timeout","setTimeout","continueRender","h","clearTimeout","AudioForRendering","forwardRef4","AudioForRenderingRefForwardingFunction","useRef9","volumeProp","toneFrequency","delayRenderRetries","delayRenderTimeoutInMilliseconds","useContext22","useMemo21","useImperativeHandle4","useEffect17","remotion_audioEnabled","mediaFrame","audioStartFrame","needsToRenderAudioTag","useLayoutEffect3","newHandle","didLoad","jsx17","Audio","forwardRef5","AudioRefForwardingFunction","audioContext","useContext23","loop3","propsOtherThanLoop","environment","useCallback9","e","currentTarget","errMessage","durationInSeconds","durationFetched","jsx18","startFromFrameNo","endAtFrameNo","createContext17","folderName","parentName","React18","forwardRef6","IFrameRefForwarding","_ref47","onLoad","props2","useState16","useCallback11","didGetError","jsx23","forwardRef7","ImgRefForwarding","_ref48","maxRetries","pauseWhenLoading","onImageFrame","imageRef","useRef11","errors","useContext26","useImperativeHandle6","retryIn","useCallback12","currentSrc","newSrc","removeAttribute","setAttribute","backoff","useLayoutEffect4","onComplete","complete","jsx24","exports_default_css","makeDefaultPreviewCSS","injectCSS","OFFTHREAD_VIDEO_CLASS_NAME","injected","css","head","getElementsByTagName","createElement","appendChild","createTextNode","prepend","scope","backgroundColor","React22","createContext18","setSize","size","translation","x","y","IsInsideSeriesContext","createContext19","IsNotInsideSeriesProvider","_ref54","jsx27","SeriesSequence","forwardRef8","SeriesSequenceRefForwardingFunction","_ref55","_ref","useRequireToBeInsideSeries","React25","jsx28","Map","VideoForPreview","forwardRef9","VideoForDevelopmentRefForwardingFunction","videoRef","useRef13","acceptableTimeShift","onVideoFrame","crossOrigin","useContext28","useState19","useImperativeHandle7","useEffect23","errorHandler","code","_ref61","useEffect22","callback","useEmitVideoFrame","useMemo30","crossOriginValue","jsx30","playsInline","disableRemotePlayback","roundTo6Commas","seekToTime","desiredTime","cancelSeeked","Promise","resolve","now","metadata","displayIn","expectedDisplayTime","waitForSeekedEvent","onDone","wait","then","_ref62","VideoForRendering","forwardRef10","VideoForRenderingForwardFunction","_ref63","volumePropsFrame","useRef14","useContext29","useMemo31","useEffect24","useImperativeHandle8","remotion_videoEnabled","loadedDataHandler","endedHandler","seek2","seekToTimeMultipleUntilRight","threshold","currentCancel","reject","firstSeek","seekedTo","newSeek","newTime","newDifference","thirdSeek","useLayoutEffect7","jsx32","Video","forwardRef11","VideoForwardingFunction","loop4","useContext30","useCallback15","jsx33","checkMultipleRemotionVersions","globalThis","alreadyImported","remotion_imported","Config","prop","exit"],"sourceRoot":""}