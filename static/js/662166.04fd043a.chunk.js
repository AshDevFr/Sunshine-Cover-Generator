"use strict";(self.webpackChunksunshine_image_generator=self.webpackChunksunshine_image_generator||[]).push([[662166],{662166:(e,t,r)=>{r.d(t,{IH:()=>Xe,_8:()=>et});var n=r(365043),o=r(570579),i=(r(297950),Object.defineProperty),a=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0,configurable:!0,set:e=>t[r]=()=>e})};if("function"!==typeof n.createContext){throw new Error(['Remotion requires React.createContext, but it is "undefined".','If you are in a React Server Component, turn it into a client component by adding "use client" at the top of the file.',"","Before:",'  import {useCurrentFrame} from "remotion";',"","After:",'  "use client";','  import {useCurrentFrame} from "remotion";'].join("\n"))}(0,n.createContext)({setClipRegion:()=>{throw new Error("NativeLayers not set")},clipRegion:null});function s(){return["NOD","E_EN","V"].join("")}var u=()=>["e","nv"].join(""),d=()=>{const e="undefined"!==typeof window&&window.remotion_isPlayer,t="undefined"!==typeof window&&"undefined"!==typeof window.process&&"undefined"!==typeof window.process.env&&("test"===window.process[u()][s()]||"production"===window.process[u()][s()]&&"undefined"!==typeof window&&"undefined"!==typeof window.remotion_puppeteerTimeout);return{isStudio:"undefined"!==typeof window&&window.remotion_isStudio,isRendering:t,isPlayer:e}},l=n.createElement,c=[],m=()=>{if(!d().isStudio)return;const e=new Proxy(l,{apply(e,t,r){if(c.includes(r[0])){const[n,o,...i]=r,a={...o??{},stack:(new Error).stack};return Reflect.apply(e,t,[n,a,...i])}return Reflect.apply(e,t,r)}});n.createElement=e},f=e=>{c.push(e),m()},p=(0,n.createContext)(!1),h=()=>(0,n.useContext)(p);function w(e){return Boolean(e)}var y="4.0.211",g=(0,n.forwardRef)(((e,t)=>{const{style:r,...i}=e,a=(0,n.useMemo)((()=>({position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",...r})),[r]);return(0,o.jsx)("div",{ref:t,style:a,...i})})),b=(0,n.createContext)(null),v=n.createContext({registerSequence:()=>{throw new Error("SequenceManagerContext not initialized")},unregisterSequence:()=>{throw new Error("SequenceManagerContext not initialized")},sequences:[]}),E=n.createContext({hidden:{},setHidden:()=>{throw new Error("SequenceVisibilityToggle not initialized")}}),F=(0,n.createContext)({getNonce:()=>0,fastRefreshes:0}),T=()=>{const e=(0,n.useContext)(F),[t,r]=(0,n.useState)((()=>e.getNonce())),o=(0,n.useRef)(e);return(0,n.useEffect)((()=>{o.current!==e&&(o.current=e,r(e.getNonce))}),[e]),t},R={};a(R,{useTimelineSetFrame:()=>G,useTimelinePosition:()=>J,usePlayingState:()=>K,persistCurrentFrame:()=>U,getInitialFrameState:()=>z,getFrameForComposition:()=>H,TimelineContext:()=>O,SetTimelineContext:()=>Y});var C=(0,n.createContext)({compositions:[],registerComposition:()=>{},unregisterComposition:()=>{},registerFolder:()=>{},unregisterFolder:()=>{},setCurrentCompositionMetadata:()=>{},updateCompositionDefaultProps:()=>{},folders:[],currentCompositionMetadata:null,canvasContent:null,setCanvasContent:()=>{}}),x=(0,n.createContext)({props:{},updateProps:()=>{throw new Error("Not implemented")},resetUnsaved:()=>{throw new Error("Not implemented")}}),k=(n.createRef(),{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";"}),I={},$=e=>e.startsWith("/")?$(e.substring(1)):e,S=e=>{if(e.startsWith("http://")||e.startsWith("https://"))throw new TypeError(`staticFile() does not support remote URLs - got "${e}". Instead, pass the URL without wrapping it in staticFile(). See: https://remotion.dev/docs/staticfile-remote-urls`);if(e.startsWith("..")||e.startsWith("./"))throw new TypeError(`staticFile() does not support relative paths - got "${e}". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);if(e.startsWith("/Users")||e.startsWith("/home")||e.startsWith("/tmp")||e.startsWith("/etc")||e.startsWith("/opt")||e.startsWith("/var")||e.startsWith("C:")||e.startsWith("D:")||e.startsWith("E:"))throw new TypeError(`staticFile() does not support absolute paths - got "${e}". Instead, pass the name of a file that is inside the public/ folder. See: https://remotion.dev/docs/staticfile-relative-paths`);if(e.startsWith("public/"))throw new TypeError(`Do not include the public/ prefix when using staticFile() - got "${e}". See: https://remotion.dev/docs/staticfile-relative-paths`);const t=(e=>{for(const t of Object.keys(k))if(e.includes(t))return{containsHex:!0,hexCode:t};return{containsHex:!1}})(e);var r;t.containsHex&&(r=`WARNING: You seem to pass an already encoded path (path contains ${t.hexCode}). Since Remotion 4.0, the encoding is done by staticFile() itself. You may want to remove a encodeURIComponent() wrapping.`,I[r]||(console.warn(r),I[r]=!0));const n=(e=>e.split("/").map((e=>encodeURIComponent(e))).join("/"))(e),o=(e=>{if("undefined"!==typeof window&&window.remotion_staticBase){if(e.startsWith(window.remotion_staticBase))throw new Error(`The value "${e}" is already prefixed with the static base ${window.remotion_staticBase}. You don't need to call staticFile() on it.`);return`${window.remotion_staticBase}/${$(e)}`}return`/${$(e)}`})(n);return o.startsWith("/")?o:`/${o}`},N="remotion-date:",M="remotion-file:",P=e=>JSON.parse(e,((e,t)=>"string"===typeof t&&t.startsWith(N)?new Date(t.replace(N,"")):"string"===typeof t&&t.startsWith(M)?S(t.replace(M,"")):t)),_=!1,D=()=>{if("undefined"===typeof window)return _||(_=!0,console.warn("Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object."),console.warn("To hide this warning, don't call this function on the server:"),console.warn("  typeof window === 'undefined' ? {} : getInputProps()")),{};if(d().isPlayer)throw new Error("You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.");const e=window.remotion_inputProps;if(!e)return{};return P(e)};function A(e,t,r){if("number"!==typeof e)throw new Error(`The "${t}" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${r} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${r} must be finite, but is ${e}.`);if(e%1!==0)throw new TypeError(`The "${t}" prop ${r} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${r} must be positive, but got ${e}.`)}function L(e,t){const{allowFloats:r,component:n}=t;if("undefined"===typeof e)throw new Error(`The "durationInFrames" prop ${n} is missing.`);if("number"!==typeof e)throw new Error(`The "durationInFrames" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${n} must be positive, but got ${e}.`);if(!r&&e%1!==0)throw new TypeError(`The "durationInFrames" prop ${n} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${n} must be finite, but got ${e}.`)}function V(e,t,r){if("number"!==typeof e)throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`);if(r&&e>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")}var j=(0,n.createContext)(null),B=((0,n.createRef)(),e=>Boolean(e.calculateMetadata)),W=e=>{const t=(0,n.useContext)(j),{props:r}=(0,n.useContext)(x),{compositions:o,canvasContent:i,currentCompositionMetadata:a}=(0,n.useContext)(C),s="composition"===i?.type?i.compositionId:null,u=e??s,l=o.find((e=>e.id===u)),c=(0,n.useMemo)((()=>l?r[l.id]??{}:{}),[r,l]);return(0,n.useMemo)((()=>l?a?{type:"success",result:{...a,id:l.id,props:a.props,defaultProps:l.defaultProps??{},defaultCodec:a.defaultCodec}}:B(l)?t[l.id]?t[l.id]:null:(L(l.durationInFrames,{allowFloats:!1,component:`in <Composition id="${l.id}">`}),V(l.fps,`in <Composition id="${l.id}">`,!1),A(l.width,"width",`in <Composition id="${l.id}">`),A(l.height,"height",`in <Composition id="${l.id}">`),{type:"success",result:{width:l.width,height:l.height,fps:l.fps,id:l.id,durationInFrames:l.durationInFrames,defaultProps:l.defaultProps??{},props:{...l.defaultProps??{},...c??{},..."undefined"===typeof window||d().isPlayer?{}:D()??{}},defaultCodec:null}}):null),[l,t,a,c])},q=()=>{const{canvasContent:e,compositions:t,currentCompositionMetadata:r}=(0,n.useContext)(C),o=t.find((t=>"composition"===e?.type&&t.id===e.compositionId)),i=W(o?.id??null);return(0,n.useMemo)((()=>i?"error"===i.type||"loading"===i.type?null:o?{...i.result,defaultProps:o.defaultProps??{},id:o.id,...r??{},component:o.component}:null:null),[r,i,o])},O=(0,n.createContext)({frame:{},playing:!1,playbackRate:1,rootId:"",imperativePlaying:{current:!1},setPlaybackRate:()=>{throw new Error("default")},audioAndVideoTags:{current:[]}}),Y=(0,n.createContext)({setFrame:()=>{throw new Error("default")},setPlaying:()=>{throw new Error("default")}}),U=e=>{localStorage.setItem("remotion.time-all",JSON.stringify(e))},z=()=>{const e=localStorage.getItem("remotion.time-all")??"{}";return JSON.parse(e)},H=e=>{const t=localStorage.getItem("remotion.time-all")??"{}",r=JSON.parse(t);return void 0!==r[e]?Number(r[e]):"undefined"===typeof window?0:window.remotion_initialFrame??0},J=()=>{const e=q(),t=(0,n.useContext)(O);if(!e)return"undefined"===typeof window?0:window.remotion_initialFrame??0;const r=t.frame[e.id]??(d().isPlayer?0:H(e.id));return Math.min(e.durationInFrames-1,r)},G=()=>{const{setFrame:e}=(0,n.useContext)(Y);return e},K=()=>{const{playing:e,imperativePlaying:t}=(0,n.useContext)(O),{setPlaying:r}=(0,n.useContext)(Y);return(0,n.useMemo)((()=>[e,r,t]),[t,e,r])},Z=(0,n.createContext)(!1),Q=()=>{const e=(0,n.useContext)(b),t=e?.width??null,r=e?.height??null,o=e?.durationInFrames??null,i=q();return(0,n.useMemo)((()=>{if(!i)return null;const{id:e,durationInFrames:n,fps:a,height:s,width:u,defaultProps:d,props:l,defaultCodec:c}=i;return{id:e,width:t??u,height:r??s,fps:a,durationInFrames:o??n,defaultProps:d,props:l,defaultCodec:c}}),[o,r,t,i])},X=()=>{const e=Q(),t=(0,n.useContext)(Z),r=h();if(!e){if("undefined"!==typeof window&&window.remotion_isPlayer||r)throw new Error(["No video config found. Likely reasons:","- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.","- You have multiple versions of Remotion installed which causes the React context to get lost."].join("-"));throw new Error("No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.")}if(!t)throw new Error("Called useVideoConfig() outside a Remotion composition.");return e},ee=()=>{if(!(0,n.useContext)(Z)){if(d().isPlayer)throw new Error("useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples");throw new Error("useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions")}const e=J(),t=(0,n.useContext)(b);return e-(t?t.cumulatedFrom+t.relativeFrom:0)},te=e=>{let{frame:t,children:r,active:i=!0}=e;const a=ee(),s=X();if("undefined"===typeof t)throw new Error("The <Freeze /> component requires a 'frame' prop, but none was passed.");if("number"!==typeof t)throw new Error("The 'frame' prop of <Freeze /> must be a number, but is of type "+typeof t);if(Number.isNaN(t))throw new Error("The 'frame' prop of <Freeze /> must be a real number, but it is NaN.");if(!Number.isFinite(t))throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${t}.`);const u=(0,n.useMemo)((()=>"boolean"===typeof i?i:"function"===typeof i?i(a):void 0),[i,a]),d=(0,n.useContext)(O),l=(0,n.useContext)(b),c=l?.relativeFrom??0,m=(0,n.useMemo)((()=>u?{...d,playing:!1,imperativePlaying:{current:!1},frame:{[s.id]:t+c}}:d),[u,d,s.id,t,c]);return(0,o.jsx)(O.Provider,{value:m,children:r})},re=(0,n.forwardRef)(((e,t)=>{let{from:r=0,durationInFrames:i=1/0,children:a,name:s,height:u,width:l,showInTimeline:c=!0,_remotionInternalLoopDisplay:m,_remotionInternalStack:f,_remotionInternalPremountDisplay:p,...h}=e;const{layout:w="absolute-fill"}=h,[y]=(0,n.useState)((()=>String(Math.random()))),F=(0,n.useContext)(b),{rootId:R}=(0,n.useContext)(O),C=F?F.cumulatedFrom+F.relativeFrom:0,x=T();if("absolute-fill"!==w&&"none"!==w)throw new TypeError(`The layout prop of <Sequence /> expects either "absolute-fill" or "none", but you passed: ${w}`);if("none"===w&&"undefined"!==typeof h.style)throw new TypeError('If layout="none", you may not pass a style.');if("number"!==typeof i)throw new TypeError(`You passed to durationInFrames an argument of type ${typeof i}, but it must be a number.`);if(i<=0)throw new TypeError(`durationInFrames must be positive, but got ${i}`);if("number"!==typeof r)throw new TypeError(`You passed to the "from" props of your <Sequence> an argument of type ${typeof r}, but it must be a number.`);if(!Number.isFinite(r))throw new TypeError(`The "from" prop of a sequence must be finite, but got ${r}.`);const k=J(),I=X(),$=F?Math.min(F.durationInFrames-r,i):i,S=Math.max(0,Math.min(I.durationInFrames-r,$)),{registerSequence:N,unregisterSequence:M}=(0,n.useContext)(v),{hidden:P}=(0,n.useContext)(E),_=(0,n.useMemo)((()=>F?.premounting??Boolean(h._remotionInternalIsPremounting)),[h._remotionInternalIsPremounting,F?.premounting]),D=(0,n.useMemo)((()=>({cumulatedFrom:C,relativeFrom:r,durationInFrames:S,parentFrom:F?.relativeFrom??0,id:y,height:u??F?.height??null,width:l??F?.width??null,premounting:_})),[C,r,S,F,y,u,l,_]),A=(0,n.useMemo)((()=>s??""),[s]);(0,n.useEffect)((()=>{if(d().isStudio)return N({from:r,duration:S,id:y,displayName:A,parent:F?.id??null,type:"sequence",rootId:R,showInTimeline:c,nonce:x,loopDisplay:m,stack:f??null,premountDisplay:p??null}),()=>{M(y)}}),[i,y,s,N,A,M,F?.id,S,R,r,c,x,m,f,p]);const L=Math.ceil(C+r+i-1),V=k<C+r||k>L?null:a,j="none"===h.layout?void 0:h.style,B=(0,n.useMemo)((()=>({flexDirection:void 0,...l?{width:l}:{},...u?{height:u}:{},...j??{}})),[u,j,l]);if(null!==t&&"none"===w)throw new TypeError('It is not supported to pass both a `ref` and `layout="none"` to <Sequence />.');return P[y]??!1?null:(0,o.jsx)(b.Provider,{value:D,children:null===V?null:"none"===h.layout?V:(0,o.jsx)(g,{ref:t,style:B,className:h.className,children:V})})})),ne=(0,n.forwardRef)(((e,t)=>{const r=ee();if("none"===e.layout)throw new Error('`<Sequence>` with `premountFor` prop does not support layout="none"');const{style:i,from:a=0,premountFor:s=0,...u}=e,d=r<a&&r>=a-s,l=(0,n.useMemo)((()=>({...i,opacity:d?0:1,pointerEvents:d?"none":i?.pointerEvents??void 0})),[d,i]);return(0,o.jsx)(te,{frame:a,active:d,children:(0,o.jsx)(oe,{ref:t,from:a,style:l,_remotionInternalPremountDisplay:s,_remotionInternalIsPremounting:d,...u})})})),oe=(0,n.forwardRef)(((e,t)=>"none"!==e.layout&&e.premountFor&&!d().isRendering?(0,o.jsx)(ne,{...e,ref:t}):(0,o.jsx)(re,{...e,ref:t}))),ie=(0,n.createContext)({registerRenderAsset:()=>{},unregisterRenderAsset:()=>{},renderAssets:[]}),ae=e=>"undefined"===typeof window?e:new URL(e,window.origin).href,se=e=>{let{endAt:t,mediaDuration:r,playbackRate:n,startFrom:o}=e,i=r;"undefined"!==typeof t&&(i=t),"undefined"!==typeof o&&(i-=o);const a=i/n;return Math.floor(a)};function ue(e){let t;throw de(e)?(t=e,t.stack||(t.stack=new Error(t.message).stack)):t="string"===typeof e?Error(e):Error("Rendering was cancelled"),window.remotion_cancelledError=t.stack,t}var de=e=>e instanceof Error||null!==e&&("object"===typeof e&&("stack"in e&&("string"===typeof e.stack&&("message"in e&&"string"===typeof e.message)))),le=(0,n.createContext)(null),ce=e=>{let{durationInFrames:t,times:r=1/0,children:i,name:a,...s}=e;const u=ee(),{durationInFrames:d}=X();if(L(t,{component:"of the <Loop /> component",allowFloats:!0}),"number"!==typeof r)throw new TypeError(`You passed to "times" an argument of type ${typeof r}, but it must be a number.`);if(r!==1/0&&r%1!==0)throw new TypeError(`The "times" prop of a loop must be an integer, but got ${r}.`);if(r<0)throw new TypeError(`The "times" prop of a loop must be at least 0, but got ${r}`);const l=Math.ceil(d/t),c=Math.min(l,r),m="none"===s.layout?void 0:s.style,f=t*(c-1),p=Math.floor(u/t)*t,h=Math.min(p,f),w=(0,n.useMemo)((()=>({numberOfTimes:c,startOffset:-h,durationInFrames:t})),[c,t,h]),y=(0,n.useMemo)((()=>({iteration:Math.floor(u/t),durationInFrames:t})),[u,t]);return(0,o.jsx)(le.Provider,{value:y,children:(0,o.jsx)(oe,{durationInFrames:t,from:h,name:a??"<Loop>",_remotionInternalLoopDisplay:w,layout:s.layout,style:m,children:i})})};ce.useLoop=()=>n.useContext(le);var me=(0,n.createContext)({}),fe=e=>(0,n.useContext)(me)[e]??e,pe=(e,t)=>{if("number"!==typeof e.volume&&"function"!==typeof e.volume&&"undefined"!==typeof e.volume)throw new TypeError(`You have passed a volume of type ${typeof e.volume} to your <${t} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);if("number"===typeof e.volume&&e.volume<0)throw new TypeError(`You have passed a volume below 0 to your <${t} /> component. Volume must be between 0 and 1`);if("number"!==typeof e.playbackRate&&"undefined"!==typeof e.playbackRate)throw new TypeError(`You have passed a playbackRate of type ${typeof e.playbackRate} to your <${t} /> component. Playback rate must a real number or undefined.`);if("number"===typeof e.playbackRate&&(isNaN(e.playbackRate)||!Number.isFinite(e.playbackRate)||e.playbackRate<=0))throw new TypeError(`You have passed a playbackRate of ${e.playbackRate} to your <${t} /> component. Playback rate must be a real number above 0.`)},he=(e,t)=>{if("undefined"!==typeof e){if("number"!==typeof e)throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof e}.`);if(isNaN(e)||e===1/0)throw new TypeError("startFrom prop can not be NaN or Infinity.");if(e<0)throw new TypeError(`startFrom must be greater than equal to 0 instead got ${e}.`)}if("undefined"!==typeof t){if("number"!==typeof t)throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof t}.`);if(isNaN(t))throw new TypeError("endAt prop can not be NaN.");if(t<=0)throw new TypeError(`endAt must be a positive number, instead got ${t}.`)}if(t<e)throw new TypeError("endAt prop must be greater than startFrom prop.")},we=(0,n.createContext)({durations:{},setDurations:()=>{throw new Error("context missing")}});function ye(e){let t=e+1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}var ge=(e,t)=>{if(void 0!==t)throw new TypeError("random() takes only one argument");if(null===e)return Math.random();if("string"===typeof e)return ye(function(e){let t=0,r=0,n=0;for(t=0;t<e.length;t++)r=e.charCodeAt(t),n=(n<<5)-n+r,n|=0;return n}(e));if("number"===typeof e)return ye(1e10*e);throw new Error("random() argument must be a number or a string")},be=()=>{const e=(0,n.useContext)(b);return Math.min(0,e?.relativeFrom??0)},ve=e=>{const t=ce.useLoop(),r=ee(),n=be();return"repeat"===e||null===t?r+n:r+n+t.durationInFrames*t.iteration},Ee=e=>{if(/data:|blob:/.test(e.substring(0,5)))return"Data URL";const t=e.split("/").map((e=>e.split("\\"))).flat(1);return t[t.length-1]},Fe=(e,t,r)=>{const{current:n}=e;if(!n)return;const o=n.play();o.catch&&o.catch((e=>{if(n&&!e.message.includes("request was interrupted by a call to pause")&&!e.message.includes("The operation was aborted.")&&!e.message.includes("The fetching process for the media resource was aborted by the user agent")&&!e.message.includes("request was interrupted by a new load request")&&!e.message.includes("because the media was removed from the document")&&(console.log(`Could not play ${t} due to following error: `,e),!n.muted)){if(r)return void r();console.log("The video will be muted and we'll retry playing it."),"video"===t&&d().isPlayer&&console.log("Use onAutoPlayError() to handle this error yourself."),n.muted=!0,n.play()}}))},Te=e=>{let{frame:t,volume:r,mediaVolume:n=1,allowAmplificationDuringRender:o}=e;const i=o?1/0:1;if("number"===typeof r)return Math.min(i,r*n);if("undefined"===typeof r)return Number(n);const a=r(t)*n;if("number"!==typeof a)throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof a} for frame ${t}`);if(Number.isNaN(a))throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${t}.`);if(!Number.isFinite(a))throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${t}.`);return Math.max(0,Math.min(i,a))},Re={},Ce=e=>{let{volume:t,mediaVolume:r,mediaRef:o,src:i,mediaType:a,playbackRate:s,displayName:u,id:l,stack:c,showInTimeline:m,premountDisplay:f,onAutoPlayError:p}=e;const h=X(),{rootId:w,audioAndVideoTags:y}=(0,n.useContext)(O),g=(0,n.useContext)(b),E=g?g.relativeFrom+g.cumulatedFrom:0,[F]=K(),R=be(),{registerSequence:C,unregisterSequence:x}=(0,n.useContext)(v),[k]=(0,n.useState)((()=>t)),I=T(),$=g?Math.min(g.durationInFrames,h.durationInFrames):h.durationInFrames,S="function"===typeof t,N=(0,n.useMemo)((()=>"number"===typeof t?t:new Array(Math.floor(Math.max(0,$+R))).fill(!0).map(((e,n)=>Te({frame:n+R,volume:t,mediaVolume:r,allowAmplificationDuringRender:!1}))).join(",")),[$,R,t,r]);(0,n.useEffect)((()=>{var e;"number"===typeof t&&t!==k&&(Re[e=`Remotion: The ${a} with src ${i} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/using-audio/#controlling-volume`]||(console.warn(e),Re[e]=!0))}),[k,a,i,t]),(0,n.useEffect)((()=>{if(o.current){if(!i)throw new Error("No src passed");if((d().isStudio||"test"===window.process?.env?.NODE_ENV)&&m)return C({type:a,src:i,id:l,duration:$,from:0,parent:g?.id??null,displayName:u??Ee(i),rootId:w,volume:N,showInTimeline:!0,nonce:I,startMediaFrom:0-R,doesVolumeChange:S,loopDisplay:void 0,playbackRate:s,stack:c,premountDisplay:f}),()=>{x(l)}}}),[E,$,l,g,i,C,w,x,h,N,S,I,o,a,R,s,u,c,m,f]),(0,n.useEffect)((()=>{const e={id:l,play:()=>{if(F)return Fe(o,a,p)}};return y.current.push(e),()=>{y.current=y.current.filter((e=>e.id!==l))}}),[y,l,o,a,p,F])},xe=n.createContext(null),ke=()=>{const e=(0,n.useContext)(xe),t=e?e.addBlock:null;return(0,n.useMemo)((()=>({delayPlayback:()=>{if(!t)throw new Error("Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state");const{unblock:e}=t({id:String(Math.random())});return{unblock:e}}})),[t])};function Ie(e,t){if(t.length<2)throw new Error(e+" must have at least 2 elements");for(const r of t){if("number"!==typeof r)throw new Error(`${e} must contain only numbers`);if(!Number.isFinite(r))throw new Error(`${e} must contain only finite numbers, but got [${t.join(",")}]`)}}function $e(e,t,r,n){if("undefined"===typeof e)throw new Error("input can not be undefined");if("undefined"===typeof t)throw new Error("inputRange can not be undefined");if("undefined"===typeof r)throw new Error("outputRange can not be undefined");if(t.length!==r.length)throw new Error("inputRange ("+t.length+") and outputRange ("+r.length+") must have the same length");Ie("inputRange",t),Ie("outputRange",r),function(e){for(let t=1;t<e.length;++t)if(!(e[t]>e[t-1]))throw new Error(`inputRange must be strictly monotonically increasing but got [${e.join(",")}]`)}(t);const o=n?.easing??(e=>e);let i="extend";void 0!==n?.extrapolateLeft&&(i=n.extrapolateLeft);let a="extend";if(void 0!==n?.extrapolateRight&&(a=n.extrapolateRight),"number"!==typeof e)throw new TypeError("Cannot interpolate an input which is not a number");const s=function(e,t){let r;for(r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(e,t);return function(e,t,r,n){const{extrapolateLeft:o,extrapolateRight:i,easing:a}=n;let s=e;const[u,d]=t,[l,c]=r;if(s<u){if("identity"===o)return s;if("clamp"===o)s=u;else if("wrap"===o){const e=d-u;s=((s-u)%e+e)%e+u}}if(s>d){if("identity"===i)return s;if("clamp"===i)s=d;else if("wrap"===i){const e=d-u;s=((s-u)%e+e)%e+u}}return l===c?l:(s=(s-u)/(d-u),s=a(s),s=s*(c-l)+l,s)}(e,[t[s],t[s+1]],[r[s],r[s+1]],{easing:o,extrapolateLeft:i,extrapolateRight:a})}var Se=e=>{let{frame:t,playbackRate:r,startFrom:n}=e;return $e(t,[-1,n,n+1],[-1,n,n+r])},Ne=e=>{let{fps:t,frame:r,playbackRate:n,startFrom:o}=e;return Se({frame:r,playbackRate:n,startFrom:o})*(1e3/t)/1e3},Me=(e,t)=>Math.round(e/t*100)/100,Pe=()=>{if("undefined"===typeof window)return!1;const e=/iP(ad|od|hone)/i.test(window.navigator.userAgent),t=/AppleWebKit/.test(window.navigator.userAgent);return e&&t},_e=e=>{let{actualFrom:t,fps:r}=e;return Me(Math.max(0,-t),r)},De=e=>{let{duration:t,fps:r}=e;return Me(t,r)},Ae=e=>{let{actualSrc:t,actualFrom:r,duration:n,fps:o}=e;if((e=>Pe()&&e.startsWith("blob:"))(t))return t;if(t.startsWith("data:"))return t;if(Boolean(new URL(t,("undefined"===typeof window?null:window.location.href)??"http://localhost:3000").hash))return t;if(!Number.isFinite(r))return t;const i=`${t}#t=${_e({actualFrom:r,fps:o})}`;return Number.isFinite(n)?`${i},${De({duration:n,fps:o})}`:i},Le=e=>{let{actualSrc:t,actualFrom:r,duration:o,fps:i}=e;const a=(0,n.useRef)(r),s=(0,n.useRef)(o),u=(0,n.useRef)(t);(e=>{let{prevStartFrom:t,newStartFrom:r,prevDuration:n,newDuration:o,fps:i}=e;const a=_e({actualFrom:t,fps:i}),s=_e({actualFrom:r,fps:i}),u=De({duration:n,fps:i}),d=De({duration:o,fps:i});return!(s<a)&&!(d>u)})({prevStartFrom:a.current,newStartFrom:r,prevDuration:s.current,newDuration:o,fps:i})&&t===u.current||(a.current=r,s.current=o,u.current=t);return Ae({actualSrc:u.current,actualFrom:a.current,duration:s.current,fps:i})},Ve={},je=.45,Be=(e,t)=>{if(!e.current)return;const r=Pe()?Number(t.toFixed(1)):t;e.current.currentTime=r},We=e=>{let{mediaRef:t,src:r,mediaType:o,playbackRate:i,onlyWarnForMediaSeekingError:a,acceptableTimeshift:s,pauseWhenBuffering:u,isPremounting:d,debugSeeking:l,onAutoPlayError:c}=e;const{playbackRate:m}=(0,n.useContext)(O),f=ee(),p=J(),[h]=K(),w=(0,n.useContext)(xe),{fps:y}=X(),g=be(),b=(0,n.useRef)(null),v=(0,n.useRef)(null);if(!w)throw new Error("useMediaPlayback must be used inside a <BufferingContext>");const E=(0,n.useRef)({}),F=(0,n.useCallback)((()=>{r&&(l&&console.log(`Detected ${r} as a variable FPS video. Disabling buffering while seeking.`),E.current[r]=!0)}),[l,r]),T=(e=>{let{mediaRef:t,mediaType:r,lastSeek:o,onVariableFpsVideoDetected:i}=e;const a=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const{current:e}=t;if(!e)return void(a.current=null);if(a.current=e.currentTime,"video"!==r)return void(a.current=null);const n=e;if(!n.requestVideoFrameCallback)return;let s=()=>{};const u=()=>{if(!n)return;const e=n.requestVideoFrameCallback(((e,t)=>{if(null!==a.current){const e=Math.abs(a.current-t.mediaTime),r=Math.abs(null===o.current?1/0:t.mediaTime-o.current);e>.5&&r>.5&&t.mediaTime>a.current&&i()}a.current=t.mediaTime,u()}));s=()=>{n.cancelVideoFrameCallback(e),s=()=>{}}};return u(),()=>{s()}}),[o,t,r,i]),a})({mediaRef:t,mediaType:o,lastSeek:v,onVariableFpsVideoDetected:F}),R=Ne({frame:f,playbackRate:i,startFrom:-g,fps:y}),C=(e=>{let{element:t,shouldBuffer:r,isPremounting:o}=e;const i=ke(),[a,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{let e=[];const{current:n}=t;if(!n)return;if(!r)return;if(o)return;const a=()=>{e.forEach((e=>e())),e=[],s(!1)},u=()=>{s(!0);const{unblock:t}=i.delayPlayback(),r=()=>{a(),d()},o=()=>{a(),d()};n.addEventListener("canplay",r,{once:!0}),e.push((()=>{n.removeEventListener("canplay",r)})),n.addEventListener("error",o,{once:!0}),e.push((()=>{n.removeEventListener("error",o)})),e.push((()=>{t()}))},d=()=>{n.readyState<n.HAVE_FUTURE_DATA?(u(),navigator.userAgent.includes("Firefox/")||n.load()):(n.addEventListener("waiting",u),e.push((()=>{n.removeEventListener("waiting",u)})))};return d(),()=>{a()}}),[i,t,o,r]),a})({element:t,shouldBuffer:u,isPremounting:d}),{bufferUntilFirstFrame:x,isBuffering:k}=(e=>{let{mediaRef:t,mediaType:r,onVariableFpsVideoDetected:o,pauseWhenBuffering:i}=e;const a=(0,n.useRef)(!1),{delayPlayback:s}=ke(),u=(0,n.useCallback)((e=>{if("video"!==r)return;if(!i)return;const n=t.current;if(!n)return;if(!n.requestVideoFrameCallback)return;a.current=!0;const u=s(),d=()=>{u.unblock(),n.removeEventListener("ended",d,{once:!0}),n.removeEventListener("pause",d,{once:!0}),a.current=!1},l=()=>{d()};n.requestVideoFrameCallback(((t,r)=>{Math.abs(r.mediaTime-e)>.5&&o(),n.requestVideoFrameCallback((()=>{d()}))})),n.addEventListener("ended",l,{once:!0}),n.addEventListener("pause",l,{once:!0})}),[s,t,r,o,i]);return(0,n.useMemo)((()=>({isBuffering:()=>a.current,bufferUntilFirstFrame:u})),[u])})({mediaRef:t,mediaType:o,onVariableFpsVideoDetected:F,pauseWhenBuffering:u}),I=i*m,$=t.current?.duration?Math.min(t.current.duration,s??je):s;(0,n.useEffect)((()=>{if(!h)return void t.current?.pause();const e=w.buffering.current,r=C||k();e&&!r&&t.current?.pause()}),[w.buffering,k,C,t,h]),(0,n.useEffect)((()=>{const e="audio"===o?"<Audio>":"<Video>";if(!t.current)throw new Error(`No ${o} ref found`);if(!r)throw new Error(`No 'src' attribute was passed to the ${e} element.`);const n=Math.max(0,I);t.current.playbackRate!==n&&(t.current.playbackRate=n);const{duration:i}=t.current,s=!Number.isNaN(i)&&Number.isFinite(i)?Math.min(i,R):R,u=t.current.currentTime,d=T.current??null,m=E.current[r],f=Math.abs(s-u),y=d?Math.abs(s-d):null,g=y&&!m?y:f;if(l&&console.log({mediaTagTime:u,rvcTime:d,shouldBeTime:s,state:t.current.readyState,playing:!t.current.paused,isVariableFpsVideo:m}),g>$&&b.current!==s)return l&&console.log("Seeking",{shouldBeTime:s,isTime:u,rvcTime:d,timeShift:g,isVariableFpsVideo:m}),Be(t,s),v.current=s,b.current=s,h&&!m&&(I>0&&x(s),t.current.paused&&Fe(t,o,c)),void(a||((e,t)=>{if(null===e)return;if(0===e.seekable.length)return;if(e.seekable.length>1)return;if(Ve[e.src])return;const r=e.seekable.start(0),n=e.seekable.end(0);if(0===r&&0===n){const r=[`The media ${e.src} cannot be seeked. This could be one of few reasons:`,"1) The media resource was replaced while the video is playing but it was not loaded yet.","2) The media does not support seeking.","3) The media was loaded with security headers prventing it from being included.","Please see https://remotion.dev/docs/non-seekable-media for assistance."].join("\n");if("console-error"===t)console.error(r);else{if("console-warning"!==t)throw new Error(r);console.warn(`The media ${e.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`)}Ve[e.src]=!0}})(t.current,a?"console-warning":"console-error"));const F=h?.15:1e-5,S=Math.abs(t.current.currentTime-s)>F,N=C||k(),M=w.buffering.current&&!N;h&&!M?(t.current.paused&&!t.current.ended||0===p)&&(S&&(Be(t,s),v.current=s),Fe(t,o,c),m||I>0&&x(s)):S&&(Be(t,s),v.current=s)}),[p,$,x,w.buffering,T,l,R,k,C,t,o,a,I,h,r,c])},qe=e=>{const[t,r]=(0,n.useState)(1);return(0,n.useEffect)((()=>{const t=e.current;if(!t)return;const n=()=>{r(t.volume)};return t.addEventListener("volumechange",n),()=>t.removeEventListener("volumechange",n)}),[e]),(0,n.useEffect)((()=>{const n=e.current;n&&n.volume!==t&&r(n.volume)}),[t,e]),t},Oe=(e,t)=>Math.abs(e-t)<1e-5,Ye=e=>{let{volumePropFrame:t,actualVolume:r,volume:o,mediaVolume:i,mediaRef:a}=e;(0,n.useEffect)((()=>{const e=Te({frame:t,volume:o,mediaVolume:i,allowAmplificationDuringRender:!1});!Oe(e,r)&&a.current&&(a.current.volume=e)}),[r,t,a,o,i])},Ue=(0,n.createContext)({mediaMuted:!1,mediaVolume:1}),ze=(0,n.createContext)({setMediaMuted:()=>{throw new Error("default")},setMediaVolume:()=>{throw new Error("default")}}),He=()=>{const{mediaVolume:e}=(0,n.useContext)(Ue),{setMediaVolume:t}=(0,n.useContext)(ze);return(0,n.useMemo)((()=>[e,t]),[e,t])},Je=()=>{const{mediaMuted:e}=(0,n.useContext)(Ue),{setMediaMuted:t}=(0,n.useContext)(ze);return(0,n.useMemo)((()=>[e,t]),[e,t])},Ge=(0,n.createContext)(null),Ke=(0,n.forwardRef)(((e,t)=>{const[r]=(0,n.useState)(e.shouldPreMountAudioTags);if(e.shouldPreMountAudioTags!==r)throw new Error("Cannot change the behavior for pre-mounting audio tags dynamically.");const{volume:i,muted:a,playbackRate:s,shouldPreMountAudioTags:u,src:d,onDuration:l,acceptableTimeShiftInSeconds:c,_remotionInternalNeedsDurationCalculation:m,_remotionInternalNativeLoopPassed:f,_remotionInternalStack:p,_remotionDebugSeeking:h,allowAmplificationDuringRender:w,name:y,pauseWhenBuffering:g,showInTimeline:v,loopVolumeCurveBehavior:F,stack:T,...R}=e,[C]=He(),[x]=Je(),k=ve(F??"repeat"),{hidden:I}=(0,n.useContext)(E);if(!d)throw new TypeError("No 'src' was passed to <Audio>.");const $=fe(d),S=(0,n.useContext)(b),[N]=(0,n.useState)((()=>String(Math.random()))),M=I[N]??!1,P=Te({frame:k,volume:i,mediaVolume:C,allowAmplificationDuringRender:!1}),_=(0,n.useMemo)((()=>({muted:a||x||M||P<=0,src:$,loop:f,...R})),[f,M,x,a,R,$,P]),D=((e,t)=>{const r=(0,n.useContext)(Ge),[o]=(0,n.useState)((()=>r&&r.numberOfAudioTags>0?r.registerAudio(e,t):{el:n.createRef(),id:Math.random(),props:e,audioId:t})),i=n.useInsertionEffect??n.useLayoutEffect;return"undefined"!==typeof document&&(i((()=>{r&&r.numberOfAudioTags>0&&r.updateAudio({id:o.id,aud:e,audioId:t})}),[e,r,o.id,t]),i((()=>()=>{r&&r.numberOfAudioTags>0&&r.unregisterAudio(o.id)}),[r,o.id])),o})(_,(0,n.useMemo)((()=>`audio-${ge(d??"")}-${S?.relativeFrom}-${S?.cumulatedFrom}-${S?.durationInFrames}-muted:${e.muted}-loop:${e.loop}`),[d,S?.relativeFrom,S?.cumulatedFrom,S?.durationInFrames,e.muted,e.loop])).el,A=qe(D);Ye({volumePropFrame:k,actualVolume:A,volume:i,mediaVolume:C,mediaRef:D}),Ce({volume:i,mediaVolume:C,mediaRef:D,src:d,mediaType:"audio",playbackRate:s??1,displayName:y??null,id:N,stack:p,showInTimeline:v,premountDisplay:null,onAutoPlayError:null}),We({mediaRef:D,src:d,mediaType:"audio",playbackRate:s??1,onlyWarnForMediaSeekingError:!1,acceptableTimeshift:c??je,isPremounting:Boolean(S?.premounting),pauseWhenBuffering:g,debugSeeking:h,onAutoPlayError:null}),(0,n.useImperativeHandle)(t,(()=>D.current),[D]);const L=(0,n.useRef)();return L.current=l,(0,n.useEffect)((()=>{const{current:e}=D;if(!e)return;if(e.duration)return void L.current?.(e.src,e.duration);const t=()=>{L.current?.(e.src,e.duration)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}),[D,d]),r?null:(0,o.jsx)("audio",{ref:D,preload:"metadata",..._})}));"undefined"!==typeof window&&(window.remotion_renderReady=!1);var Ze=[];"undefined"!==typeof window&&(window.remotion_delayRenderTimeouts={});var Qe="The delayRender was called:",Xe=(e,t)=>{if("string"!==typeof e&&"undefined"!==typeof e)throw new Error("The label parameter of delayRender() must be a string or undefined, got: "+JSON.stringify(e));const r=Math.random();Ze.push(r);const n=Error().stack?.replace(/^Error/g,"")??"";if(d().isRendering){const o=(t?.timeoutInMilliseconds??("undefined"===typeof window?3e4:window.remotion_puppeteerTimeout??3e4))-2e3;if("undefined"!==typeof window){const i=(t?.retries??0)-(window.remotion_attempt-1);window.remotion_delayRenderTimeouts[r]={label:e??null,timeout:setTimeout((()=>{const t=["A delayRender()",e?`"${e}"`:null,`was called but not cleared after ${o}ms. See https://remotion.dev/docs/timeout for help.`,i>0?"Retries left: "+i:null,i>0?"- Rendering the frame will be retried.":null,Qe,n].filter(w).join(" ");ue(Error(t))}),o)}}}return"undefined"!==typeof window&&(window.remotion_renderReady=!1),r},et=e=>{if("undefined"===typeof e)throw new TypeError("The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.");if("number"!==typeof e)throw new TypeError("The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: "+JSON.stringify(e));0===(Ze=Ze.filter((t=>t!==e||(d().isRendering&&(clearTimeout(window.remotion_delayRenderTimeouts[e].timeout),delete window.remotion_delayRenderTimeouts[e]),!1)))).length&&"undefined"!==typeof window&&(window.remotion_renderReady=!0)},tt=(0,n.forwardRef)(((e,t)=>{const r=(0,n.useRef)(null),{volume:i,playbackRate:a,allowAmplificationDuringRender:s,onDuration:u,toneFrequency:d,_remotionInternalNeedsDurationCalculation:l,_remotionInternalNativeLoopPassed:c,acceptableTimeShiftInSeconds:m,name:f,onError:p,delayRenderRetries:h,delayRenderTimeoutInMilliseconds:w,loopVolumeCurveBehavior:y,pauseWhenBuffering:g,...v}=e,E=J(),F=ve(y??"repeat"),T=ee(),R=(0,n.useContext)(b),{registerRenderAsset:C,unregisterRenderAsset:x}=(0,n.useContext)(ie),k=(0,n.useMemo)((()=>`audio-${ge(e.src??"")}-${R?.relativeFrom}-${R?.cumulatedFrom}-${R?.durationInFrames}`),[e.src,R?.relativeFrom,R?.cumulatedFrom,R?.durationInFrames]),I=Te({volume:i,frame:F,mediaVolume:1,allowAmplificationDuringRender:s??!1});(0,n.useImperativeHandle)(t,(()=>r.current),[]),(0,n.useEffect)((()=>{if(!e.src)throw new Error("No src passed");if(window.remotion_audioEnabled&&!e.muted&&!(I<=0))return C({type:"audio",src:ae(e.src),id:k,frame:E,volume:I,mediaFrame:T,playbackRate:e.playbackRate??1,allowAmplificationDuringRender:s??!1,toneFrequency:d??null,audioStartFrame:Math.max(0,-(R?.relativeFrom??0))}),()=>x(k)}),[e.muted,e.src,C,E,k,x,I,F,T,a,e.playbackRate,s,d,R?.relativeFrom]);const{src:$}=e,S=t||l;return(0,n.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;if(!S)return;const e=Xe("Loading <Audio> duration with src="+$,{retries:h??void 0,timeoutInMilliseconds:w??void 0}),{current:t}=r,n=()=>{t?.duration&&u(t.src,t.duration),et(e)};return t?.duration?(u(t.src,t.duration),et(e)):t?.addEventListener("loadedmetadata",n,{once:!0}),()=>{t?.removeEventListener("loadedmetadata",n),et(e)}}),[$,u,S,h,w]),S?(0,o.jsx)("audio",{ref:r,...v}):null})),rt=(0,n.forwardRef)(((e,t)=>{const r=(0,n.useContext)(Ge),{startFrom:i,endAt:a,name:s,stack:u,pauseWhenBuffering:l,showInTimeline:c,_remotionDebugSeeking:m,...f}=e,{loop:p,...h}=e,{fps:w}=X(),y=d(),{durations:g,setDurations:b}=(0,n.useContext)(we);if("string"!==typeof e.src)throw new TypeError(`The \`<Audio>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const v=fe(e.src),E=(0,n.useCallback)((e=>{console.log(e.currentTarget.error);const t=`Could not play audio with src ${v}: ${e.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;p?ue(new Error(t)):console.warn(t)}),[p,v]),F=(0,n.useCallback)(((e,t)=>{b({type:"got-duration",durationInSeconds:t,src:e})}),[b]),T=g[ae(v)]??g[ae(e.src)];if(p&&void 0!==T){const r=T*w;return(0,o.jsx)(ce,{layout:"none",durationInFrames:se({endAt:a,mediaDuration:r,playbackRate:e.playbackRate??1,startFrom:i}),children:(0,o.jsx)(rt,{...h,ref:t,_remotionInternalNativeLoopPassed:!0})})}if("undefined"!==typeof i||"undefined"!==typeof a){he(i,a);const e=i??0,r=a??1/0;return(0,o.jsx)(oe,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:r,name:s,children:(0,o.jsx)(rt,{_remotionInternalNeedsDurationCalculation:Boolean(p),pauseWhenBuffering:l??!1,...f,ref:t})})}return pe(e,"Audio"),y.isRendering?(0,o.jsx)(tt,{onDuration:F,...e,ref:t,onError:E,_remotionInternalNeedsDurationCalculation:Boolean(p)}):(0,o.jsx)(Ke,{_remotionInternalNativeLoopPassed:e._remotionInternalNativeLoopPassed??!1,_remotionDebugSeeking:m??!1,_remotionInternalStack:u??null,shouldPreMountAudioTags:null!==r&&r.numberOfAudioTags>0,...e,ref:t,onError:E,onDuration:F,pauseWhenBuffering:l??!1,_remotionInternalNeedsDurationCalculation:Boolean(p),showInTimeline:c??!0})}));f(rt);(0,n.createContext)({folderName:null,parentName:null}),String(/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g),n.createRef();(0,n.forwardRef)(((e,t)=>{let{onLoad:r,onError:i,delayRenderRetries:a,delayRenderTimeoutInMilliseconds:s,...u}=e;const[d]=(0,n.useState)((()=>Xe(`Loading <IFrame> with source ${u.src}`,{retries:a??void 0,timeoutInMilliseconds:s??void 0}))),l=(0,n.useCallback)((e=>{et(d),r?.(e)}),[d,r]),c=(0,n.useCallback)((e=>{et(d),i?i(e):console.error("Error loading iframe:",e,"Handle the event using the onError() prop to make this message disappear.")}),[d,i]);return(0,o.jsx)("iframe",{...u,ref:t,onError:c,onLoad:l})}));(0,n.forwardRef)(((e,t)=>{let{onError:r,maxRetries:i=2,src:a,pauseWhenLoading:s,delayRenderRetries:u,delayRenderTimeoutInMilliseconds:d,onImageFrame:l,...c}=e;const m=(0,n.useRef)(null),f=(0,n.useRef)({}),{delayPlayback:p}=ke(),h=(0,n.useContext)(b);if(!a)throw new Error('No "src" prop was passed to <Img>.');(0,n.useImperativeHandle)(t,(()=>m.current),[]);const w=fe(a),y=(0,n.useCallback)((e=>{if(!m.current)return;const t=m.current.src;setTimeout((()=>{if(!m.current)return;const e=m.current?.src;e===t&&(m.current.removeAttribute("src"),m.current.setAttribute("src",e))}),e)}),[]),g=(0,n.useCallback)((e=>{if(f.current)if(f.current[m.current?.src]=(f.current[m.current?.src]??0)+1,r&&(f.current[m.current?.src]??0)>i)r(e);else{if((f.current[m.current?.src]??0)<=i){const e=1e3*2**((f.current[m.current?.src]??0)-1);return console.warn(`Could not load image with source ${m.current?.src}, retrying again in ${e}ms`),void y(e)}ue("Error loading image with src: "+m.current?.src)}}),[i,r,y]);if("undefined"!==typeof window){const e=Boolean(h?.premounting);(0,n.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;const t=Xe("Loading <Img> with src="+w,{retries:u??void 0,timeoutInMilliseconds:d??void 0}),r=s&&!e?p().unblock:()=>{},{current:n}=m,o=()=>{(f.current[m.current?.src]??0)>0&&(delete f.current[m.current?.src],console.info(`Retry successful - ${m.current?.src} is now loaded`)),n&&l?.(n),r(),et(t)},i=()=>{o()};return n?.complete?o():n?.addEventListener("load",i,{once:!0}),()=>{n?.removeEventListener("load",i),r(),et(t)}}),[w,p,u,d,s,e,l])}return(0,o.jsx)("img",{...c,ref:m,src:w,onError:g})}));var nt={};a(nt,{makeDefaultPreviewCSS:()=>st,injectCSS:()=>it,OFFTHREAD_VIDEO_CLASS_NAME:()=>at});var ot={},it=e=>{if("undefined"===typeof document)return;if(ot[e])return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.appendChild(document.createTextNode(e)),t.prepend(r),ot[e]=!0},at="__remotion_offthreadvideo",st=(e,t)=>e?`\n    ${e} * {\n      box-sizing: border-box;\n    }\n    ${e} *:-webkit-full-screen {\n      width: 100%;\n      height: 100%;\n    }\n    ${e} .${at} {\n      object-fit: contain;\n    }\n  `:`\n    * {\n      box-sizing: border-box;\n    }\n    body {\n      margin: 0;\n\t    background-color: ${t};\n    }\n    .${at} {\n      object-fit: contain;\n    }\n    `;n.createContext(null),(0,n.createContext)({setSize:()=>{},size:{size:"auto",translation:{x:0,y:0}}});var ut=(0,n.createContext)(!1),dt=e=>{let{children:t}=e;return(0,o.jsx)(ut.Provider,{value:!1,children:t})},lt=(0,n.forwardRef)(((e,t)=>{let{children:r}=e;return(()=>{if(!n.useContext(ut))throw new Error("This component must be inside a <Series /> component.")})(),(0,o.jsx)(dt,{children:r})}));f(lt);new Map;var ct=(0,n.forwardRef)(((e,t)=>{const r=(0,n.useRef)(null),{volume:i,muted:a,playbackRate:s,onlyWarnForMediaSeekingError:u,src:d,onDuration:l,acceptableTimeShift:c,acceptableTimeShiftInSeconds:m,toneFrequency:f,name:p,_remotionInternalNativeLoopPassed:h,_remotionInternalStack:w,_remotionDebugSeeking:y,style:g,pauseWhenBuffering:v,showInTimeline:F,loopVolumeCurveBehavior:T,onError:R,onAutoPlayError:C,onVideoFrame:x,crossOrigin:k,...I}=e,$=ve(T??"repeat"),{fps:S,durationInFrames:N}=X(),M=(0,n.useContext)(b),{hidden:P}=(0,n.useContext)(E),[_]=(0,n.useState)((()=>String(Math.random()))),D=P[_]??!1;if("undefined"!==typeof c)throw new Error("acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.");const A=qe(r),[L]=He(),[V]=Je();Ce({mediaRef:r,volume:i,mediaVolume:L,mediaType:"video",src:d,playbackRate:e.playbackRate??1,displayName:p??null,id:_,stack:w,showInTimeline:F,premountDisplay:null,onAutoPlayError:C??null}),Ye({volumePropFrame:$,actualVolume:A,volume:i,mediaVolume:L,mediaRef:r}),We({mediaRef:r,src:d,mediaType:"video",playbackRate:e.playbackRate??1,onlyWarnForMediaSeekingError:u,acceptableTimeshift:m??je,isPremounting:Boolean(M?.premounting),pauseWhenBuffering:v,debugSeeking:y,onAutoPlayError:C??null});const j=M?M.relativeFrom:0,B=M?Math.min(M.durationInFrames,N):N,W=Le({actualSrc:fe(d),actualFrom:j,duration:B,fps:S});(0,n.useImperativeHandle)(t,(()=>r.current),[]),(0,n.useEffect)((()=>{const{current:e}=r;if(!e)return;const t=()=>{if(e.error){if(console.error("Error occurred in video",e?.error),R){const t=new Error(`Code ${e.error.code}: ${e.error.message}`);return void R(t)}throw new Error(`The browser threw an error while playing the video ${d}: Code ${e.error.code} - ${e?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}if(!R)throw new Error("The browser threw an error while playing the video");{const e=new Error(`The browser threw an error while playing the video ${d}`);R(e)}};return e.addEventListener("error",t,{once:!0}),()=>{e.removeEventListener("error",t)}}),[R,d]);const q=(0,n.useRef)();q.current=l,(e=>{let{ref:t,onVideoFrame:r}=e;(0,n.useEffect)((()=>{const{current:e}=t;if(!e)return;if(!r)return;let n=0;const o=()=>{t.current&&(r(t.current),n=t.current.requestVideoFrameCallback(o))};return o(),()=>{e.cancelVideoFrameCallback(n)}}),[r,t])})({ref:r,onVideoFrame:x}),(0,n.useEffect)((()=>{const{current:e}=r;if(!e)return;if(e.duration)return void q.current?.(d,e.duration);const t=()=>{q.current?.(d,e.duration)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}),[d]),(0,n.useEffect)((()=>{const{current:e}=r;e&&(Pe()?e.preload="metadata":e.preload="auto")}),[]);const O=(0,n.useMemo)((()=>({...g,opacity:D?0:g?.opacity??1})),[D,g]),Y=k??(x?"anonymous":void 0);return(0,o.jsx)("video",{ref:r,muted:a||V,playsInline:!0,src:W,loop:h,style:O,disableRemotePlayback:!0,crossOrigin:Y,...I})})),mt=e=>Math.round(1e5*e)/1e5,ft=(e,t)=>{let r;e.currentTime=t;let n=null;const o=new Promise((t=>{r=e.requestVideoFrameCallback(((e,r)=>{const n=r.expectedDisplayTime-e;n<=0?t(r.mediaTime):setTimeout((()=>{t(r.mediaTime)}),n+150)}))})),i=new Promise((t=>{const r=()=>{t()};e.addEventListener("seeked",r,{once:!0}),n=()=>{e.removeEventListener("seeked",r)}}));return{wait:Promise.all([o,i]).then((e=>{let[t]=e;return t})),cancel:()=>{n?.(),e.cancelVideoFrameCallback(r)}}},pt=(0,n.forwardRef)(((e,t)=>{let{onError:r,volume:i,allowAmplificationDuringRender:a,playbackRate:s,onDuration:u,toneFrequency:l,name:c,acceptableTimeShiftInSeconds:m,delayRenderRetries:f,delayRenderTimeoutInMilliseconds:p,loopVolumeCurveBehavior:h,...w}=e;const y=J(),g=ee(),v=ve(h??"repeat"),E=Q(),F=(0,n.useRef)(null),T=(0,n.useContext)(b),R=be(),C=d(),{registerRenderAsset:x,unregisterRenderAsset:k}=(0,n.useContext)(ie),I=(0,n.useMemo)((()=>`video-${ge(w.src??"")}-${T?.cumulatedFrom}-${T?.relativeFrom}-${T?.durationInFrames}`),[w.src,T?.cumulatedFrom,T?.relativeFrom,T?.durationInFrames]);if(!E)throw new Error("No video config found");const $=Te({volume:i,frame:v,mediaVolume:1,allowAmplificationDuringRender:a??!1});(0,n.useEffect)((()=>{if(!w.src)throw new Error("No src passed");if(!w.muted&&!($<=0)&&window.remotion_audioEnabled)return x({type:"video",src:ae(w.src),id:I,frame:y,volume:$,mediaFrame:g,playbackRate:s??1,allowAmplificationDuringRender:a??!1,toneFrequency:l??null,audioStartFrame:Math.max(0,-(T?.relativeFrom??0))}),()=>k(I)}),[w.muted,w.src,x,I,k,$,g,y,s,a,l,T?.relativeFrom]),(0,n.useImperativeHandle)(t,(()=>F.current),[]),(0,n.useEffect)((()=>{if(!window.remotion_videoEnabled)return;const{current:e}=F;if(!e)return;const t=Ne({frame:g,playbackRate:s||1,startFrom:-R,fps:E.fps}),n=Xe(`Rendering <Video /> with src="${w.src}"`,{retries:f??void 0,timeoutInMilliseconds:p??void 0});if("test"===window.process?.env?.NODE_ENV)return void et(n);if(Oe(e.currentTime,t)){if(e.readyState>=2)return void et(n);const t=()=>{et(n)};return e.addEventListener("loadeddata",t,{once:!0}),()=>{e.removeEventListener("loadeddata",t)}}const o=()=>{et(n)},i=((e,t,r)=>{const n=1/r/2;let o=()=>{};return Number.isFinite(e.duration)&&e.currentTime>=e.duration&&t>=e.duration?{prom:Promise.resolve(),cancel:()=>{}}:{prom:new Promise(((r,i)=>{const a=ft(e,t+n);a.wait.then((a=>{if(Math.abs(t-a)<=n)return r();const s=ft(e,a+n*(t>a?1:-1));o=s.cancel,s.wait.then((a=>{const s=Math.abs(t-a);if(mt(s)<=mt(n))return r();const u=ft(e,t+n);return o=u.cancel,u.wait.then((()=>{r()})).catch((e=>{i(e)}))})).catch((e=>{i(e)}))})),o=a.cancel})),cancel:()=>{o()}}})(e,t,E.fps);i.prom.then((()=>{et(n)})),e.addEventListener("ended",o,{once:!0});const a=()=>{if(e?.error){if(console.error("Error occurred in video",e?.error),r)return;throw new Error(`The browser threw an error while playing the video ${w.src}: Code ${e.error.code} - ${e?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}throw new Error("The browser threw an error")};return e.addEventListener("error",a,{once:!0}),()=>{i.cancel(),e.removeEventListener("ended",o),e.removeEventListener("error",a),et(n)}}),[v,w.src,s,E.fps,g,R,r,f,p]);const{src:S}=w;return C.isRendering&&(0,n.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;const e=Xe("Loading <Video> duration with src="+S,{retries:f??void 0,timeoutInMilliseconds:p??void 0}),{current:t}=F,r=()=>{t?.duration&&u(S,t.duration),et(e)};return t?.duration?(u(S,t.duration),et(e)):t?.addEventListener("loadedmetadata",r,{once:!0}),()=>{t?.removeEventListener("loadedmetadata",r),et(e)}}),[S,u,f,p]),(0,o.jsx)("video",{ref:F,...w})})),ht=(0,n.forwardRef)(((e,t)=>{const{startFrom:r,endAt:i,name:a,pauseWhenBuffering:s,stack:u,_remotionInternalNativeLoopPassed:l,showInTimeline:c,onAutoPlayError:m,crossOrigin:f,...p}=e,{loop:h,_remotionDebugSeeking:w,...y}=e,{fps:g}=X(),b=d(),{durations:v,setDurations:E}=(0,n.useContext)(we);if("string"===typeof t)throw new Error("string refs are not supported");if("string"!==typeof e.src)throw new TypeError(`The \`<Video>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const F=fe(e.src),T=(0,n.useCallback)(((e,t)=>{E({type:"got-duration",durationInSeconds:t,src:e})}),[E]),R=(0,n.useCallback)((()=>{}),[]),C=v[ae(F)]??v[ae(e.src)];if(h&&void 0!==C){const n=C*g;return(0,o.jsx)(ce,{durationInFrames:se({endAt:i,mediaDuration:n,playbackRate:e.playbackRate??1,startFrom:r}),layout:"none",name:a,children:(0,o.jsx)(ht,{...y,ref:t,_remotionInternalNativeLoopPassed:!0})})}if("undefined"!==typeof r||"undefined"!==typeof i){he(r,i);const e=r??0,n=i??1/0;return(0,o.jsx)(oe,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:n,name:a,children:(0,o.jsx)(ht,{pauseWhenBuffering:s??!1,...p,ref:t})})}return pe(e,"Video"),b.isRendering?(0,o.jsx)(pt,{onDuration:T,onVideoFrame:R??null,...p,ref:t}):(0,o.jsx)(ct,{onlyWarnForMediaSeekingError:!1,...p,ref:t,onVideoFrame:null,pauseWhenBuffering:s??!1,onDuration:T,_remotionInternalStack:u??null,_remotionInternalNativeLoopPassed:l??!1,_remotionDebugSeeking:w??!1,showInTimeline:c??!0,onAutoPlayError:m??void 0,crossOrigin:f})}));f(ht),(()=>{if("undefined"===typeof globalThis)return;const e=globalThis.remotion_imported||"undefined"!==typeof window&&window.remotion_imported;if(e){if(e===y)return;throw new TypeError(`\ud83d\udea8 Multiple versions of Remotion detected: ${[y,"string"===typeof e?e:"an older version"].filter(w).join(" and ")}. This will cause things to break in an unexpected way.\nCheck that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \`npx remotion versions\` from your terminal to see which versions are mismatching.`)}globalThis.remotion_imported=y,"undefined"!==typeof window&&(window.remotion_imported=y)})();var wt=new Proxy({},{get:(e,t)=>"Bundling"===t||"Rendering"===t||"Log"===t||"Puppeteer"===t||"Output"===t?wt:()=>{console.warn("\u26a0\ufe0f  The CLI configuration has been extracted from Remotion Core."),console.warn("Update the import from the config file:"),console.warn(),console.warn("- Delete:"),console.warn('import {Config} from "remotion";'),console.warn("+ Replace:"),console.warn('import {Config} from "@remotion/cli/config";'),console.warn(),console.warn("For more information, see https://www.remotion.dev/docs/4-0-migration."),process.exit(1)}});f(oe)}}]);
//# sourceMappingURL=662166.04fd043a.chunk.js.map